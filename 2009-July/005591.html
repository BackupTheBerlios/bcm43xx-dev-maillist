<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Fwd: 4318 misbehaving with bleeding edge kernels
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2009-July/index.html" >
   <LINK REL="made" HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20Fwd%3A%204318%20misbehaving%20with%20bleeding%20edge%20kernels&In-Reply-To=%3C200907101131.41781.mb%40bu3sch.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005589.html">
   <LINK REL="Next"  HREF="005592.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Fwd: 4318 misbehaving with bleeding edge kernels</H1>
    <B>Michael Buesch</B> 
    <A HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20Fwd%3A%204318%20misbehaving%20with%20bleeding%20edge%20kernels&In-Reply-To=%3C200907101131.41781.mb%40bu3sch.de%3E"
       TITLE="Fwd: 4318 misbehaving with bleeding edge kernels">mb at bu3sch.de
       </A><BR>
    <I>Fri Jul 10 11:31:41 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="005589.html">4318 misbehaving with bleeding edge kernels
</A></li>
        <LI>Next message: <A HREF="005592.html">Fwd: 4318 misbehaving with bleeding edge kernels
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5591">[ date ]</a>
              <a href="thread.html#5591">[ thread ]</a>
              <a href="subject.html#5591">[ subject ]</a>
              <a href="author.html#5591">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
----------  Forwarded Message  ----------

Subject: 4318 misbehaving with bleeding edge kernels
Date: Friday 10 July 2009
From: Celejar &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">celejar at gmail.com</A>&gt;
To: bcm43xx-dev &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">bcm43xx-dev at lists.berlios.de</A>&gt;

Hi,

I have a 4318 (rev 02), which has been working fine with b43.
Recently, with 2.6.31-rc2 kernels from the wireless-testing git repo,
I've been having trouble.  Sometimes the card simply fails to associate
after doing 'iwconfig eth0 essid xxxx'.  It doesn't even seem to try;
i.e., when it does associate, I see log entries like these:

Jul 10 02:25:19 lizzie kernel: [  318.302652] eth0: direct probe to AP 00:1a:70:f5:76:7e (try 1)
Jul 10 02:25:19 lizzie kernel: [  318.310396] eth0 direct probe responded
Jul 10 02:25:19 lizzie kernel: [  318.310401] eth0: authenticate with AP 00:1a:70:f5:76:7e (try 1)
Jul 10 02:25:19 lizzie kernel: [  318.312273] eth0: authenticated
Jul 10 02:25:19 lizzie kernel: [  318.510040] eth0: associate with AP 00:1a:70:f5:76:7e (try 1)
Jul 10 02:25:19 lizzie kernel: [  318.511947] eth0: RX AssocResp from 00:1a:70:f5:76:7e (capab=0x401 status=0 aid=1)
Jul 10 02:25:19 lizzie kernel: [  318.511952] eth0: associated
Jul 10 02:25:19 lizzie kernel: [  318.513218] ADDRCONF(NETDEV_CHANGE): eth0: link becomes ready

but often I see nothing in the logs at all, and iwconfig shows
&quot;Not-associated&quot;.  I just keep repeating the 'iwconfig eth0 essid xxxx'
command until it finally takes, and then the connection seems to behave
normally.  When the card is not functioning, trying 'iwlist eth0 scan'
initially gives:

~# iwlist eth0 scan
eth0      Failed to read scan data : Resource temporarily unavailable

and subsequent invocations, when the card is still not working, gives:

~# iwlist eth0 scan
eth0      Interface doesn't support scanning : Device or resource busy

When the card resumes functioning, scanning works correctly.

I have tried both the old and new firmware, with similar results.  Any
ideas?

From lspci -v:

06:02.0 Network controller: Broadcom Corporation BCM4318 [AirForce One 54g] 802.11g Wireless LAN Controller (rev 02)
	Subsystem: AMBIT Microsystem Corp. TravelMate 2410
	Flags: bus master, fast devsel, latency 64, IRQ 22
	Memory at d0002000 (32-bit, non-prefetchable) [size=8K]
	Kernel driver in use: b43-pci-bridge

uname -a:

Linux lizzie 2.6.31-rc2-wl-lizzie-27873-ga483c23-dirty #4 Thu Jul 9 19:13:30 EDT 2009 i686 GNU/Linux

Celejar
--
mailmin.sourceforge.net - remote access via secure (OpenPGP) email
ssuds.sourceforge.net - A Simple Sudoku Solver and Generator

_______________________________________________
Bcm43xx-dev mailing list
<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">Bcm43xx-dev at lists.berlios.de</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">https://lists.berlios.de/mailman/listinfo/bcm43xx-dev</A>


-------------------------------------------------------

-- 
Greetings, Michael.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005589.html">4318 misbehaving with bleeding edge kernels
</A></li>
	<LI>Next message: <A HREF="005592.html">Fwd: 4318 misbehaving with bleeding edge kernels
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5591">[ date ]</a>
              <a href="thread.html#5591">[ thread ]</a>
              <a href="subject.html#5591">[ subject ]</a>
              <a href="author.html#5591">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">More information about the Bcm43xx-dev
mailing list</a><br>
</body></html>
