<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Improved opensource firmware
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2009-July/index.html" >
   <LINK REL="made" HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20Improved%20opensource%20firmware&In-Reply-To=%3CA4536D29-0F24-4258-A78A-F2157F5F9B4C%40ing.unibs.it%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005610.html">
   <LINK REL="Next"  HREF="005613.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Improved opensource firmware</H1>
    <B>Francesco Gringoli</B> 
    <A HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20Improved%20opensource%20firmware&In-Reply-To=%3CA4536D29-0F24-4258-A78A-F2157F5F9B4C%40ing.unibs.it%3E"
       TITLE="Improved opensource firmware">francesco.gringoli at ing.unibs.it
       </A><BR>
    <I>Thu Jul 23 17:18:24 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="005610.html">Improved opensource firmware
</A></li>
        <LI>Next message: <A HREF="005613.html">Improved opensource firmware
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5612">[ date ]</a>
              <a href="thread.html#5612">[ thread ]</a>
              <a href="subject.html#5612">[ subject ]</a>
              <a href="author.html#5612">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Jul 23, 2009, at 11:18 AM, Michael Buesch wrote:

&gt;<i> On Thursday 23 July 2009 04:05:17 Larry Finger wrote:
</I>&gt;&gt;<i> Francesco Gringoli wrote:
</I>&gt;&gt;&gt;<i> Larry, I think this could be one of the causes of the  
</I>&gt;&gt;&gt;<i> malfunctioning you
</I>&gt;&gt;&gt;<i> reported before. If you have some time (and indeed if you feel like
</I>&gt;&gt;&gt;<i> doing it :-) ) please test this firmware, it will be great.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Francesco,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The system ran about 30 minutes, then crashed. I missed the first
</I>&gt;&gt;<i> oops, but caught a kernel panic with formal traceback on my i386  
</I>&gt;&gt;<i> system:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> b43_dma_handle_txstatus + 0x1ee/0x2fa
</I>&gt;&gt;<i> b43_handle_txstatus + 0x45/0x52
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The call in b43_dma_handle_status is at line 1405:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> unmap_descbuffer(ring, meta-&gt;dmaaddr, meta-&gt;skb-&gt;len,
</I>&gt;&gt;<i>                 1);
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The oops was in drivers/net/wireless/b43/xmit.h:171 in the call to
</I>&gt;&gt;<i> b43_is_old_txhdr_format(). It appears that dev-&gt;fw.rev causes the  
</I>&gt;&gt;<i> oops.
</I>&gt;<i>
</I>&gt;<i> How is that possible? Is the firmware clobbering random memory?
</I>
I don't think that the value was modified by the firmware. It cannot  
poke values into host memory ;-) I suppose that the issue on pccard32  
hardware is not yet solved. I will get a closer look at how the  
overflow condition should be handled correctly when reporting txstatus  
to host.

Cheers,
-Francesco



&quot;INFORMATIVA SUL TRATTAMENTO DEI DATI PERSONALI&quot;

I dati utilizzati per l'invio del presente messaggio sono trattati dall' Universita' degli
studi di Brescia esclusivamente per finalita' istituzionali. Informazioni piu' dettagliate
anche in ordine ai diritti dell'interessato sono riposte nell'informativa generale e nelle
notizie pubblicate sul sito web dell'Ateneo nella sezione &quot;privacy&quot;.

Il contenuto di questo messaggio e' rivolto unicamente alle persone cui e' indirizzato e puo'
contenere informazioni la cui riservatezza e' tutelata legalmente. Ne sono vietati la
riproduzione, la diffusione e l'uso in mancanza di autorizzazione del destinatario.
Qualora il messaggio fosse pervenuto per errore, preghiamo di eliminarlo.



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005610.html">Improved opensource firmware
</A></li>
	<LI>Next message: <A HREF="005613.html">Improved opensource firmware
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5612">[ date ]</a>
              <a href="thread.html#5612">[ thread ]</a>
              <a href="subject.html#5612">[ subject ]</a>
              <a href="author.html#5612">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">More information about the Bcm43xx-dev
mailing list</a><br>
</body></html>
