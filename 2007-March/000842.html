<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> combined on 2.6.20.3
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2007-March/index.html" >
   <LINK REL="made" HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20combined%20on%202.6.20.3&In-Reply-To=%3C200703222057.22530.mb%40bu3sch.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000834.html">
   <LINK REL="Next"  HREF="000833.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>combined on 2.6.20.3</H1>
    <B>Michael Buesch</B> 
    <A HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20combined%20on%202.6.20.3&In-Reply-To=%3C200703222057.22530.mb%40bu3sch.de%3E"
       TITLE="combined on 2.6.20.3">mb at bu3sch.de
       </A><BR>
    <I>Thu Mar 22 20:57:22 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000834.html">combined on 2.6.20.3
</A></li>
        <LI>Next message: <A HREF="000833.html">combined on 2.6.20.3
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#842">[ date ]</a>
              <a href="thread.html#842">[ thread ]</a>
              <a href="subject.html#842">[ subject ]</a>
              <a href="author.html#842">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thursday 22 March 2007 20:35, Larry Finger wrote:
&gt;<i> Michael Buesch wrote:
</I>&gt;<i> &gt; On Thursday 22 March 2007 13:58, John W. Linville wrote:
</I>&gt;<i> &gt;&gt; Why?  What value do you predict in having an out-of-tree softmac
</I>&gt;<i> &gt;&gt; version available?  Would that effort be better spent on improving
</I>&gt;<i> &gt;&gt; the in-tree mac80211 version?
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Once mac80211 is merged we probaby need a (out of tree?) fork of the
</I>&gt;<i> &gt; bcm43xx-softmac to support old 802.11b cards. The new driver can't
</I>&gt;<i> &gt; support this anymore (issues with firmware. It's simply too hard
</I>&gt;<i> &gt; to support both architectures in one driver).
</I>&gt;<i> &gt; We could probably still leave a stripped down bcm43xx-softmac
</I>&gt;<i> &gt; in the kernel, though that would require for softmac to stay there, too.
</I>&gt;<i> &gt; I lean towards doing an out of tree tarball to get the legacy stuff
</I>&gt;<i> &gt; out of the main kernel tree. Larry, some opinion?
</I>&gt;<i> 
</I>&gt;<i> To me, continuing support of 802.11b cards is a given.
</I>&gt;<i> 
</I>&gt;<i> Knowing that there are problems with SoftMAC that will never be fixed, I think it should be removed
</I>&gt;<i> from the kernel. Leaving it there would encourage its use and give the wrong impression. I have no
</I>&gt;<i> problems with my continuing to support an out-of-tree version. Of course, I hope that the number of
</I>&gt;<i> API and ABI breakages would be minimal. To my knowledge, the current code base provides close to
</I>&gt;<i> optimal performance with the 802.11b cards. Of course, there is only one in our data base and they
</I>&gt;<i> are not that abundant.
</I>&gt;<i> 
</I>&gt;<i> Pavel clearly favors an out-of-tree solution over a patch set to add bcm43xx-softmac back into a
</I>&gt;<i> source tree. That is OK with me.
</I>&gt;<i> 
</I>&gt;<i> Developing a V3 firmware driver for 802.11b devices doesn't seem to be viable. From what I see in
</I>&gt;<i> the latest versions of the specifications, support for 802.11b devices is disappearing from the
</I>&gt;<i> Broadcom drivers. Thus, I think a standalone bcm43xx-softmac solution would be best.
</I>
Ok, nice.
So what if you start to prepare such an out-of-tree tarball?
Such a tarball would:
- Contain softmac code.
- bcm43xx-sm code.
- Makefiles to build all these as modules against the installed kernel.
- Probably some compatibility stuff to make it compile against older kernels.
- Would have all A and G devices ripped out of the PCI device ID list (important!)

Besides that I would _not_ remove all A and G code (phy code and stuff),
as that introduces a too high risk of breaking things for so little gain (slightly
smaller module).

You can look at the old SVN repository on berlios to get a Makefile
for out-of-tree build for the driver.

I think softmac and bcm43xx-sm should be in one tarball and should be built
together with one make invocation. Just &quot;melt&quot; the codebases together. :)

Ah, and yeah. There is the issue of symbol clashes with bcm43xx-mac80211.
Is that an issue when built modular? We should make life of distributors
easy by allowing both bcm43xx-sm and bcm43xx-mac80211 be loaded at the
same time.

Does that sound reasonable? Or should I do it?

-- 
Greetings Michael.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000834.html">combined on 2.6.20.3
</A></li>
	<LI>Next message: <A HREF="000833.html">combined on 2.6.20.3
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#842">[ date ]</a>
              <a href="thread.html#842">[ thread ]</a>
              <a href="subject.html#842">[ subject ]</a>
              <a href="author.html#842">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">More information about the Bcm43xx-dev
mailing list</a><br>
</body></html>
