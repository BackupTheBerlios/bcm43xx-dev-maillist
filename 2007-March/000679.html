<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Current state of bcm43xx-softmac
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2007-March/index.html" >
   <LINK REL="made" HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20Current%20state%20of%20bcm43xx-softmac&In-Reply-To=%3C45EC46FB.9060904%40lwfinger.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000692.html">
   <LINK REL="Next"  HREF="000700.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Current state of bcm43xx-softmac</H1>
    <B>Larry Finger</B> 
    <A HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20Current%20state%20of%20bcm43xx-softmac&In-Reply-To=%3C45EC46FB.9060904%40lwfinger.net%3E"
       TITLE="Current state of bcm43xx-softmac">Larry.Finger at lwfinger.net
       </A><BR>
    <I>Mon Mar  5 17:36:11 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000692.html">Pull the patch sent under heading &quot;[PATCH] bcm43xx: Fix typo	in B5PHY init specifications&quot;
</A></li>
        <LI>Next message: <A HREF="000700.html">Current state of bcm43xx-softmac
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#679">[ date ]</a>
              <a href="thread.html#679">[ thread ]</a>
              <a href="subject.html#679">[ subject ]</a>
              <a href="author.html#679">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>As many of you know, my old laptop that I was using to test PCMCIA versions of the bcm43xx hardware
died a few weeks ago. Thanks to the generosity of the contributors to the project, I was able to
replace it with a modest computer purchased on EBay. It is an M-Tech eSlate 400k, which has an AMD
450 MHz CPU and arrived with a 4 GB hard drive with Windows 98. Using parts salvaged from my old
computer, I was able to bring the memory up to 256 MB, the maximum supported by the motherboard, and
it now has a 100 GB hard drive. I loaded openSUSE 10.2 on the machine and downloaded the
wireless-2.6 git tree. The machine is slower than the CPU speed would indicate; however, it gets the
job done.

I now have 3 different versions of the bcm43xx hardware to test. The chip models and pertinent
revisions are as follows:

1. BCM4306 Rev 2 with PHY Analog 1 Rev 2 and 2050 Radio Rev 2. (PCMCIA)
2. BCM4318 Rev 2 with PHY Analog 3 Rev 7 and 2050 Radio Rev 8. (PCMCIA)
3. BCM4311 Rev 1 with PHY Analog 4 Rev 8 and 2050 Radio Rev 2. (mini-PCIe card)

Performance testing is accomplished using Iperf with the server connected to my Linksys WRT54G V5
AP/router via a 100 BaseTX wired connection. If I boot Windows XP and run Iperf from it, I get 19.5
Mbs reported. As the Iperf results show considerable jitter, I always run at least 5 trials and
report the maximum. The distance from my test computer to the AP is approximately 2m. All bcm43xx
tests were done with the latest patches applied.

Each interface was tested at rates set from 11 to 48 Mbs with the resulting measured transmission
rate show below:

Rate Set	11	18	24	36	48
----------------------------------------------------
4306		4.65	3.34	6.64	3.48	2.34
4318		6.12	9.86	11.8	14.6	16.2
4311		5.83	9.19	10.8	12.9	3.08

The improvement over a couple of weeks ago is remarkable. The latest tweaks to the specifications
have been very beneficial. Thanks again to Joe Jezak. Note that the 4318, which used to have the
worst performance, is now clipping along with performance more than 80% of the Windows driver
written with full access to the hardware specs. The old 4306 with a PHY Rev 1 still needs the most work.

A second part of my test procedure is to use a Wi-Spy 2.4 GHz spectrum analyzer
(<A HREF="http://metageek.net">http://metageek.net</A>) and their Chanalyzer 2.0 software to look at the output from the various
radios at a distance of about 1.8 m. The results show the following:

Card		Amplitude at 1.8 m with rate=24 Mbs
---------------------------------------------------
4306		-50 to -60 dBm
4318		-60 to -70 dBm
4311		-55 to -65 dBm

I'm surprised that amplitude of signal does not correlate with performance; however, the 4311
amplitude does diminish a lot at the 48 Mbs rate, which probably explains the falloff in performance
at that rate. In addition, the 4306 showed a much poorer separation of the individual subchannels in
the spectrum.

Larry

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000692.html">Pull the patch sent under heading &quot;[PATCH] bcm43xx: Fix typo	in B5PHY init specifications&quot;
</A></li>
	<LI>Next message: <A HREF="000700.html">Current state of bcm43xx-softmac
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#679">[ date ]</a>
              <a href="thread.html#679">[ thread ]</a>
              <a href="subject.html#679">[ subject ]</a>
              <a href="author.html#679">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">More information about the Bcm43xx-dev
mailing list</a><br>
</body></html>
