<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> initial value extraction
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2007-March/index.html" >
   <LINK REL="made" HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20initial%20value%20extraction&In-Reply-To=%3C1175290002.23438.24.camel%40johannes.berg%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000904.html">
   <LINK REL="Next"  HREF="000906.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>initial value extraction</H1>
    <B>Johannes Berg</B> 
    <A HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20initial%20value%20extraction&In-Reply-To=%3C1175290002.23438.24.camel%40johannes.berg%3E"
       TITLE="initial value extraction">johannes at sipsolutions.net
       </A><BR>
    <I>Fri Mar 30 23:26:42 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000904.html">initial value extraction
</A></li>
        <LI>Next message: <A HREF="000906.html">initial value extraction
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#905">[ date ]</a>
              <a href="thread.html#905">[ thread ]</a>
              <a href="subject.html#905">[ subject ]</a>
              <a href="author.html#905">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, 2007-03-30 at 23:19 +0200, Michael Buesch wrote:

&gt;<i> Ok, what's actually done in the initvals _exactly_?
</I>&gt;<i> Does someone have a complete and exact summary?
</I>&gt;<i> All I know is that it's stuff dependent on the loaded
</I>&gt;<i> microcode and the running core revision.
</I>
Well. Saying it exactly would require a few pages worth of email ;)

Basically all the initial values do is hit registers and set various
things. For example, they'll set the RXE copy length register and the
RXE copy offset register. SHM core revision, then they program the FIFO
sizes (also up on the registers spec page). A few other FIFO parameters
are programmed, TXE template masks set...

The initial values also program the SHM layout, i.e. that key offset
pointer, a whole bunch of SHM values are set for the microcode (even
some that my disassembler doesn't handle yet meaning they might not even
be used). Finally, it sets all the microcode registers to some
pre-defined values (some of the registers are assigned special meaning
by convention, see <A HREF="http://bcm-v4.sipsolutions.net/802.11/ObjectMemory">http://bcm-v4.sipsolutions.net/802.11/ObjectMemory</A>

&gt;<i> Btw, I also added some mechanism to define and generate initvals
</I>&gt;<i> to bcm43xx-asm. I think the initvals are useful and we want
</I>&gt;<i> them in future, too. Even with possible free microcode.
</I>
Yeah.

&gt;<i> Any comments on this implementation are desired, too.
</I>
Seems sane to me. a &quot;reg&quot; primitive would be good too, and I don't think
PHY or radio registers are required (not that they hurt).

&gt;<i> Currently there's mechanism to define several sets of initvals
</I>&gt;<i> (several sets for, for example, several different core revisions)
</I>&gt;<i> in the microcode assembly file.
</I>
:<i>)
</I>
johannes
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 190 bytes
Desc: This is a digitally signed message part
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/bcm43xx-dev/attachments/20070330/77c5c8d1/attachment.pgp">https://lists.berlios.de/pipermail/bcm43xx-dev/attachments/20070330/77c5c8d1/attachment.pgp</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000904.html">initial value extraction
</A></li>
	<LI>Next message: <A HREF="000906.html">initial value extraction
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#905">[ date ]</a>
              <a href="thread.html#905">[ thread ]</a>
              <a href="subject.html#905">[ subject ]</a>
              <a href="author.html#905">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">More information about the Bcm43xx-dev
mailing list</a><br>
</body></html>
