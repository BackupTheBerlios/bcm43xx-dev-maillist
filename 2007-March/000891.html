<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> A new script for bcm43xx performance testing and some results
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2007-March/index.html" >
   <LINK REL="made" HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20A%20new%20script%20for%20bcm43xx%20performance%20testing%20and%20some%20results&In-Reply-To=%3C460B54FA.5050103%40lwfinger.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000898.html">
   <LINK REL="Next"  HREF="000893.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>A new script for bcm43xx performance testing and some results</H1>
    <B>Larry Finger</B> 
    <A HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20A%20new%20script%20for%20bcm43xx%20performance%20testing%20and%20some%20results&In-Reply-To=%3C460B54FA.5050103%40lwfinger.net%3E"
       TITLE="A new script for bcm43xx performance testing and some results">Larry.Finger at lwfinger.net
       </A><BR>
    <I>Thu Mar 29 07:56:10 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000898.html">[PATCH] bcm43xx: Change initialization for 2050 radios
</A></li>
        <LI>Next message: <A HREF="000893.html">A new script for bcm43xx performance testing and some results
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#891">[ date ]</a>
              <a href="thread.html#891">[ thread ]</a>
              <a href="subject.html#891">[ subject ]</a>
              <a href="author.html#891">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Attached is a new script for testing network performance. Rather than measuring the transfer rate
to/from an Iperf server, this Perl script measures transmit and receive rates by transferring a file
from the computer under test to a mounted NFS system and back. The file on the destination is
deleted before the transfer is begun to avoid (as much as possible) any effects of caching.

For this test, I used my trusty server that is attached to the router by a 100BaseTX wired
connection. Both wireless and wired connections were as free of other traffic as possible. I tested
3 different BCM chips as before. The results are stated in KB/s, where 1KB = 1024 B. The first
number is for transmit, the second for receive. The file used for these tests is roughly 3 MB.

Wireless Rate    BCM4306 ver 2       BCM4318 ver 3        BCM4311
========================================================================

 6 Mbs           297.2 /  727.0      366.8 / 1798.2       370.9 / 1497.3
 9 Mbs           415.0 /  555.3      458.1 / 1821.9       461.1 / 1628.5
11 Mbs           436.4 /  673.6      470.7 / 1526.4       481.2 / 1411.9
18 Mbs           563.2 /  752.7      624.6 / 2006.0       566.5 / 1337.6
24 Mbs           595.8 /  718.9      681.7 / 1481.9       692.1 / 1688.2
36 Mbs           653.9 /  712.9      749.4 / 1504.2       751.0 / 1445.0
48 Mbs           681.2 /  716.6      518.9 / 1674.6       352.5 / 1509.7

The receive speeds are considerably higher than the results for transmit. I interpret this to mean
that the AP is sending as fast as it thinks is reliable, and the only effect of the Mbs rate is in
the transmission of the ACK's. In addition, there are fewer parameters that need to be set for the
receiver than for the transmitter. The jitter in the receive rate probably indicates the reliability
of these numbers. Performance of the early BCM4306 is worst with the 4318 and 4311 roughly
comparable, although the 4318 is much better at the 48 Mbs rate. It even works with a 54 Mbs setting.

The patch posted today under the subject &quot;[PATCH] bcm43xx: Change initialization for 2050 radios&quot;
improves these numbers by a factor of two or more, particularly for the 4306.

Larry
-------------- next part --------------
A non-text attachment was scrubbed...
Name: file_test.pl
Type: application/x-perl
Size: 3504 bytes
Desc: not available
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/bcm43xx-dev/attachments/20070329/36fcb0b0/attachment.bin">https://lists.berlios.de/pipermail/bcm43xx-dev/attachments/20070329/36fcb0b0/attachment.bin</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000898.html">[PATCH] bcm43xx: Change initialization for 2050 radios
</A></li>
	<LI>Next message: <A HREF="000893.html">A new script for bcm43xx performance testing and some results
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#891">[ date ]</a>
              <a href="thread.html#891">[ thread ]</a>
              <a href="subject.html#891">[ subject ]</a>
              <a href="author.html#891">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">More information about the Bcm43xx-dev
mailing list</a><br>
</body></html>
