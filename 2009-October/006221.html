<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Poor hostapd work with newer driver
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2009-October/index.html" >
   <LINK REL="made" HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20Poor%20hostapd%20work%20with%20newer%20driver&In-Reply-To=%3C4ADE5AEC.1070507%40list.ru%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006217.html">
   <LINK REL="Next"  HREF="006218.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Poor hostapd work with newer driver</H1>
    <B>_vi at list.ru</B> 
    <A HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20Poor%20hostapd%20work%20with%20newer%20driver&In-Reply-To=%3C4ADE5AEC.1070507%40list.ru%3E"
       TITLE="Poor hostapd work with newer driver">_vi at list.ru
       </A><BR>
    <I>Wed Oct 21 02:50:52 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="006217.html">Poor hostapd work with newer driver
</A></li>
        <LI>Next message: <A HREF="006218.html">ssb problem on ar71xx ubiquiti routerstation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6221">[ date ]</a>
              <a href="thread.html#6221">[ thread ]</a>
              <a href="subject.html#6221">[ subject ]</a>
              <a href="author.html#6221">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Additional information:

04:00.0 0280: 14e4:4311 (rev 01)
        Subsystem: 1468:0422
        Control: I/O+ Mem+ BusMaster+ SpecCycle- MemWINV- VGASnoop- 
ParErr- Stepping- SERR+ FastB2B- DisINTx-
        Status: Cap+ 66MHz- UDF- FastB2B- ParErr- DEVSEL=fast &gt;TAbort- 
&lt;TAbort- &lt;MAbort- &gt;SERR- &lt;PERR- INTx-
        Latency: 0, Cache Line Size: 64 bytes
        Interrupt: pin A routed to IRQ 17
        Region 0: Memory at f8000000 (32-bit, non-prefetchable) [size=16K]
        Capabilities: [40] Power Management version 2
                Flags: PMEClk- DSI- D1+ D2+ AuxCurrent=375mA 
PME(D0-,D1-,D2-,D3hot-,D3cold-)
                Status: D0 PME-Enable- DSel=0 DScale=2 PME-
        Capabilities: [58] Message Signalled Interrupts: Mask- 64bit- 
Queue=0/0 Enable-
                Address: 00000000  Data: 0000
        Capabilities: [d0] Express (v1) Legacy Endpoint, MSI 00
                DevCap: MaxPayload 128 bytes, PhantFunc 0, Latency L0s 
&lt;4us, L1 unlimited
                        ExtTag+ AttnBtn- AttnInd- PwrInd- RBE- FLReset-
                DevCtl: Report errors: Correctable- Non-Fatal- Fatal- 
Unsupported-
                        RlxdOrd- ExtTag- PhantFunc- AuxPwr- NoSnoop-
                        MaxPayload 128 bytes, MaxReadReq 128 bytes
                DevSta: CorrErr- UncorrErr- FatalErr- UnsuppReq- AuxPwr+ 
TransPend-
                LnkCap: Port #0, Speed 2.5GT/s, Width x1, ASPM L0s, 
Latency L0 &lt;4us, L1 &lt;64us
                        ClockPM- Suprise- LLActRep- BwNot-
                LnkCtl: ASPM Disabled; RCB 64 bytes Disabled- Retrain- 
CommClk+
                        ExtSynch- ClockPM- AutWidDis- BWInt- AutBWInt-
                LnkSta: Speed 2.5GT/s, Width x1, TrErr- Train- SlotClk+ 
DLActive- BWMgmt- ABWMgmt-
        Capabilities: [100] Advanced Error Reporting &lt;?&gt;
        Capabilities: [13c] Virtual Channel &lt;?&gt;
        Kernel driver in use: b43-pci-bridge
        Kernel modules: ssb

No encryption.

$ git log --pretty=oneline 320a4ec -- drivers/net/wireless/b43 | head -n 
20 # New, don't work well
12952a35b99c10fb2c1b9aa2777d5deafc6b3f8a Revert &quot;Merge branch 'gc-linux' 
of <A HREF="git://zen-sources.org/zen/zen">git://zen-sources.org/zen/zen</A> into master-testing&quot;
6eb27b42cea3efe5c553c347c67a9ebc862a6c9f Revert &quot;Merge branch 'gc-linux' 
into master-2.6.31&quot;
cbc7796b1dca47192b95b667c208627440b4c44f b43: use PIO instead of DMA for 
SDIO devices
fe066228b79f6a888b4ffe7391611e7290952ede b43: fix compilation error when 
CONFIG_B43_SDIO is disabled
e8b1516fbb6988a49889710b683fd8e369a10f44 b43: B43_SDIO should select 
SB_SDIOHOST and depend on SSB_SDIOHOST_POSSIBLE
2f74cccda1098bd2f74c1a6ff02158c2f5fb2696 b43: fix merge errors
39237140cbe0c77607b0e1dd83bba95edc145cc1 b43: add support for sdio based 
cards
b8f2f491c0bfc6edb134247e6f7934529c167b36 b43: remove wrong 
probe_resp_plcp write
0e5b77bfb27aa749bb14d143ecb275a397571494 b43: Fix unaligned 32bit 
SHM-shared access
cff782cd94df7adea84af6aa9516c8088f7ea950 b43: Add support for 4318E
fd4973c56f8d9baac8d269791a90e5119ce30a0e b43/b43legacy: fix radio LED 
initialization
403a3a136122457165321e90b7569a321cc9ac12 b43: Add fw capabilities
f41f3f373dd72344c65d801d6381fe83ef3a2c54 b43/legacy: port to cfg80211 rfkill
b52a033c2c501a8015df3727a4bd73389ccb1641 b43: Fix possible unaligned u32 
access
19d337dff95cbf76edd3ad95c0cee2732c3e1ec5 rfkill: rewrite
e31a16d6f64ef0e324c6f54d5112703c3f13a9c4 wireless: move some utility 
functions from mac80211 to cfg80211
3f0d843b5c94be824c2027f01348f360958e5542 b43/legacy: fix beacon change 
processing
2d0ddec5b2b859f06116f631fc0ffe94fbceb556 mac80211: unify 
config_interface and bss_info_changed
57c4d7b4c4986037be51476b8e3025d5ba18d8b8 mac80211: clean up beacon 
interval settings
137907287789607f2a2586ad625e7b8c646b3425 b43: Remove unnecessary MMIO in 
interrupt hotpath

$ git log --pretty=oneline c7099db -- drivers/net/wireless/b43 | head -n 
20 # Old, works well
3850d27fcd35906bdc25139388593c8587657dc9 Revert &quot;Merge branch 'master' 
of <A HREF="git://git.kernel.org/pub/scm/linux/kernel/git/linville/wireless-testing">git://git.kernel.org/pub/scm/linux/kernel/git/linville/wireless-testing</A>&quot;
ebfea807f9dacff6e67f46f662a630ee6c6ecca8 b43: Add fw capabilities
9227bc5114139cc0b2269407f7c87bd48408f0fd b43/legacy: port to cfg80211 rfkill
d40c73599578b42a7c2a8aff96b853204a4a0633 b43: Fix possible unaligned u32 
access
83fd92f9bc04fbfc3cd6fd307f57b787b0dc089c rfkill: rewrite
d037736a02b68e3bad31db0af26b4b5178f20e57 wireless: move some utility 
functions from mac80211 to cfg80211
826d42c88aec8cd2193a4de88a67dda6de4deb77 b43/legacy: fix beacon change 
processing
f8b34c4c5947edf5ac1e22b6fb46b580f226f83c mac80211: unify 
config_interface and bss_info_changed
655c9528afe597ef7a885d4d9b809e5c1e26222e mac80211: clean up beacon 
interval settings
e352b93739f7532bb9cea7e720d468723b9521c0 b43: Remove unnecessary MMIO in 
interrupt hotpath
c5fd13165771d179377cbb4abfc662c6db3cf399 b43: Do not &quot;select&quot; HW_RANDOM
4b386e7b098bbf70c2c2d343c54e2a3f87620311 rfkill: remove user_claim stuff
b25cce469689730ca750947e2c91283bc8468343 Revert &quot;rfkill: remove 
user_claim stuff&quot;
7ed6bfade6dc9a458bd06a3ae6a04f4e80b4576d Revert &quot;b43: Do not &quot;select&quot; 
HW_RANDOM&quot;
cbb21139a2d431f36206e4105c3ccb452185e72d Revert &quot;b43: Remove unnecessary 
MMIO in interrupt hotpath&quot;
7ebc1056704c23d0d8b22d1cc27ac26e9626d3e0 Revert &quot;mac80211: clean up 
beacon interval settings&quot;
b06e49b4bdac9394ffeb5764f6cd7e79e70cab71 Revert &quot;mac80211: unify 
config_interface and bss_info_changed&quot;
d7385e27d2f65bf921eaa3fc4182b01497533779 Revert &quot;b43/legacy: fix beacon 
change processing&quot;
e62b401e9d4935dfd3324e310ef8938f7b0cefc5 Revert &quot;wireless: move some 
utility functions from mac80211 to cfg80211&quot;
5f7a4cc97a975e48e5f30d47cb62dcf9d82ad067 Revert &quot;rfkill: rewrite&quot;


<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">_vi at list.ru</A> wrote:
&gt;<i> 2.6.30-zen2-31270-gc7099db-dirty - works well.
</I>&gt;<i> 2.6.31-zen3-07782-g320a4ec - hostapd works bad, especially with 
</I>&gt;<i> multiple clients.
</I>&gt;<i> earlier 2.6.31 also works bad.
</I>&gt;<i>
</I>&gt;<i> Client mode works OK with newer kernels.
</I>&gt;<i>
</I>&gt;<i> Should I prepare and send additional information or try to bisect the 
</I>&gt;<i> problem?
</I>&gt;<i>    (It is not easy because of when my hostapd is used to provide 
</I>&gt;<i> connection for multiple clients, experiments are discouraged).
</I>&gt;<i>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006217.html">Poor hostapd work with newer driver
</A></li>
	<LI>Next message: <A HREF="006218.html">ssb problem on ar71xx ubiquiti routerstation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6221">[ date ]</a>
              <a href="thread.html#6221">[ thread ]</a>
              <a href="subject.html#6221">[ subject ]</a>
              <a href="author.html#6221">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">More information about the Bcm43xx-dev
mailing list</a><br>
</body></html>
