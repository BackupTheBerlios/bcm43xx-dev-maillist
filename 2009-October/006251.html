<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> b43 fatal DMA errors
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2009-October/index.html" >
   <LINK REL="made" HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20b43%20fatal%20DMA%20errors&In-Reply-To=%3C4AE4D634.7060107%40lwfinger.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006250.html">
   <LINK REL="Next"  HREF="006252.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>b43 fatal DMA errors</H1>
    <B>Larry Finger</B> 
    <A HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20b43%20fatal%20DMA%20errors&In-Reply-To=%3C4AE4D634.7060107%40lwfinger.net%3E"
       TITLE="b43 fatal DMA errors">Larry.Finger at lwfinger.net
       </A><BR>
    <I>Sun Oct 25 23:50:28 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="006250.html">b43 fatal DMA errors
</A></li>
        <LI>Next message: <A HREF="006252.html">b43 fatal DMA errors
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6251">[ date ]</a>
              <a href="thread.html#6251">[ thread ]</a>
              <a href="subject.html#6251">[ subject ]</a>
              <a href="author.html#6251">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 10/25/2009 05:28 PM, G&#225;bor Stefanik wrote:
&gt;<i> On Sun, Oct 25, 2009 at 11:08 PM, Linus Torvalds
</I>&gt;<i> &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">torvalds at linux-foundation.org</A>&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On Sun, 25 Oct 2009, Chris Vine wrote:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> On Sun, 25 Oct 2009 22:40:50 +0100 G&#225;bor Stefanik  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">netrolller.3d at gmail.com</A>&gt; suggested:
</I>&gt;&gt;&gt;&gt;<i> Another thing to test: boot into Windows (or any other OS where the [..]
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> You already know that this eliminates the DMA errors.  I have reported
</I>&gt;&gt;&gt;<i> twice that if I boot up with the 2.6.27 kernel and install the broadcom
</I>&gt;&gt;&gt;<i> b43 driver to intialise the wireless device, and then do a warm reboot
</I>&gt;&gt;&gt;<i> to 2.6.32-rc5, then b43 works correctly.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Is there some way to dump all the device registers behind the SSB bridge?
</I>&gt;&gt;<i> If so, dumping them for the warm-boot and cold-boot cases, and seeing
</I>&gt;&gt;<i> where they are different might be an obvious clue, and point to something
</I>&gt;&gt;<i> that isn't initialized correctly.
</I>&gt;&gt;<i>
</I>&gt;<i> 
</I>&gt;<i> I don't know of such a method; however I have previously succeeded in
</I>&gt;<i> using mmiotrace to find differences between wl and b43, so it might be
</I>&gt;<i> of help in this case. However, this might be completely irrelevant, as
</I>&gt;<i> I suspect that PhoenixBIOS is interfering with the DMA mappings of the
</I>&gt;<i> card, which wl (and the Windows driver) works around somehow. (Is this
</I>&gt;<i> &quot;PR41573&quot;? In that case, it's possible that the calibration patch -
</I>&gt;<i> maybe in conjunction with a proper PHY reset - will fix it.)
</I>&gt;<i> 
</I>&gt;<i> Larry: what BIOS are you testing on?
</I>
The splash screen shows it to be a Phoenix BIOS. With dmidecode I see
the following:

BIOS Information
        Vendor: Hewlett-Packard
        Version: F.21
        Release Date: 02/28/2008
        Address: 0xE7060
        Runtime Size: 102304 bytes
        ROM Size: 1024 kB
        Characteristics:
                ISA is supported
                PCI is supported
                PC Card (PCMCIA) is supported
                PNP is supported
                APM is supported
                BIOS is upgradeable
                BIOS shadowing is allowed
                ESCD support is available
                Boot from CD is supported
                ACPI is supported
                USB legacy is supported
                AGP is supported
                BIOS boot specification is supported
                Targeted content distribution is supported
        BIOS Revision: 15.33
        Firmware Revision: 81.81

Larry

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006250.html">b43 fatal DMA errors
</A></li>
	<LI>Next message: <A HREF="006252.html">b43 fatal DMA errors
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6251">[ date ]</a>
              <a href="thread.html#6251">[ thread ]</a>
              <a href="subject.html#6251">[ subject ]</a>
              <a href="author.html#6251">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">More information about the Bcm43xx-dev
mailing list</a><br>
</body></html>
