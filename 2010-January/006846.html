<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> LP-PHY Fatal DMA error 0x00000800 on non-ULV Core 2 Duo?!?!!??!
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2010-January/index.html" >
   <LINK REL="made" HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20LP-PHY%20Fatal%20DMA%20error%200x00000800%20on%20non-ULV%20Core%202%20Duo%3F%21%3F%21%21%3F%3F%21&In-Reply-To=%3C69e28c911001251249l2903a154nc921e68a8c5e4432%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006844.html">
   <LINK REL="Next"  HREF="006847.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>LP-PHY Fatal DMA error 0x00000800 on non-ULV Core 2 Duo?!?!!??!</H1>
    <B>G&#225;bor Stefanik</B> 
    <A HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20LP-PHY%20Fatal%20DMA%20error%200x00000800%20on%20non-ULV%20Core%202%20Duo%3F%21%3F%21%21%3F%3F%21&In-Reply-To=%3C69e28c911001251249l2903a154nc921e68a8c5e4432%40mail.gmail.com%3E"
       TITLE="LP-PHY Fatal DMA error 0x00000800 on non-ULV Core 2 Duo?!?!!??!">netrolller.3d at gmail.com
       </A><BR>
    <I>Mon Jan 25 21:49:31 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="006844.html">LP-PHY Fatal DMA error 0x00000800 on non-ULV Core 2 Duo?!?!!??!
</A></li>
        <LI>Next message: <A HREF="006847.html">LP-PHY Fatal DMA error 0x00000800 on non-ULV Core 2 Duo?!?!!??!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6846">[ date ]</a>
              <a href="thread.html#6846">[ thread ]</a>
              <a href="subject.html#6846">[ subject ]</a>
              <a href="author.html#6846">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, Jan 25, 2010 at 9:15 PM, Lucas Thode &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">ljthode at gmail.com</A>&gt; wrote:
&gt;<i> ---start dmesg snippet---
</I>&gt;<i> [17189.121003] b43-pci-bridge 0000:06:00.0: PCI INT A disabled
</I>&gt;<i> [17192.494272] cfg80211: Using static regulatory domain info
</I>&gt;<i> [17192.494279] cfg80211: Regulatory domain: US
</I>&gt;<i> [17192.494283]&#160; (start_freq - end_freq @ bandwidth), (max_antenna_gain,
</I>&gt;<i> max_eirp
</I>&gt;<i> )
</I>&gt;<i> [17192.494292]&#160; (2402000 KHz - 2472000 KHz @ 40000 KHz), (600 mBi, 2700 mBm)
</I>&gt;<i> [17192.494299]&#160; (5170000 KHz - 5190000 KHz @ 40000 KHz), (600 mBi, 2300 mBm)
</I>&gt;<i> [17192.494306]&#160; (5190000 KHz - 5210000 KHz @ 40000 KHz), (600 mBi, 2300 mBm)
</I>&gt;<i> [17192.494314]&#160; (5210000 KHz - 5230000 KHz @ 40000 KHz), (600 mBi, 2300 mBm)
</I>&gt;<i> [17192.494321]&#160; (5230000 KHz - 5330000 KHz @ 40000 KHz), (600 mBi, 2300 mBm)
</I>&gt;<i> [17192.494328]&#160; (5735000 KHz - 5835000 KHz @ 40000 KHz), (600 mBi, 3000 mBm)
</I>&gt;<i> [17192.494418] cfg80211: Calling CRDA for country: US
</I>&gt;<i> [17192.658174] b43-pci-bridge 0000:06:00.0: PCI INT A -&gt; GSI 19 (level, low)
</I>&gt;<i> -&gt;
</I>&gt;<i> IRQ 19
</I>&gt;<i> [17192.658206] b43-pci-bridge 0000:06:00.0: setting latency timer to 64
</I>&gt;<i> [17192.724352] ssb: Sonics Silicon Backplane found on PCI device
</I>&gt;<i> 0000:06:00.0
</I>&gt;<i> [17192.769108] b43-phy0: Broadcom 4312 WLAN found (core revision 15)
</I>&gt;<i> [17192.843094] phy0: Selected rate control algorithm 'minstrel'
</I>&gt;<i> [17192.844206] Registered led device: b43-phy0::tx
</I>&gt;<i> [17192.844444] Registered led device: b43-phy0::rx
</I>&gt;<i> [17192.844500] Registered led device: b43-phy0::radio
</I>&gt;<i> [17192.844859] Broadcom 43xx driver loaded [ Features: PMLS, Firmware-ID:
</I>&gt;<i> FW13 ]
</I>&gt;<i> [17196.776755] b43 ssb0:0: firmware: requesting b43/ucode15.fw
</I>&gt;<i> [17196.780967] b43 ssb0:0: firmware: requesting b43/lp0initvals15.fw
</I>&gt;<i> [17196.784551] b43 ssb0:0: firmware: requesting b43/lp0bsinitvals15.fw
</I>&gt;<i> [17196.921708] b43-phy0: Loading firmware version 410.2160 (2007-05-26
</I>&gt;<i> 15:32:10)
</I>&gt;<i> [17202.497881] ADDRCONF(NETDEV_UP): wlan0: link is not ready
</I>&gt;<i> [17202.934136] b43-phy0 ERROR: Fatal DMA error: 0x00000800, 0x00000000,
</I>&gt;<i> 0x00000000, 0x00000000, 0x00000000, 0x00000000
</I>&gt;<i> [17202.934153] b43-phy0: Controller RESET (DMA error) ...
</I>&gt;<i> [17203.148369] b43-phy0: Loading firmware version 410.2160 (2007-05-26
</I>&gt;<i> 15:32:10)
</I>&gt;<i> [17208.681254] b43-phy0: Controller restarted
</I>&gt;<i> [17208.696481] b43-phy0 ERROR: Fatal DMA error: 0x00000400, 0x00000000,
</I>&gt;<i> 0x00000000, 0x00000000, 0x00000000, 0x00000000
</I>&gt;<i> [17208.696490] b43-phy0: Controller RESET (DMA error) ...
</I>&gt;<i> [17208.914882] b43-phy0: Loading firmware version 410.2160 (2007-05-26
</I>&gt;<i> 15:32:10)
</I>&gt;<i> [17214.461361] b43-phy0: Controller restarted
</I>&gt;<i> [17214.461610] b43-phy0 ERROR: Fatal DMA error: 0x00000400, 0x00000000,
</I>&gt;<i> 0x00000000, 0x00000000, 0x00000000, 0x00000000
</I>&gt;<i> [17214.461626] b43-phy0: Controller RESET (DMA error) ...
</I>&gt;<i> [17214.676285] b43-phy0: Loading firmware version 410.2160 (2007-05-26
</I>&gt;<i> 15:32:10)
</I>&gt;<i> ---end dmesg snippet---...and on and on the dma errors go.
</I>&gt;<i>
</I>&gt;<i> This occured about (sorry, not sure exactly, but I don't think it quite
</I>&gt;<i> matters with this particular error) when I used &quot;iwlist scan&quot; to search for
</I>&gt;<i> wireless networks after I used the b43-fwcutter from Debian testing to
</I>&gt;<i> install the firmware and re-inserted the driver with 'modprobe -r b43;
</I>&gt;<i> modprobe b43'.
</I>&gt;<i>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">kb1rd at kb1rd-mobroost</A>:~$ uname -a
</I>&gt;<i> Linux kb1rd-mobroost 2.6.32-trunk-amd64 #1 SMP Sun Jan 10 22:40:40 UTC 2010
</I>&gt;<i> x86_64 GNU/Linux
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">kb1rd at kb1rd-mobroost</A>:~$ lspci -vvn | grep 43 -A7
</I>&gt;<i> 06:00.0 0280: 14e4:4315 (rev 01)
</I>&gt;<i> &#160;&#160;&#160; Subsystem: 1028:000b
</I>&gt;<i> &#160;&#160;&#160; Control: I/O- Mem+ BusMaster+ SpecCycle- MemWINV- VGASnoop- ParErr-
</I>&gt;<i> Stepping- SERR+ FastB2B- DisINTx-
</I>&gt;<i> &#160;&#160;&#160; Status: Cap+ 66MHz- UDF- FastB2B- ParErr- DEVSEL=fast &gt;TAbort- &lt;TAbort-
</I>&gt;<i> &lt;MAbort- &gt;SERR- &lt;PERR- INTx-
</I>&gt;<i> &#160;&#160;&#160; Latency: 0, Cache Line Size: 64 bytes
</I>&gt;<i> &#160;&#160;&#160; Interrupt: pin A routed to IRQ 19
</I>&gt;<i> &#160;&#160;&#160; Region 0: Memory at f4000000 (64-bit, non-prefetchable) [size=16K]
</I>&gt;<i> &#160;&#160;&#160; Capabilities: &lt;access denied&gt;
</I>&gt;<i> &#160;&#160;&#160; Kernel driver in use: b43-pci-bridge
</I>&gt;<i>
</I>&gt;<i> &lt;extraneous output having to do with my Ethernet chip snipped&gt;
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">kb1rd at kb1rd-mobroost</A>:~$ cat /proc/cpuinfo
</I>&gt;<i> processor&#160;&#160;&#160; : 0
</I>&gt;<i> vendor_id&#160;&#160;&#160; : GenuineIntel
</I>&gt;<i> cpu family&#160;&#160;&#160; : 6
</I>&gt;<i> model&#160;&#160;&#160; &#160;&#160;&#160; : 15
</I>&gt;<i> model name&#160;&#160;&#160; : Intel(R) Core(TM)2 Duo CPU&#160;&#160;&#160;&#160; T5670&#160; @ 1.80GHz
</I>&gt;<i> stepping&#160;&#160;&#160; : 13
</I>&gt;<i> cpu MHz&#160;&#160;&#160; &#160;&#160;&#160; : 800.000
</I>&gt;<i> cache size&#160;&#160;&#160; : 2048 KB
</I>&gt;<i> physical id&#160;&#160;&#160; : 0
</I>&gt;<i> siblings&#160;&#160;&#160; : 2
</I>&gt;<i> core id&#160;&#160;&#160; &#160;&#160;&#160; : 0
</I>&gt;<i> cpu cores&#160;&#160;&#160; : 2
</I>&gt;<i> apicid&#160;&#160;&#160; &#160;&#160;&#160; : 0
</I>&gt;<i> initial apicid&#160;&#160;&#160; : 0
</I>&gt;<i> fpu&#160;&#160;&#160; &#160;&#160;&#160; : yes
</I>&gt;<i> fpu_exception&#160;&#160;&#160; : yes
</I>&gt;<i> cpuid level&#160;&#160;&#160; : 10
</I>&gt;<i> wp&#160;&#160;&#160; &#160;&#160;&#160; : yes
</I>&gt;<i> flags&#160;&#160;&#160; &#160;&#160;&#160; : fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov
</I>&gt;<i> pat pse36 clflush dts acpi mmx fxsr sse sse2 ss ht tm pbe syscall nx lm
</I>&gt;<i> constant_tsc arch_perfmon pebs bts rep_good aperfmperf pni dtes64 monitor
</I>&gt;<i> ds_cpl est tm2 ssse3 cx16 xtpr pdcm lahf_lm ida
</I>&gt;<i> bogomips&#160;&#160;&#160; : 3590.43
</I>&gt;<i> clflush size&#160;&#160;&#160; : 64
</I>&gt;<i> cache_alignment&#160;&#160;&#160; : 64
</I>&gt;<i> address sizes&#160;&#160;&#160; : 36 bits physical, 48 bits virtual
</I>&gt;<i> power management:
</I>&gt;<i>
</I>&gt;<i> &lt;output for core 1 snipped&gt;
</I>&gt;<i>
</I>&gt;<i> As you can tell, this processor is neither an Atom nor a ULV Core 2 Duo.
</I>&gt;<i> The WLAN card is the Dell Wireless 1395 that came with the laptop (a Vostro
</I>&gt;<i> 1510).&#160; I can build a custom kernel based on the Debian kernel sources if
</I>&gt;<i> need be; just tell me what config options to flip/patches to apply.&#160; Also,
</I>&gt;<i> wl.o works on this laptop with the Debian 2.6.30 kernel.&#160; Aptitude lists the
</I>&gt;<i> kernel version as a 2.6.32-5.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --Lucas
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Bcm43xx-dev mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">Bcm43xx-dev at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">https://lists.berlios.de/mailman/listinfo/bcm43xx-dev</A>
</I>&gt;<i>
</I>&gt;<i>
</I>
A few things to check:

-Is this on PhoenixBios?
-Does loading wl, doing a warm reboot and loading b43 make b43 work?
-Try updating the firmware to v478. (AFAIK there was someone on the
list before with a DMA error on a non-ULV, and it was solved by
updating the firmware. Broadcom's wl.ko uses a v5xx firmware for the
record.)



-- 
Vista: [V]iruses, [I]ntruders, [S]pyware, [T]rojans and [A]dware. :-)

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006844.html">LP-PHY Fatal DMA error 0x00000800 on non-ULV Core 2 Duo?!?!!??!
</A></li>
	<LI>Next message: <A HREF="006847.html">LP-PHY Fatal DMA error 0x00000800 on non-ULV Core 2 Duo?!?!!??!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6846">[ date ]</a>
              <a href="thread.html#6846">[ thread ]</a>
              <a href="subject.html#6846">[ subject ]</a>
              <a href="author.html#6846">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">More information about the Bcm43xx-dev
mailing list</a><br>
</body></html>
