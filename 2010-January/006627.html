<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> N-PHY init: current code vs. specs
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2010-January/index.html" >
   <LINK REL="made" HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20N-PHY%20init%3A%20current%20code%20vs.%20specs&In-Reply-To=%3C4B4255AF.7070408%40lwfinger.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006626.html">
   <LINK REL="Next"  HREF="006628.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>N-PHY init: current code vs. specs</H1>
    <B>Larry Finger</B> 
    <A HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20N-PHY%20init%3A%20current%20code%20vs.%20specs&In-Reply-To=%3C4B4255AF.7070408%40lwfinger.net%3E"
       TITLE="N-PHY init: current code vs. specs">Larry.Finger at lwfinger.net
       </A><BR>
    <I>Mon Jan  4 21:55:11 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="006626.html">N-PHY init: current code vs. specs
</A></li>
        <LI>Next message: <A HREF="006628.html">N-PHY init: current code vs. specs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6627">[ date ]</a>
              <a href="thread.html#6627">[ thread ]</a>
              <a href="subject.html#6627">[ subject ]</a>
              <a href="author.html#6627">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 01/04/2010 02:36 PM, Rafa&#322; Mi&#322;ecki wrote:
&gt;<i> I try to update
</I>&gt;<i> int b43_phy_initn(struct b43_wldev *dev)
</I>&gt;<i> to match current specs.
</I>&gt;<i> 
</I>&gt;<i> Currently it contains many operations/calls that I can not find in
</I>&gt;<i> <A HREF="http://bcm-v4.sipsolutions.net/802.11/PHY/Init/N">http://bcm-v4.sipsolutions.net/802.11/PHY/Init/N</A>
</I>&gt;<i> 
</I>&gt;<i> First I've just posted patch that removed &quot;//TODO: Spectral
</I>&gt;<i> management&quot;. I don't see anything about &quot;spectral management&quot; in
</I>&gt;<i> specs.
</I>&gt;<i> 
</I>&gt;<i> Next there is a lot of code after &quot;b43_nphy_workarounds(dev);&quot; call
</I>&gt;<i> that I can not recognize. Let's just take some lines for example:
</I>&gt;<i> b43_nphy_reset_cca(dev);
</I>&gt;<i> ssb_write32(dev-&gt;dev, SSB_TMSLOW, ...);
</I>&gt;<i> b43_nphy_force_rf_sequence(...);
</I>&gt;<i> b43_phy_read(dev, B43_NPHY_CLASSCTL); /* dummy read */
</I>&gt;<i> 
</I>&gt;<i> I don't see connection between that code and specs.
</I>&gt;<i> 
</I>&gt;<i> Michael: I guess you're author of this code (phy_n.c came from nphy.c,
</I>&gt;<i> not sure how to check log for not-existing file). Could you help me
</I>&gt;<i> and explain this, please?
</I>
I can answer this question. The original N PHY specs and the code generated from
them were for a driver that is now 2 versions old. The main changes are due to
later revisions of the N PHY, but there also seem to be some refactoring. To
keep it straight, I am evolving the current specs to match the latest driver
that we have available. Whenever you see code like the above that does not match
the specs, you should probably rip it out. If you have any questions, please ask
me if a given spec page is current.

I have been trying to get initn and all the routines that it calls up to date,
but this RE process is so mind-numbing that I can only work on it for so long.

Larry

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006626.html">N-PHY init: current code vs. specs
</A></li>
	<LI>Next message: <A HREF="006628.html">N-PHY init: current code vs. specs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6627">[ date ]</a>
              <a href="thread.html#6627">[ thread ]</a>
              <a href="subject.html#6627">[ subject ]</a>
              <a href="author.html#6627">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">More information about the Bcm43xx-dev
mailing list</a><br>
</body></html>
