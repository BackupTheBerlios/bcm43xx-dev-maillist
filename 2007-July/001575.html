<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> bcm43xx_mac80211 unhappy
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2007-July/index.html" >
   <LINK REL="made" HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20bcm43xx_mac80211%20unhappy&In-Reply-To=%3C46A6E605.6020902%40Wetwork.Net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001574.html">
   <LINK REL="Next"  HREF="001576.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>bcm43xx_mac80211 unhappy</H1>
    <B>Ehud Gavron</B> 
    <A HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20bcm43xx_mac80211%20unhappy&In-Reply-To=%3C46A6E605.6020902%40Wetwork.Net%3E"
       TITLE="bcm43xx_mac80211 unhappy">gavron at Wetwork.Net
       </A><BR>
    <I>Wed Jul 25 07:56:21 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="001574.html">current mac80211 mb tree broken
</A></li>
        <LI>Next message: <A HREF="001576.html">[PATCH] bcm43xx: Fix deviation from specifications in	set_baseband_attenuation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1575">[ date ]</a>
              <a href="thread.html#1575">[ thread ]</a>
              <a href="subject.html#1575">[ subject ]</a>
              <a href="author.html#1575">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm bored, and I don't leave for the Champ Car Grand Prix of San Jose 
until Thursday.  Developers - if there's something you need from my 
system, ask away.

Ehud

bcm43xx_mac80211: Adding Interface type 2
ssb: Switching to PCI-E core, index 3
ssb: Switching to IEEE 802.11 core, index 1
bcm43xx_mac80211: Loading firmware version 371.1061 (2006-10-04 21:02:04)
ssb: Switching to ChipCommon core, index 0
ssb: Switching to IEEE 802.11 core, index 1
bcm43xx_mac80211: Radio turned on
bcm43xx_mac80211: Radio enabled by hardware
bcm43xx_mac80211: ERROR: bbatt(11) &gt;= size of LO array

Call Trace:
 [&lt;ffffffff8824883a&gt;] :bcm43xx_mac80211:bcm43xx_get_lo_g_ctl+0x54/0x93
 [&lt;ffffffff882488af&gt;] :bcm43xx_mac80211:bcm43xx_lo_g_ctl_current+0x36/0x3b
 [&lt;ffffffff8824898a&gt;] :bcm43xx_mac80211:bcm43xx_lo_g_adjust+0x9/0x15
 [&lt;ffffffff882430c3&gt;] :bcm43xx_mac80211:bcm43xx_phy_init_pctl+0x338/0x6a2
 [&lt;ffffffff8823dc29&gt;] :bcm43xx_mac80211:bcm43xx_phy_read+0x58/0x60
 [&lt;ffffffff88246367&gt;] :bcm43xx_mac80211:bcm43xx_phy_initg+0xc85/0xd0a
 [&lt;ffffffff88246b9a&gt;] :bcm43xx_mac80211:bcm43xx_phy_init+0x582/0x5a3
 [&lt;ffffffff88239105&gt;] :bcm43xx_mac80211:bcm43xx_chip_init+0x675/0x984
 [&lt;ffffffff8823a7a1&gt;] 
:<i>bcm43xx_mac80211:bcm43xx_wireless_core_init+0x27d/0x70a
</I> [&lt;ffffffff8823bfff&gt;] :bcm43xx_mac80211:bcm43xx_add_interface+0x5c/0xf1
 [&lt;ffffffff881f65c6&gt;] :mac80211:ieee80211_open+0x222/0x34c
 [&lt;ffffffff811e05bb&gt;] dev_open+0x2f/0x6e
 [&lt;ffffffff811de783&gt;] dev_change_flags+0x5a/0x118
 [&lt;ffffffff8122284b&gt;] devinet_ioctl+0x235/0x597
 [&lt;ffffffff8124be1e&gt;] do_page_fault+0x476/0x7b4
 [&lt;ffffffff811d415f&gt;] sock_ioctl+0x1c8/0x1e5
 [&lt;ffffffff8109f87b&gt;] do_ioctl+0x2b/0xb6
 [&lt;ffffffff8109fb49&gt;] vfs_ioctl+0x243/0x25c
 [&lt;ffffffff8109fbbb&gt;] sys_ioctl+0x59/0x7a
 [&lt;ffffffff81009b5e&gt;] system_call+0x7e/0x83

[<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">root at egdell</A> ~]# uname -a
Linux egdell.wetwork.net 2.6.22.1-27.fc7 #1 SMP Tue Jul 17 17:19:58 EDT 
2007 x86_64 x86_64 x86_64 GNU/Linux
[<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">root at egdell</A> ~]# lsmod | grep bcm
bcm43xx_mac80211      418849  0
ssb                    43461  1 bcm43xx_mac80211
mac80211              164809  2 rc80211_simple,bcm43xx_mac80211
[<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">root at egdell</A> ~]# iwconfig
lo        no wireless extensions.

eth0      no wireless extensions.

wmaster0  no wireless extensions.

eth1      IEEE 802.11g  ESSID:&quot;wetwork&quot; 
          Mode:Managed  Frequency:2.437 GHz  Access Point: 
00:0D:0B:11:5C:1B  
          Bit Rate=1 Mb/s  
          Retry min limit:7   RTS thr:off   Fragment thr=2346 B  
          Encryption key:wep-key-goes-here
          Link Quality=43/100  Signal level=-55 dBm  Noise level=-85 dBm
          Rx invalid nwid:0  Rx invalid crypt:0  Rx invalid frag:0
          Tx excessive retries:0  Invalid misc:0   Missed beacon:0
....

 1000  iwconfig
eth1 is there... but not connected  (ONBOOT=NO in 
/etc/sysconfig/network-scripts/ifup-eth1)
 1001  dmesg
the firmware WAS loaded, cores detected, etc.
 1002  lsmod | grep bcm
yup, the bcm stuff is there
 1003  lsmod | grep ndis
no, no wrapper
 1004  iwconfig
not associated
 1006  iwlist eth1 scan
can't list while it's not up
 1007  ifconfig eth1 up
 1008  iwlist eth1 scan
now I get a list
 1009  iwconfig
not associated tho... let's let ifup do it...
 1010  ifup eth1
there we go... no errors
 1011  ifconfig eth1
it's got an address
 1012  ping 10.1.1.1
it can ping the gateway
 1013  lsmod | grep bcm
 1014  lsmod | grep ndis
yes one one and no on two
 1015  dmesg
weird error.
 1016  uname -a
 1017  lsmod | grep bcm
 1018  iwconfig
 1019  history

-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 3283 bytes
Desc: S/MIME Cryptographic Signature
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/bcm43xx-dev/attachments/20070724/7f5c2dc8/attachment.bin">https://lists.berlios.de/pipermail/bcm43xx-dev/attachments/20070724/7f5c2dc8/attachment.bin</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001574.html">current mac80211 mb tree broken
</A></li>
	<LI>Next message: <A HREF="001576.html">[PATCH] bcm43xx: Fix deviation from specifications in	set_baseband_attenuation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1575">[ date ]</a>
              <a href="thread.html#1575">[ thread ]</a>
              <a href="subject.html#1575">[ subject ]</a>
              <a href="author.html#1575">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">More information about the Bcm43xx-dev
mailing list</a><br>
</body></html>
