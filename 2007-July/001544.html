<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Multicast RX and TX both broken
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2007-July/index.html" >
   <LINK REL="made" HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20Multicast%20RX%20and%20TX%20both%20broken&In-Reply-To=%3C1184347523.2785.32.camel%40shinybook.infradead.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001542.html">
   <LINK REL="Next"  HREF="001538.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Multicast RX and TX both broken</H1>
    <B>David Woodhouse</B> 
    <A HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20Multicast%20RX%20and%20TX%20both%20broken&In-Reply-To=%3C1184347523.2785.32.camel%40shinybook.infradead.org%3E"
       TITLE="Multicast RX and TX both broken">dwmw2 at infradead.org
       </A><BR>
    <I>Fri Jul 13 19:25:23 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="001542.html">Multicast RX and TX both broken
</A></li>
        <LI>Next message: <A HREF="001538.html">Multicast RX and TX both broken
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1544">[ date ]</a>
              <a href="thread.html#1544">[ thread ]</a>
              <a href="subject.html#1544">[ subject ]</a>
              <a href="author.html#1544">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, 2007-07-13 at 11:48 +0100, David Woodhouse wrote:
&gt;<i> On Fri, 2007-07-13 at 12:37 +0200, Michael Buesch wrote:
</I>&gt;<i> &gt; On Friday 13 July 2007 01:15:28 David Woodhouse wrote:
</I>&gt;<i> &gt; &gt; If I run 'tcpdump -p' to refrain from putting it in promiscuous mode, I
</I>&gt;<i> &gt; &gt; don't see the RA packet to 33:33:00:00:00:01. And IPv6 autoconfiguration
</I>&gt;<i> &gt; &gt; doesn't work.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; So, what if you run promisc?
</I>&gt;<i> 
</I>&gt;<i> Then tcpdump sees it, as I showed, but the kernel still doesn't actually
</I>&gt;<i> pick up the address it's advertising.
</I>
[11:55] &lt;mb__&gt; Where do you think the packet is rejected? At HW, driver or stack level?

I'm not sure. Perhaps the macfilter filters it out when the device isn't
in promiscuous mode?

[11:56] &lt;mb__&gt; Ah, tcpdump sees the packet.

When the device is in promiscuous mode, yes. But not otherwise.

So it's not being correctly delivered from mac80211 to the host stack.
Maybe because the macfilter eats it, or maybe bcm43xx does receive it
and mac80211 assigns it type PACKET_OTHERHOST so it gets ignored. But
there's definitely _something_ wrong here.

-- 
dwmw2


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001542.html">Multicast RX and TX both broken
</A></li>
	<LI>Next message: <A HREF="001538.html">Multicast RX and TX both broken
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1544">[ date ]</a>
              <a href="thread.html#1544">[ thread ]</a>
              <a href="subject.html#1544">[ subject ]</a>
              <a href="author.html#1544">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">More information about the Bcm43xx-dev
mailing list</a><br>
</body></html>
