<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Ferrari 3400 device?
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2007-July/index.html" >
   <LINK REL="made" HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20Ferrari%203400%20device%3F&In-Reply-To=%3C468F5ADC.7000704%40Wetwork.Net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001520.html">
   <LINK REL="Next"  HREF="001533.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Ferrari 3400 device?</H1>
    <B>Ehud Gavron</B> 
    <A HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20Ferrari%203400%20device%3F&In-Reply-To=%3C468F5ADC.7000704%40Wetwork.Net%3E"
       TITLE="Ferrari 3400 device?">gavron at Wetwork.Net
       </A><BR>
    <I>Sat Jul  7 11:20:28 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="001520.html">Ferrari 3400 device?
</A></li>
        <LI>Next message: <A HREF="001533.html">Ferrari 3400 device?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1521">[ date ]</a>
              <a href="thread.html#1521">[ thread ]</a>
              <a href="subject.html#1521">[ subject ]</a>
              <a href="author.html#1521">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Yes the difference in power calculations is eventually closer and closer 
the further advanced the code becomes.

2.6.20 is definitely too old.  You will either want to check out the 
wireless-dev tree for newer bcm43xx code, or use a newer kernel 
entirely.  I posted the procedure for a new kernel a few days ago... 
someone posted the procedure for JUST upgrading the bcm43xx stuff one or 
two days ago.  Search the list archives.

&quot;dmesg offers no meaningful messages&quot; is interesting... it means 
probably that BCM43XX_DEBUG options are not set in that kernel, or 
bcm43xx would be spitting out the version of firmware it's loading as 
well as its issues in associating with the access point. 

Again I'd recommend a NEWER kernel and making sure all the BCM43XX debug 
stuff is set to Y.

As for sitting right across from the access point... with 2.6.22-rc6 
(wireless-dev) I can sit 1meter from the AP and with bcm43xx_mac80211 
(F7) can associate but can't get DHCP to work... and with bcm43xx can 
sit 20meters away and not only associate but DHCP works... and with 
2.6.20 I couldn't get DHCP working with either at 1M... so progress is 
being made :)

Ehud
PS I'm running 64-bit F7 with custom kernel from the wireless-dev tree 
(I think it's John Linville's).  The output of my uname -a and 
dmesg|grep bcm are included below
[<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">root at egdell</A> ~]# uname -a
Linux egdell.wetwork.net 2.6.22-rc6 #1 SMP Tue Jun 26 16:41:36 MST 2007 
x86_64 x86_64 x86_64 GNU/Linux
[<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">root at egdell</A> ~]# dmesg | grep bcm
bcm43xx_mac80211: Broadcom 4311 WLAN found
bcm43xx_mac80211: Found PHY: Analog 4, Type 2, Revision 8
bcm43xx_mac80211: Found Radio: Manuf 0x17F, Version 0x2050, Revision 2
bcm43xx_mac80211: Radio turned off
bcm43xx driver
bcm43xx_mac80211: Adding Interface type 2
bcm43xx_mac80211: Loading firmware version 371.1061 (2006-10-04 21:02:04)
bcm43xx_mac80211: Radio turned on
bcm43xx_mac80211: Radio enabled by hardware
bcm43xx_mac80211: !WARNING! Idle-TSSI phy-&gt;cur_idle_tssi measuring 
failed. (cur=32, tgt=62). Disabling TX power adjustment.
bcm43xx_mac80211: Chip initialized
bcm43xx_mac80211: 32-bit DMA initialized
bcm43xx_mac80211: Wireless interface started
bcm43xx_mac80211: Using hardware based encryption for keyidx: 0, mac: 
ff:ff:ff:ff:ff:ff
bcm43xx_mac80211: Using hardware based encryption for keyidx: 0, mac: 
ff:ff:ff:ff:ff:ff
bcm43xx_mac80211: Removing Interface type 2
bcm43xx_mac80211: Wireless interface stopped
bcm43xx_mac80211: DMA-32 0x0200 (RX) max used slots: 1/64
bcm43xx_mac80211: DMA-32 0x02A0 (TX) max used slots: 0/128
bcm43xx_mac80211: DMA-32 0x0280 (TX) max used slots: 0/128
bcm43xx_mac80211: DMA-32 0x0260 (TX) max used slots: 0/128
bcm43xx_mac80211: DMA-32 0x0240 (TX) max used slots: 0/128
bcm43xx_mac80211: DMA-32 0x0220 (TX) max used slots: 88/128
bcm43xx_mac80211: DMA-32 0x0200 (TX) max used slots: 0/128
bcm43xx_mac80211: Radio turned off
bcm43xx_mac80211: Radio turned off
bcm43xx driver
bcm43xx: Chip ID 0x4311, rev 0x1
bcm43xx: Number of cores: 4
bcm43xx: Core 0: ID 0x800, rev 0x11, vendor 0x4243
bcm43xx: Core 1: ID 0x812, rev 0xa, vendor 0x4243
bcm43xx: Core 2: ID 0x817, rev 0x3, vendor 0x4243
bcm43xx: Core 3: ID 0x820, rev 0x1, vendor 0x4243
bcm43xx: PHY connected
bcm43xx: Detected PHY: Analog: 4, Type 2, Revision 8
bcm43xx: Detected Radio: ID: 2205017f (Manuf: 17f Ver: 2050 Rev: 2)
bcm43xx: Radio turned off
bcm43xx: Radio turned off
bcm43xx: PHY connected
bcm43xx: Microcode rev 0x127, pl 0xe (2005-04-18  02:36:27)
bcm43xx: Radio turned on
bcm43xx: Radio enabled by hardware
bcm43xx: Chip initialized
bcm43xx: 32-bit DMA initialized
bcm43xx: Keys cleared
bcm43xx: Selected 802.11 core (phytype 2)
bcm43xx: Radio turned off
bcm43xx: DMA-32 0x0200 (RX) max used slots: 0/64
bcm43xx: DMA-32 0x02A0 (TX) max used slots: 0/512
bcm43xx: DMA-32 0x0280 (TX) max used slots: 0/512
bcm43xx: DMA-32 0x0260 (TX) max used slots: 0/512
bcm43xx: DMA-32 0x0240 (TX) max used slots: 0/512
bcm43xx: DMA-32 0x0220 (TX) max used slots: 0/512
bcm43xx: DMA-32 0x0200 (TX) max used slots: 0/512
bcm43xx: Microcode rev 0x127, pl 0xe (2005-04-18  02:36:27)
bcm43xx: Radio turned on
bcm43xx: Radio enabled by hardware
bcm43xx: Chip initialized
bcm43xx: 32-bit DMA initialized
bcm43xx: Keys cleared
bcm43xx: Selected 802.11 core (phytype 2)
bcm43xx: set security called, .active_key = 0, .level = 1, .enabled = 1, 
.encrypt = 1
bcm43xx: set security called, .active_key = 0, .level = 1, .enabled = 1, 
.encrypt = 1, .auth_mode = 0
bcm43xx: set security called, .active_key = 0, .level = 1, .enabled = 1, 
.encrypt = 1, .auth_mode = 0
bcm43xx: Radio turned off
bcm43xx: DMA-32 0x0200 (RX) max used slots: 3/64
bcm43xx: DMA-32 0x02A0 (TX) max used slots: 0/512
bcm43xx: DMA-32 0x0280 (TX) max used slots: 0/512
bcm43xx: DMA-32 0x0260 (TX) max used slots: 0/512
bcm43xx: DMA-32 0x0240 (TX) max used slots: 0/512
bcm43xx: DMA-32 0x0220 (TX) max used slots: 129/512
bcm43xx: DMA-32 0x0200 (TX) max used slots: 0/512
bcm43xx driver
bcm43xx: Chip ID 0x4311, rev 0x1
bcm43xx: Number of cores: 4
bcm43xx: Core 0: ID 0x800, rev 0x11, vendor 0x4243
bcm43xx: Core 1: ID 0x812, rev 0xa, vendor 0x4243
bcm43xx: Core 2: ID 0x817, rev 0x3, vendor 0x4243
bcm43xx: Core 3: ID 0x820, rev 0x1, vendor 0x4243
bcm43xx: PHY connected
bcm43xx: Detected PHY: Analog: 4, Type 2, Revision 8
bcm43xx: Detected Radio: ID: 2205017f (Manuf: 17f Ver: 2050 Rev: 2)
bcm43xx: Radio turned off
bcm43xx: Radio turned off
bcm43xx: PHY connected
bcm43xx: Microcode rev 0x127, pl 0xe (2005-04-18  02:36:27)
bcm43xx: Radio turned on
bcm43xx: Radio enabled by hardware
bcm43xx: Chip initialized
bcm43xx: 32-bit DMA initialized
bcm43xx: Keys cleared
bcm43xx: Selected 802.11 core (phytype 2)
bcm43xx: Radio turned off
bcm43xx: DMA-32 0x0200 (RX) max used slots: 1/64
bcm43xx: DMA-32 0x02A0 (TX) max used slots: 0/512
bcm43xx: DMA-32 0x0280 (TX) max used slots: 0/512
bcm43xx: DMA-32 0x0260 (TX) max used slots: 0/512
bcm43xx: DMA-32 0x0240 (TX) max used slots: 0/512
bcm43xx: DMA-32 0x0220 (TX) max used slots: 0/512
bcm43xx: DMA-32 0x0200 (TX) max used slots: 0/512
bcm43xx: Microcode rev 0x127, pl 0xe (2005-04-18  02:36:27)
bcm43xx: Radio turned on
bcm43xx: Radio enabled by hardware
bcm43xx: Chip initialized
bcm43xx: 32-bit DMA initialized
bcm43xx: Keys cleared
bcm43xx: Selected 802.11 core (phytype 2)
bcm43xx: set security called, .active_key = 0, .level = 1, .enabled = 1, 
.encrypt = 1
bcm43xx: set security called, .active_key = 0, .level = 1, .enabled = 1, 
.encrypt = 1, .auth_mode = 0
bcm43xx: set security called, .active_key = 0, .level = 1, .enabled = 1, 
.encrypt = 1, .auth_mode = 0
bcm43xx: Radio turned off
bcm43xx: DMA-32 0x0200 (RX) max used slots: 5/64
bcm43xx: DMA-32 0x02A0 (TX) max used slots: 0/512
bcm43xx: DMA-32 0x0280 (TX) max used slots: 0/512
bcm43xx: DMA-32 0x0260 (TX) max used slots: 0/512
bcm43xx: DMA-32 0x0240 (TX) max used slots: 0/512
bcm43xx: DMA-32 0x0220 (TX) max used slots: 136/512
bcm43xx: DMA-32 0x0200 (TX) max used slots: 0/512
bcm43xx driver
bcm43xx: Chip ID 0x4311, rev 0x1
bcm43xx: Number of cores: 4
bcm43xx: Core 0: ID 0x800, rev 0x11, vendor 0x4243
bcm43xx: Core 1: ID 0x812, rev 0xa, vendor 0x4243
bcm43xx: Core 2: ID 0x817, rev 0x3, vendor 0x4243
bcm43xx: Core 3: ID 0x820, rev 0x1, vendor 0x4243
bcm43xx: PHY connected
bcm43xx: Detected PHY: Analog: 4, Type 2, Revision 8
bcm43xx: Detected Radio: ID: 2205017f (Manuf: 17f Ver: 2050 Rev: 2)
bcm43xx: Radio turned off
bcm43xx: Radio turned off
bcm43xx: PHY connected
bcm43xx: Microcode rev 0x127, pl 0xe (2005-04-18  02:36:27)
bcm43xx: Radio turned on
bcm43xx: Radio enabled by hardware
bcm43xx: Chip initialized
bcm43xx: 32-bit DMA initialized
bcm43xx: Keys cleared
bcm43xx: Selected 802.11 core (phytype 2)
bcm43xx: Radio turned off
bcm43xx: DMA-32 0x0200 (RX) max used slots: 1/64
bcm43xx: DMA-32 0x02A0 (TX) max used slots: 0/512
bcm43xx: DMA-32 0x0280 (TX) max used slots: 0/512
bcm43xx: DMA-32 0x0260 (TX) max used slots: 0/512
bcm43xx: DMA-32 0x0240 (TX) max used slots: 0/512
bcm43xx: DMA-32 0x0220 (TX) max used slots: 0/512
bcm43xx: DMA-32 0x0200 (TX) max used slots: 0/512
bcm43xx: Microcode rev 0x127, pl 0xe (2005-04-18  02:36:27)
bcm43xx: Radio turned on
bcm43xx: Radio enabled by hardware
bcm43xx: Chip initialized
bcm43xx: 32-bit DMA initialized
bcm43xx: Keys cleared
bcm43xx: Selected 802.11 core (phytype 2)
bcm43xx: set security called, .active_key = 0, .level = 1, .enabled = 1, 
.encrypt = 1
bcm43xx: set security called, .active_key = 0, .level = 1, .enabled = 1, 
.encrypt = 1, .auth_mode = 0
bcm43xx: set security called, .active_key = 0, .level = 1, .enabled = 1, 
.encrypt = 1, .auth_mode = 0


Andreas Peer wrote:
&gt;<i> Thanks for your response!
</I>&gt;<i>
</I>&gt;<i> Well, I'm running Ubuntu 7.04 64-Bit version
</I>&gt;<i>
</I>&gt;<i> - &quot;uname -a&quot; gives: Linux laptopandi 2.6.20-16-generic #2 SMP Thu Jun 7 
</I>&gt;<i> 19:00:28 UTC 2007 x86_64 GNU/Linux
</I>&gt;<i>
</I>&gt;<i> - &quot;dmesg&quot; offers no meaningful messages ([    2.262297] bcm43xx driver)
</I>&gt;<i>
</I>&gt;<i> - iwconfig:  eth0
</I>&gt;<i>           IEEE 802.11b/g  ESSID:&quot;aj2lta1&quot;  Nickname:&quot;Broadcom 4306&quot;
</I>&gt;<i>           Mode:Managed  Frequency=2.472 GHz  Access Point: 
</I>&gt;<i> 00:0F:66:D3:04:13  
</I>&gt;<i>           Bit Rate=24 Mb/s   Tx-Power=15 dBm  
</I>&gt;<i>           RTS thr:off   Fragment thr:off
</I>&gt;<i>           Link Quality=75/100  Signal level=-57 dBm  Noise level=-72 dBm
</I>&gt;<i>           Rx invalid nwid:0  Rx invalid crypt:57  Rx invalid frag:0
</I>&gt;<i>           Tx excessive retries:0  Invalid misc:0   Missed beacon:0
</I>&gt;<i>
</I>&gt;<i> - iwlist eth0 scan:
</I>&gt;<i>           Cell 01 - Address: 00:0F:66:D3:04:13
</I>&gt;<i>                     ESSID:&quot;aj2lta1&quot;
</I>&gt;<i>                     Protocol:IEEE 802.11bg
</I>&gt;<i>                     Mode:Master
</I>&gt;<i>                     Channel:13
</I>&gt;<i>                     Encryption key:on
</I>&gt;<i>                     Bit Rates:1 Mb/s; 2 Mb/s; 5.5 Mb/s; 6 Mb/s; 9 Mb/s
</I>&gt;<i>                               11 Mb/s; 12 Mb/s; 18 Mb/s; 24 Mb/s; 36 Mb/s
</I>&gt;<i>                               48 Mb/s; 54 Mb/s
</I>&gt;<i>                     Quality=93/100  Signal level=-54 dBm  Noise 
</I>&gt;<i> level=-69 dBm
</I>&gt;<i>                     IE: WPA Version 1
</I>&gt;<i>                         Group Cipher : TKIP
</I>&gt;<i>                         Pairwise Ciphers (1) : TKIP
</I>&gt;<i>                         Authentication Suites (1) : PSK 
</I>&gt;<i>                     Extra: Last beacon: 40ms ago
</I>&gt;<i>
</I>&gt;<i> I have to add that I am sitting just in front of the wireless router. 
</I>&gt;<i> The distance between router and notebook is at max half a meter. I find 
</I>&gt;<i> it also interesting, that iwlist and iwconfig show different quality 
</I>&gt;<i> percentages.
</I>&gt;<i>
</I>&gt;<i> Kind regards,
</I>&gt;<i> Andreas
</I>&gt;<i>
</I>&gt;<i>   
</I>&gt;&gt;<i> Note: I am not a developer, just a user with different sleeping 
</I>&gt;&gt;<i> habits, and so responded first.  Don't take the FIRST response as the 
</I>&gt;&gt;<i> BEST response, just the first.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> First, the 4306 is an older car and certainly is well supported by the 
</I>&gt;&gt;<i> bcm43xx code, much better so than the 4318.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Second, the original bcm43xx code uses v.3 of the virmware.  Thew new 
</I>&gt;&gt;<i> bcm43xx_mac80211 code (default in F7) uses v.4 of the firmware.
</I>&gt;&gt;<i> The original works best in kernel 2.6.21-rc3 or better (other than 
</I>&gt;&gt;<i> F7).  The new works best in the wireless-dev tree available via git.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Lastly, there is a known POWER problem, which results in better 
</I>&gt;&gt;<i> transmission if the transmission rates are reduced.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Please include:
</I>&gt;&gt;<i> 1.  root#  uname -a
</I>&gt;&gt;<i> 2.  root#  dmesg | grep bcm
</I>&gt;&gt;<i> 3.  root#  iwconfig
</I>&gt;&gt;<i> and if you're not actually connected it sometimes helps to add
</I>&gt;&gt;<i> 4.  root#  iwlist eth1 scan   (or iwlist wlan0 scan or whatever your 
</I>&gt;&gt;<i> interface is called)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I hope this information has helped rather than hurt,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Kind regards,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Ehud Gavron
</I>&gt;&gt;<i> Tucson AZ USA
</I>&gt;&gt;<i> Toronto: Paul Tracy.  Silverstone: Lewis Hamilton:  Lime Rock: 
</I>&gt;&gt;<i> McNish/Capello or Pirro/Werner  Daytone: JPM   IndyOvalDoodle: WTFC
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Andreas Peer wrote:
</I>&gt;&gt;<i>     
</I>&gt;&gt;&gt;<i> I don't know if this matters, but I have a Acer Ferrari 3400 
</I>&gt;&gt;&gt;<i> notebook, and according to the device list on the web site, the 
</I>&gt;&gt;&gt;<i> wireless chip should be the following:
</I>&gt;&gt;&gt;<i> - chip id: 4318
</I>&gt;&gt;&gt;<i> - product id: 0x4318
</I>&gt;&gt;&gt;<i> - subsystem vendor id: 0x1468
</I>&gt;&gt;&gt;<i> - subsystem product id 0x0312,
</I>&gt;&gt;&gt;<i> but instead lspci shows me that the notebook contains a chip with
</I>&gt;&gt;&gt;<i> - chip id: 4306
</I>&gt;&gt;&gt;<i> - product id: 0x4320
</I>&gt;&gt;&gt;<i> - subsystem vendor id: 0x185f
</I>&gt;&gt;&gt;<i> - subsystem product id 0x1220.
</I>&gt;&gt;&gt;<i> It is to original chip that was contained when I bought the notebook. 
</I>&gt;&gt;&gt;<i> Maybe the information on the device site is not accurate, or Acer put 
</I>&gt;&gt;&gt;<i> different chips inside their Ferrari 3400 notebooks?
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Another question: The driver works, but it has a much lower range 
</I>&gt;&gt;&gt;<i> than the Windows driver, i.e. I am not able to get a connection in 
</I>&gt;&gt;&gt;<i> places where on Windows I can connect with 36 MB/s and a good signal 
</I>&gt;&gt;&gt;<i> quality. Is this a known limitation? I think some time ago I read 
</I>&gt;&gt;&gt;<i> that bcm43xx uses firmware version 2.x, while the Windows drivers are 
</I>&gt;&gt;&gt;<i> already using version 3.x. Is that the problem, and is there a hope 
</I>&gt;&gt;&gt;<i> that the receiving quality will improve in the future?
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Last, but not least I want to say that i appreciate your work and I 
</I>&gt;&gt;&gt;<i> want to thank you for what you have than for the Open Source community!
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Andreas
</I>&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;<i> Bcm43xx-dev mailing list
</I>&gt;&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">Bcm43xx-dev at lists.berlios.de</A>
</I>&gt;&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">https://lists.berlios.de/mailman/listinfo/bcm43xx-dev</A>
</I>&gt;&gt;&gt;<i>   
</I>&gt;&gt;&gt;<i>       
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Bcm43xx-dev mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">Bcm43xx-dev at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">https://lists.berlios.de/mailman/listinfo/bcm43xx-dev</A>
</I>&gt;<i>   
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001520.html">Ferrari 3400 device?
</A></li>
	<LI>Next message: <A HREF="001533.html">Ferrari 3400 device?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1521">[ date ]</a>
              <a href="thread.html#1521">[ thread ]</a>
              <a href="subject.html#1521">[ subject ]</a>
              <a href="author.html#1521">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">More information about the Bcm43xx-dev
mailing list</a><br>
</body></html>
