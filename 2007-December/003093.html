<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> 2.6.24-rc5 the LED does not come on after a switch-off switch-on
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2007-December/index.html" >
   <LINK REL="made" HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%202.6.24-rc5%20the%20LED%20does%20not%20come%20on%20after%20a%20switch-off%20switch-on&In-Reply-To=%3C200712181143.40013.mb%40bu3sch.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003092.html">
   <LINK REL="Next"  HREF="003094.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>2.6.24-rc5 the LED does not come on after a switch-off switch-on</H1>
    <B>Michael Buesch</B> 
    <A HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%202.6.24-rc5%20the%20LED%20does%20not%20come%20on%20after%20a%20switch-off%20switch-on&In-Reply-To=%3C200712181143.40013.mb%40bu3sch.de%3E"
       TITLE="2.6.24-rc5 the LED does not come on after a switch-off switch-on">mb at bu3sch.de
       </A><BR>
    <I>Tue Dec 18 11:43:39 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="003092.html">2.6.24-rc5 the LED does not come on after a switch-off switch-on
</A></li>
        <LI>Next message: <A HREF="003094.html">2.6.24-rc5 the LED does not come on after a switch-off switch-on
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3093">[ date ]</a>
              <a href="thread.html#3093">[ thread ]</a>
              <a href="subject.html#3093">[ subject ]</a>
              <a href="author.html#3093">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tuesday 18 December 2007 10:39:14 Ehud Gavron wrote:
&gt;<i> When the hardware switch is changed from OFF to ON there is a period of 
</I>&gt;<i> time before the hardware enables the LED to work at all.
</I>&gt;<i> During this period of time the KEY_WLAN sequence has no effect.  This 
</I>&gt;<i> means the LED is not turned on.
</I>&gt;<i> 
</I>&gt;<i> With the delay, the hardware has time to enable the LED (but not turn it 
</I>&gt;<i> on), and then the KEY_WLAN sequence turns the LED on.
</I>&gt;<i> 
</I>
&gt;<i> &gt;&gt; +               msleep(1);      /* sleep 400usec to allow slow hardware 
</I>&gt;<i> &gt;&gt; to enable the LED */
</I>
Ok, but why the inconsistent comment? 400usec vs. 1msec

I'm not sure why this helps at all. We poll every 1000ms.
So why does it fix the LED to wait an additional microsecond?
Note that this function call is _not_ triggered by pressing the button.
It is polled, so completely asynchronous.

Is it possible that we have some race condition in software somewhere
instead?

-- 
Greetings Michael.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003092.html">2.6.24-rc5 the LED does not come on after a switch-off switch-on
</A></li>
	<LI>Next message: <A HREF="003094.html">2.6.24-rc5 the LED does not come on after a switch-off switch-on
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3093">[ date ]</a>
              <a href="thread.html#3093">[ thread ]</a>
              <a href="subject.html#3093">[ subject ]</a>
              <a href="author.html#3093">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">More information about the Bcm43xx-dev
mailing list</a><br>
</body></html>
