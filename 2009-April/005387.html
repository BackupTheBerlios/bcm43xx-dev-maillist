<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> b43 Hostap Performance
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2009-April/index.html" >
   <LINK REL="made" HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20b43%20Hostap%20Performance&In-Reply-To=%3C30353c3d0904061642w21fb479sb799072be524311f%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005385.html">
   <LINK REL="Next"  HREF="005412.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>b43 Hostap Performance</H1>
    <B>David Ellingsworth</B> 
    <A HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20b43%20Hostap%20Performance&In-Reply-To=%3C30353c3d0904061642w21fb479sb799072be524311f%40mail.gmail.com%3E"
       TITLE="b43 Hostap Performance">david at identd.dyndns.org
       </A><BR>
    <I>Tue Apr  7 01:42:22 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="005385.html">b43 Hostap Performance
</A></li>
        <LI>Next message: <A HREF="005412.html">b43 Hostap Performance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5387">[ date ]</a>
              <a href="thread.html#5387">[ thread ]</a>
              <a href="subject.html#5387">[ subject ]</a>
              <a href="author.html#5387">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, Apr 6, 2009 at 4:16 PM, David Ellingsworth
&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">david at identd.dyndns.org</A>&gt; wrote:
&gt;<i> On Mon, Apr 6, 2009 at 11:04 AM, Michael Buesch &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">mb at bu3sch.de</A>&gt; wrote:
</I>&gt;&gt;<i> On Monday 06 April 2009 16:03:11 David Ellingsworth wrote:
</I>&gt;&gt;&gt;<i> On Mon, Apr 6, 2009 at 6:14 AM, Michael Buesch &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">mb at bu3sch.de</A>&gt; wrote:
</I>&gt;&gt;&gt;<i> &gt; On Monday 06 April 2009 05:26:33 David Ellingsworth wrote:
</I>&gt;&gt;&gt;<i> &gt;&gt; I've setup and configured hostapd with b43. For the most part I
</I>&gt;&gt;&gt;<i> &gt;&gt; followed the guide here: <A HREF="http://acx100.erley.org/git.html">http://acx100.erley.org/git.html</A> except that
</I>&gt;&gt;&gt;<i> &gt;&gt; I've used the latest wireless-testing branch. Airodump-ng shows the AP
</I>&gt;&gt;&gt;<i> &gt;&gt; to be beaconing well with an average signal of -49db, while my Windows
</I>&gt;&gt;&gt;<i> &gt;&gt; wireless client shows an average signal strength of -60db. Connecting
</I>&gt;&gt;&gt;<i> &gt;&gt; to the AP, however seems to be a bit problematic. When a connection is
</I>&gt;&gt;&gt;<i> &gt;&gt; established, the link is very unreliable and rather unresponsive.
</I>&gt;&gt;&gt;<i> &gt;&gt; While connecting from Windows XP I was only able to connect at 1Mb.
</I>&gt;&gt;&gt;<i> &gt;&gt; The stability of the connection is so bad that it usually dies within
</I>&gt;&gt;&gt;<i> &gt;&gt; minutes after connecting. Wpa_supplicant under Linux produces similar
</I>&gt;&gt;&gt;<i> &gt;&gt; results. Pings from the station to the AP show severe packet loss with
</I>&gt;&gt;&gt;<i> &gt;&gt; increasing delay for those that are successful (2000 - 4000ms). This
</I>&gt;&gt;&gt;<i> &gt;&gt; is all at a range of about 10ft from the AP while maintaining a clear
</I>&gt;&gt;&gt;<i> &gt;&gt; line of sight. I've found that enabling/disabling encryption doesn't
</I>&gt;&gt;&gt;<i> &gt;&gt; seem to help alleviate any of the issues. Running hostap with -ddd
</I>&gt;&gt;&gt;<i> &gt;&gt; occasionally shows the following output:
</I>&gt;&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;&gt;<i> &gt;&gt; STA ca:fe:ba:be:d0:0d sent probe request for our SSID
</I>&gt;&gt;&gt;<i> &gt;&gt; MGMT (TX callback) fail
</I>&gt;&gt;&gt;<i> &gt;&gt; mgmt::proberesp cb
</I>&gt;&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;&gt;<i> &gt;&gt; or a timeout between the station and the AP during the authentication process.
</I>&gt;&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;&gt;<i> &gt;&gt; If there's anything I can do to help debug this issue, I'm more than
</I>&gt;&gt;&gt;<i> &gt;&gt; willing to help.
</I>&gt;&gt;&gt;<i> &gt;
</I>&gt;&gt;&gt;<i> &gt; Well, you know that lots of cards don't work correctly with b43.
</I>&gt;&gt;&gt;<i> &gt; I bet you're using a BCM4318 flavor.
</I>&gt;&gt;&gt;<i> &gt;
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Sadly, yes, it is a BCM4318. I've tried moving further away from the
</I>&gt;&gt;&gt;<i> AP, as well as decreasing the txpower output.. neither seemed to help
</I>&gt;&gt;&gt;<i> any. I suspect something else may be the cause of the poor performance
</I>&gt;&gt;&gt;<i> that I'm seeing. I'll try to rule out the card as a problem tonight by
</I>&gt;&gt;&gt;<i> setting up an Ad-Hoc network under Windows XP. If I observe good
</I>&gt;&gt;&gt;<i> performance then maybe b43 is the issue... In which case.. I'll start
</I>&gt;&gt;&gt;<i> the painful process of comparing the Windows driver to b43. If I find
</I>&gt;&gt;&gt;<i> any discrepancies, I'll send them to the reverse engineers to be
</I>&gt;&gt;&gt;<i> posted with the rest of the specs. Then maybe you or someone else can
</I>&gt;&gt;&gt;<i> make the appropriate changes to b43.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 4318 currently is not usable in AP mode due to low but (for AP mode) significant
</I>&gt;&gt;<i> packet loss in high transmission rates.
</I>&gt;&gt;<i> I doubt this will change unless Broadcom releases some code.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I suggest you just buy another card instead of wasting months of time on trying
</I>&gt;&gt;<i> to get this to work.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Running an AP isn't exactly high priority for me.. I'm willing to put
</I>&gt;<i> the effort into making b43 better if possible.
</I>&gt;<i>
</I>
So.. it's starting to look like the card is at fault. While bridging
the card to my Ethernet adapter in Windows I was only able to achieve
0.08 Mb/s through the bridge on the speedtest.net speed test. Since I
have yet to experience a decent connection with this card, I think I'm
going to have to return it to Linksys as defective.

Regards,

David Ellingsworth

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005385.html">b43 Hostap Performance
</A></li>
	<LI>Next message: <A HREF="005412.html">b43 Hostap Performance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5387">[ date ]</a>
              <a href="thread.html#5387">[ thread ]</a>
              <a href="subject.html#5387">[ subject ]</a>
              <a href="author.html#5387">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">More information about the Bcm43xx-dev
mailing list</a><br>
</body></html>
