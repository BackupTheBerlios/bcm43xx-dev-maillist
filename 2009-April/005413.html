<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> b43 Hostap Performance
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2009-April/index.html" >
   <LINK REL="made" HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20b43%20Hostap%20Performance&In-Reply-To=%3C200904092356.27494.mb%40bu3sch.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005412.html">
   <LINK REL="Next"  HREF="005414.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>b43 Hostap Performance</H1>
    <B>Michael Buesch</B> 
    <A HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20b43%20Hostap%20Performance&In-Reply-To=%3C200904092356.27494.mb%40bu3sch.de%3E"
       TITLE="b43 Hostap Performance">mb at bu3sch.de
       </A><BR>
    <I>Thu Apr  9 23:56:27 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="005412.html">b43 Hostap Performance
</A></li>
        <LI>Next message: <A HREF="005414.html">b43 Hostap Performance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5413">[ date ]</a>
              <a href="thread.html#5413">[ thread ]</a>
              <a href="subject.html#5413">[ subject ]</a>
              <a href="author.html#5413">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thursday 09 April 2009 23:47:25 Francesco Gringoli wrote:
&gt;<i> 
</I>&gt;<i> On Apr 6, 2009, at 5:04 PM, Michael Buesch wrote:
</I>&gt;<i> 
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; Well, you know that lots of cards don't work correctly with b43.
</I>&gt;<i> &gt;&gt;&gt; I bet you're using a BCM4318 flavor.
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Sadly, yes, it is a BCM4318. I've tried moving further away from the
</I>&gt;<i> &gt;&gt; AP, as well as decreasing the txpower output.. neither seemed to help
</I>&gt;<i> &gt;&gt; any. I suspect something else may be the cause of the poor  
</I>&gt;<i> &gt;&gt; performance
</I>&gt;<i> &gt;&gt; that I'm seeing. I'll try to rule out the card as a problem tonight  
</I>&gt;<i> &gt;&gt; by
</I>&gt;<i> &gt;&gt; setting up an Ad-Hoc network under Windows XP. If I observe good
</I>&gt;<i> &gt;&gt; performance then maybe b43 is the issue... In which case.. I'll start
</I>&gt;<i> &gt;&gt; the painful process of comparing the Windows driver to b43. If I find
</I>&gt;<i> &gt;&gt; any discrepancies, I'll send them to the reverse engineers to be
</I>&gt;<i> &gt;&gt; posted with the rest of the specs. Then maybe you or someone else can
</I>&gt;<i> &gt;&gt; make the appropriate changes to b43.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; 4318 currently is not usable in AP mode due to low but (for AP mode)  
</I>&gt;<i> &gt; significant
</I>&gt;<i> &gt; packet loss in high transmission rates.
</I>&gt;<i> &gt; I doubt this will change unless Broadcom releases some code.
</I>&gt;<i> Michael,
</I>&gt;<i> 
</I>&gt;<i> is this for all 4318? I'm doing extensive testing these days with both  
</I>&gt;<i> 4318 and 4306 on x86. I always get very good performance with latest  
</I>&gt;<i> hostapd on 2.6.29-rc2-wl. I can also reach maximum theoretical  
</I>&gt;<i> throughput if I choose channel 14 to limit interferences. I get max  
</I>&gt;<i> throughput independently of the board running hostapd and traffic  
</I>&gt;<i> direction.
</I>&gt;<i> 
</I>&gt;<i> All this applies to both AP and stations being x86 linux based, e.g.,  
</I>&gt;<i> if I try to join an x86 AP running b43 from my macbook I can get good  
</I>&gt;<i> performance only occasionally.
</I>&gt;<i> 
</I>&gt;<i> Good performance also if the station is a linksys wrt54gl (it uses a  
</I>&gt;<i> 4318). I can't instead run hostapd successfully on these linksys.
</I>
4318 is good enough for STA mode, but in AP mode it doesn't work correctly, because
it simply loses too many packets. So it loses important management frames, etc... .
If you limit the TX rate to 24M it becomes usable, however.
4306 is _much_ better in AP mode.

Of course, there always are exceptions to these rules, because there are about
a million completely different 4318 and and 4306 cards out there.
So you might be lucky to pick one of the few 4318 that works well in AP mode, or
you might pick one of the few 4306 that don't work too well.

-- 
Greetings, Michael.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005412.html">b43 Hostap Performance
</A></li>
	<LI>Next message: <A HREF="005414.html">b43 Hostap Performance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5413">[ date ]</a>
              <a href="thread.html#5413">[ thread ]</a>
              <a href="subject.html#5413">[ subject ]</a>
              <a href="author.html#5413">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">More information about the Bcm43xx-dev
mailing list</a><br>
</body></html>
