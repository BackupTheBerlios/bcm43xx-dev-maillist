<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> bcm4311 very unstable in kernel 2.6.21.4
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2007-June/index.html" >
   <LINK REL="made" HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20bcm4311%20very%20unstable%20in%20kernel%202.6.21.4&In-Reply-To=%3Cb2d05de20706101725o7493928cr936e4e1bfbcbb6c0%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001395.html">
   <LINK REL="Next"  HREF="001397.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>bcm4311 very unstable in kernel 2.6.21.4</H1>
    <B>Brennan Ashton</B> 
    <A HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20bcm4311%20very%20unstable%20in%20kernel%202.6.21.4&In-Reply-To=%3Cb2d05de20706101725o7493928cr936e4e1bfbcbb6c0%40mail.gmail.com%3E"
       TITLE="bcm4311 very unstable in kernel 2.6.21.4">comphappy at gmail.com
       </A><BR>
    <I>Mon Jun 11 02:25:24 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="001395.html">bcm4311 very unstable in kernel 2.6.21.4
</A></li>
        <LI>Next message: <A HREF="001397.html">bcm4311 very unstable in kernel 2.6.21.4
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1396">[ date ]</a>
              <a href="thread.html#1396">[ thread ]</a>
              <a href="subject.html#1396">[ subject ]</a>
              <a href="author.html#1396">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I applied the new firmware with similar results, failed within 5min this
time. The console if filled with this message hundreds of times.

bcm43xx: ASSERTION FAILED (!ring-&gt;suspended) at:
drivers/net/wireless/bcm43xx/bcm43xx_dma.c:71:request_slot()

Then i lose connection altogether (networkmanager locks up).  I go to the
console and see this message:
bcm43xx: Controller RESET (TX timeout) ...
bcm43xx: IRQ_READY timeout
bcm43xx: core_up for active 802.11 core failed (-19)
bcm43xx: Controller restart failed

When i go to do a rmmod bcm43xx i get this:
rmmod bcm43xx
bcm43xx: ASSERTION FAILED (!err) at:
drivers/net/wireless/bcm43xx/bcm43xx_main.c:4095:bcm43xx_net_stop()

and rmmod never completes execution, system then becomes very unstable.

Also wifi speeds seem to be less when it is actually running then in kernel
2.6.20.3, with the earlier patch.  The kernel is currently vanilla, are
there any other patches that i should try?  This patch seemed relaited, but
looks like it may have already been upstreamed
<A HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2006-November/003223.html?">http://lists.berlios.de/pipermail/bcm43xx-dev/2006-November/003223.html?</A>





On 6/10/07, Martin Langer &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">martin-langer at gmx.de</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> On Sat, Jun 09, 2007 at 10:23:47PM -0700, Brennan Ashton wrote:
</I>&gt;<i>
</I>&gt;<i> &gt; bcm43xx: Chip ID 0x4311, rev 0x1
</I>&gt;<i> &gt; bcm43xx: Number of cores: 4
</I>&gt;<i> &gt; bcm43xx: Core 0: ID 0x800, rev 0x11, vendor 0x4243
</I>&gt;<i> &gt; bcm43xx: Core 1: ID 0x812, rev 0xa, vendor 0x4243
</I>&gt;<i> &gt; bcm43xx: Core 2: ID 0x817, rev 0x3, vendor 0x4243
</I>&gt;<i> &gt; bcm43xx: Core 3: ID 0x820, rev 0x1, vendor 0x4243
</I>&gt;<i> &gt; bcm43xx: PHY connected
</I>&gt;<i> &gt; bcm43xx: Detected PHY: Version: 4, Type 2, Revision 8
</I>&gt;<i> &gt; bcm43xx: Detected Radio: ID: 2205017f (Manuf: 17f Ver: 2050 Rev: 2)
</I>&gt;<i> &gt; bcm43xx: Radio turned off
</I>&gt;<i> &gt; bcm43xx: Radio turned off
</I>&gt;<i> &gt; bcm43xx: PHY connected
</I>&gt;<i> &gt; bcm43xx: Microcode rev 0xf5, pl 0x5a (2003-12-22  20:11:25)
</I>&gt;<i>
</I>&gt;<i> Did you already tried newer firmware files?
</I>&gt;<i> e.g. <A HREF="http://downloads.openwrt.org/sources/wl_apsta-3.130.20.0.o">http://downloads.openwrt.org/sources/wl_apsta-3.130.20.0.o</A>
</I>&gt;<i>
</I>&gt;<i> Martin
</I>&gt;<i>
</I>


-- 
Brennan Ashton
Bellingham, Washington

&quot;The box said, 'Requires Windows 98 or better'. So I installed Linux&quot;
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/bcm43xx-dev/attachments/20070610/11dddd7e/attachment.html">https://lists.berlios.de/pipermail/bcm43xx-dev/attachments/20070610/11dddd7e/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001395.html">bcm4311 very unstable in kernel 2.6.21.4
</A></li>
	<LI>Next message: <A HREF="001397.html">bcm4311 very unstable in kernel 2.6.21.4
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1396">[ date ]</a>
              <a href="thread.html#1396">[ thread ]</a>
              <a href="subject.html#1396">[ subject ]</a>
              <a href="author.html#1396">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">More information about the Bcm43xx-dev
mailing list</a><br>
</body></html>
