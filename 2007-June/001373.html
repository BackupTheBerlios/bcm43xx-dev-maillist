<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> wlan 1390, broadcom bcm4311
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2007-June/index.html" >
   <LINK REL="made" HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20wlan%201390%2C%20broadcom%20bcm4311&In-Reply-To=%3C46639702.3090903%40Wetwork.Net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001372.html">
   <LINK REL="Next"  HREF="001374.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>wlan 1390, broadcom bcm4311</H1>
    <B>Ehud Gavron</B> 
    <A HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20wlan%201390%2C%20broadcom%20bcm4311&In-Reply-To=%3C46639702.3090903%40Wetwork.Net%3E"
       TITLE="wlan 1390, broadcom bcm4311">gavron at Wetwork.Net
       </A><BR>
    <I>Mon Jun  4 06:37:22 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="001372.html">wlan 1390, broadcom bcm4311
</A></li>
        <LI>Next message: <A HREF="001374.html">wlan 1390, broadcom bcm4311
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1373">[ date ]</a>
              <a href="thread.html#1373">[ thread ]</a>
              <a href="subject.html#1373">[ subject ]</a>
              <a href="author.html#1373">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Ndiswrapper works fine, ignore the 4k stacks warning.


Your firmware seems fine. Here's my 4311 (Dell 1390): bcm43xx_mac80211: 
Loading firmware version 371.1061 (2006-10-04 21:02:04)
The fact that you see APs in the scan means it works.


You didn't include the iwlist, so we can't tell if it's a weak reception 
under bcm43xx_mac80211 (but I suspect it is) that's causing the 
dissassociation.


As for the &quot;Mode&quot; and the &quot;Rate&quot; remove the extraneous parameters from 
your /etc/sysconfig/network-scripts/ifup-eth1.cfg


Ehud




John Pierce wrote:
&gt;<i> Hello and greetings to the list members.
</I>&gt;<i>
</I>&gt;<i> I have been using opensuse 10.2 with the ndiswrapper on a 2.6.18
</I>&gt;<i> kernel and this worked.  I just recently converted this laptop to
</I>&gt;<i> fedora 7 with a 2.6.21 kernel.
</I>&gt;<i>
</I>&gt;<i> I have found that ndiswrapper will not drive the card because of the
</I>&gt;<i> 4k stacks.  I have been trying to figure out the bcm43xx_mac80211 and
</I>&gt;<i> I keep coming up short.
</I>&gt;<i>
</I>&gt;<i> Here is what I have tried and some of the responses;
</I>&gt;<i>
</I>&gt;<i> I have read that I need the ver 4 firmware so I downloaded it from here,
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://downloads.openwrt.org/sources/wl_apsta-3.130.20.0.o.">http://downloads.openwrt.org/sources/wl_apsta-3.130.20.0.o.</A>
</I>&gt;<i>
</I>&gt;<i> and when I modprobe the driver I find this line in the dmesg output
</I>&gt;<i>
</I>&gt;<i>  bcm43xx_mac80211: Loading firmware version 351.126 (2006-07-29 05:54:02)
</I>&gt;<i>
</I>&gt;<i> Does this look like the correct firmware version?  I am not sure!
</I>&gt;<i>
</I>&gt;<i> Here is the interesting part, if I bring up wlan0 and do a iwlist
</I>&gt;<i> scanning I see my cell along with about 6 others in the neighborhood,
</I>&gt;<i> but I keep getting these messages in the dmesg output:
</I>&gt;<i>
</I>&gt;<i> bcm43xx_mac80211: Adding Interface type 2
</I>&gt;<i> bcm43xx_mac80211: Loading firmware version 351.126 (2006-07-29 05:54:02)
</I>&gt;<i> ssb: Switching to ChipCommon core, index 0
</I>&gt;<i> ssb: Switching to IEEE 802.11 core, index 1
</I>&gt;<i> bcm43xx_mac80211: Radio turned on
</I>&gt;<i> bcm43xx_mac80211: Radio enabled by hardware
</I>&gt;<i> bcm43xx_mac80211: !WARNING! Idle-TSSI phy-&gt;cur_idle_tssi measuring
</I>&gt;<i> failed. (cur=26, tgt=62). Disabling TX power adjustment.
</I>&gt;<i> bcm43xx_mac80211: Chip initialized
</I>&gt;<i> bcm43xx_mac80211: 32-bit DMA initialized
</I>&gt;<i> bcm43xx_mac80211: Wireless interface started
</I>&gt;<i> ADDRCONF(NETDEV_UP): wlan0: link is not ready
</I>&gt;<i> bcm43xx_mac80211: Using hardware based encryption for keyidx: 0, mac:
</I>&gt;<i> ff:ff:ff:ff:ff:ff
</I>&gt;<i> wlan0: Initial auth_alg=0
</I>&gt;<i> wlan0: authenticate with AP 00:11:95:2c:26:02
</I>&gt;<i> wlan0: RX authentication from 00:11:95:2c:26:02 (alg=0 transaction=2 status=0)
</I>&gt;<i> wlan0: authenticated
</I>&gt;<i> wlan0: associate with AP 00:11:95:2c:26:02
</I>&gt;<i> wlan0: RX ReassocResp from 00:11:95:2c:26:02 (capab=0x431 status=0 aid=3)
</I>&gt;<i> wlan0: associated
</I>&gt;<i> ADDRCONF(NETDEV_CHANGE): wlan0: link becomes ready
</I>&gt;<i> wlan0: no IPv6 routers present
</I>&gt;<i> wlan0: No ProbeResp from current AP 00:11:95:2c:26:02 - assume out of range
</I>&gt;<i> wlan0: No STA entry for own AP 00:11:95:2c:26:02
</I>&gt;<i> wlan0: No STA entry for own AP 00:11:95:2c:26:02
</I>&gt;<i> wlan0: No STA entry for own AP 00:11:95:2c:26:02
</I>&gt;<i> wlan0: No STA entry for own AP 00:11:95:2c:26:02
</I>&gt;<i>
</I>&gt;<i> Also, when I bring up the link I get the following messages from the
</I>&gt;<i> ifup command:
</I>&gt;<i>
</I>&gt;<i> Error for wireless request &quot;Set Mode&quot; (8B06) :
</I>&gt;<i>     SET failed on device wlan0 ; Invalid argument.
</I>&gt;<i> Error for wireless request &quot;Set Bit Rate&quot; (8B20) :
</I>&gt;<i>     SET failed on device wlan0 ; Operation not supported.
</I>&gt;<i>
</I>&gt;<i> This is the output of lspci -vn
</I>&gt;<i>
</I>&gt;<i> 03:00.0 0280: 14e4:4311 (rev 01)
</I>&gt;<i>         Subsystem: 103c:1363
</I>&gt;<i>         Flags: fast devsel, IRQ 21
</I>&gt;<i>         Memory at b8000000 (32-bit, non-prefetchable) [size=16K]
</I>&gt;<i>         Capabilities: [40] Power Management version 2
</I>&gt;<i>         Capabilities: [58] Message Signalled Interrupts: Mask- 64bit-
</I>&gt;<i> Queue=0/0 Enable-
</I>&gt;<i>         Capabilities: [d0] Express Legacy Endpoint IRQ 0
</I>&gt;<i>
</I>&gt;<i> I know that I am close, I can get a scanning of the cells around my
</I>&gt;<i> area.  Just not quite there yet.
</I>&gt;<i>
</I>&gt;<i> Oh, I tried the router with encryption off and the system wide open,
</I>&gt;<i> as well as my usual wep encryption.  Still no joy.
</I>&gt;<i>
</I>&gt;<i> The system is an HP Pavillion DV9208NR and the pcie card is listed a
</I>&gt;<i> dell wlan 1390.
</I>&gt;<i>
</I>&gt;<i> Any thoughts, suggestions, or hints would be greatly appreciated.
</I>&gt;<i>
</I>&gt;<i> If I can supply any further information I will be glad to.
</I>&gt;<i>
</I>&gt;<i> I am also will to help with the debugging and correction of any
</I>&gt;<i> potential problems.  It would not be the first time I have torn down
</I>&gt;<i> and put back together a system.
</I>&gt;<i>
</I>&gt;<i>   
</I>-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 3283 bytes
Desc: S/MIME Cryptographic Signature
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/bcm43xx-dev/attachments/20070603/14ef47b0/attachment.bin">https://lists.berlios.de/pipermail/bcm43xx-dev/attachments/20070603/14ef47b0/attachment.bin</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001372.html">wlan 1390, broadcom bcm4311
</A></li>
	<LI>Next message: <A HREF="001374.html">wlan 1390, broadcom bcm4311
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1373">[ date ]</a>
              <a href="thread.html#1373">[ thread ]</a>
              <a href="subject.html#1373">[ subject ]</a>
              <a href="author.html#1373">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">More information about the Bcm43xx-dev
mailing list</a><br>
</body></html>
