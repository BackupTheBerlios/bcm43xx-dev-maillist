<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> wlan 1390, broadcom bcm4311
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2007-June/index.html" >
   <LINK REL="made" HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20wlan%201390%2C%20broadcom%20bcm4311&In-Reply-To=%3Caa73b9a0706032132h418efd43o29b31abfa52ecca1%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001378.html">
   <LINK REL="Next"  HREF="001373.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>wlan 1390, broadcom bcm4311</H1>
    <B>John Pierce</B> 
    <A HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20wlan%201390%2C%20broadcom%20bcm4311&In-Reply-To=%3Caa73b9a0706032132h418efd43o29b31abfa52ecca1%40mail.gmail.com%3E"
       TITLE="wlan 1390, broadcom bcm4311">john.j35 at gmail.com
       </A><BR>
    <I>Mon Jun  4 06:32:23 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="001378.html">BUG: at net/mac80211/ieee80211.c:1280 ieee80211_tx()
</A></li>
        <LI>Next message: <A HREF="001373.html">wlan 1390, broadcom bcm4311
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1372">[ date ]</a>
              <a href="thread.html#1372">[ thread ]</a>
              <a href="subject.html#1372">[ subject ]</a>
              <a href="author.html#1372">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello and greetings to the list members.

I have been using opensuse 10.2 with the ndiswrapper on a 2.6.18
kernel and this worked.  I just recently converted this laptop to
fedora 7 with a 2.6.21 kernel.

I have found that ndiswrapper will not drive the card because of the
4k stacks.  I have been trying to figure out the bcm43xx_mac80211 and
I keep coming up short.

Here is what I have tried and some of the responses;

I have read that I need the ver 4 firmware so I downloaded it from here,

<A HREF="http://downloads.openwrt.org/sources/wl_apsta-3.130.20.0.o.">http://downloads.openwrt.org/sources/wl_apsta-3.130.20.0.o.</A>

and when I modprobe the driver I find this line in the dmesg output

 bcm43xx_mac80211: Loading firmware version 351.126 (2006-07-29 05:54:02)

Does this look like the correct firmware version?  I am not sure!

Here is the interesting part, if I bring up wlan0 and do a iwlist
scanning I see my cell along with about 6 others in the neighborhood,
but I keep getting these messages in the dmesg output:

bcm43xx_mac80211: Adding Interface type 2
bcm43xx_mac80211: Loading firmware version 351.126 (2006-07-29 05:54:02)
ssb: Switching to ChipCommon core, index 0
ssb: Switching to IEEE 802.11 core, index 1
bcm43xx_mac80211: Radio turned on
bcm43xx_mac80211: Radio enabled by hardware
bcm43xx_mac80211: !WARNING! Idle-TSSI phy-&gt;cur_idle_tssi measuring
failed. (cur=26, tgt=62). Disabling TX power adjustment.
bcm43xx_mac80211: Chip initialized
bcm43xx_mac80211: 32-bit DMA initialized
bcm43xx_mac80211: Wireless interface started
ADDRCONF(NETDEV_UP): wlan0: link is not ready
bcm43xx_mac80211: Using hardware based encryption for keyidx: 0, mac:
ff:ff:ff:ff:ff:ff
wlan0: Initial auth_alg=0
wlan0: authenticate with AP 00:11:95:2c:26:02
wlan0: RX authentication from 00:11:95:2c:26:02 (alg=0 transaction=2 status=0)
wlan0: authenticated
wlan0: associate with AP 00:11:95:2c:26:02
wlan0: RX ReassocResp from 00:11:95:2c:26:02 (capab=0x431 status=0 aid=3)
wlan0: associated
ADDRCONF(NETDEV_CHANGE): wlan0: link becomes ready
wlan0: no IPv6 routers present
wlan0: No ProbeResp from current AP 00:11:95:2c:26:02 - assume out of range
wlan0: No STA entry for own AP 00:11:95:2c:26:02
wlan0: No STA entry for own AP 00:11:95:2c:26:02
wlan0: No STA entry for own AP 00:11:95:2c:26:02
wlan0: No STA entry for own AP 00:11:95:2c:26:02

Also, when I bring up the link I get the following messages from the
ifup command:

Error for wireless request &quot;Set Mode&quot; (8B06) :
    SET failed on device wlan0 ; Invalid argument.
Error for wireless request &quot;Set Bit Rate&quot; (8B20) :
    SET failed on device wlan0 ; Operation not supported.

This is the output of lspci -vn

03:00.0 0280: 14e4:4311 (rev 01)
        Subsystem: 103c:1363
        Flags: fast devsel, IRQ 21
        Memory at b8000000 (32-bit, non-prefetchable) [size=16K]
        Capabilities: [40] Power Management version 2
        Capabilities: [58] Message Signalled Interrupts: Mask- 64bit-
Queue=0/0 Enable-
        Capabilities: [d0] Express Legacy Endpoint IRQ 0

I know that I am close, I can get a scanning of the cells around my
area.  Just not quite there yet.

Oh, I tried the router with encryption off and the system wide open,
as well as my usual wep encryption.  Still no joy.

The system is an HP Pavillion DV9208NR and the pcie card is listed a
dell wlan 1390.

Any thoughts, suggestions, or hints would be greatly appreciated.

If I can supply any further information I will be glad to.

I am also will to help with the debugging and correction of any
potential problems.  It would not be the first time I have torn down
and put back together a system.

-- 
John
Registered Linux User 263680, get counted at
<A HREF="http://counter.li.org">http://counter.li.org</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001378.html">BUG: at net/mac80211/ieee80211.c:1280 ieee80211_tx()
</A></li>
	<LI>Next message: <A HREF="001373.html">wlan 1390, broadcom bcm4311
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1372">[ date ]</a>
              <a href="thread.html#1372">[ thread ]</a>
              <a href="subject.html#1372">[ subject ]</a>
              <a href="author.html#1372">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">More information about the Bcm43xx-dev
mailing list</a><br>
</body></html>
