<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [RFC PATCH] bcm43xx QoS support
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2007-June/index.html" >
   <LINK REL="made" HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20%5BRFC%20PATCH%5D%20bcm43xx%20QoS%20support&In-Reply-To=%3C1182071444.23681.14.camel%40johannes.berg%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001412.html">
   <LINK REL="Next"  HREF="001414.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[RFC PATCH] bcm43xx QoS support</H1>
    <B>Johannes Berg</B> 
    <A HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20%5BRFC%20PATCH%5D%20bcm43xx%20QoS%20support&In-Reply-To=%3C1182071444.23681.14.camel%40johannes.berg%3E"
       TITLE="[RFC PATCH] bcm43xx QoS support">johannes at sipsolutions.net
       </A><BR>
    <I>Sun Jun 17 11:10:44 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="001412.html">[RFC PATCH] bcm43xx QoS support
</A></li>
        <LI>Next message: <A HREF="001414.html">[4318] Problem with connecting
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1413">[ date ]</a>
              <a href="thread.html#1413">[ thread ]</a>
              <a href="subject.html#1413">[ subject ]</a>
              <a href="author.html#1413">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sun, 2007-06-17 at 02:30 +0300, Tomas Winkler wrote:

&gt;<i> &gt; &gt; There is also a discussion about supporting hardware queues in qdisc
</I>&gt;<i> &gt; &gt; in netdev.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Which isn't really a concern to the driver since only mac80211 will need
</I>&gt;<i> &gt; to be changed for that.
</I>&gt;<i> &gt;
</I>&gt;<i> I'm not sure it's only mac80211 problem as driver is responsible for
</I>&gt;<i> stopping and waking up the queues. Only driver knows whether hw queue
</I>&gt;<i> is full or not.
</I>
Of course, but we already have that API in mac80211, hence well-written
drivers already tell mac80211 about it so all we'd need to do is change
mac80211 to tell the net layer :)

&gt;<i> &gt; I suppose the question is: what are we missing in mac80211 now? It seems
</I>&gt;<i> &gt; that we have no way of sending out QoS-data frames and that seems weird.
</I>&gt;<i> 
</I>&gt;<i> QoS frame are send just fine by mac80211 (at least under iwlwifi),
</I>&gt;<i> only the sequence numbers has to be overwritten in driver since the
</I>&gt;<i> current handler doesn't advance them per TID.
</I>
Oh, you're right, I missed that wme_qdiscop_enqueue does that.

&gt;<i> &gt; Nor do we parse TXOP information etc. Possibly this is because we
</I>&gt;<i> &gt; support WME and that's based on an early 802.11e draft?
</I>&gt;<i> 
</I>&gt;<i> I addition wme.c qdisc scheduler is rather naive one, it only
</I>&gt;<i> statically assign priorities, it wouldn't pass WMM certification I
</I>&gt;<i> guess.
</I>
I have no idea what WMM certification contains. All I've been trying to
say is that this area really needs some work to be useful.

For the problem at hand, namely some QoS support in bcm43xx, we'll just
have to hardcode some QoS parameters for now, I'd think, but I don't
know what those would be.

johannes
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 190 bytes
Desc: This is a digitally signed message part
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/bcm43xx-dev/attachments/20070617/b15fb508/attachment.pgp">https://lists.berlios.de/pipermail/bcm43xx-dev/attachments/20070617/b15fb508/attachment.pgp</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001412.html">[RFC PATCH] bcm43xx QoS support
</A></li>
	<LI>Next message: <A HREF="001414.html">[4318] Problem with connecting
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1413">[ date ]</a>
              <a href="thread.html#1413">[ thread ]</a>
              <a href="subject.html#1413">[ subject ]</a>
              <a href="author.html#1413">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">More information about the Bcm43xx-dev
mailing list</a><br>
</body></html>
