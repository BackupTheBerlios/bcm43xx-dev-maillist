<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> mac80211 initial rate: a question
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2007-June/index.html" >
   <LINK REL="made" HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20mac80211%20initial%20rate%3A%20a%20question&In-Reply-To=%3C466045F2.6010708%40lwfinger.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001341.html">
   <LINK REL="Next"  HREF="001354.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>mac80211 initial rate: a question</H1>
    <B>Larry Finger</B> 
    <A HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20mac80211%20initial%20rate%3A%20a%20question&In-Reply-To=%3C466045F2.6010708%40lwfinger.net%3E"
       TITLE="mac80211 initial rate: a question">Larry.Finger at lwfinger.net
       </A><BR>
    <I>Fri Jun  1 18:14:42 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="001341.html">bcm4306 mini pci trouble
</A></li>
        <LI>Next message: <A HREF="001354.html">mac80211 initial rate: a question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1344">[ date ]</a>
              <a href="thread.html#1344">[ thread ]</a>
              <a href="subject.html#1344">[ subject ]</a>
              <a href="author.html#1344">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>In routine rate_control_simple_rate_init in net/mac80211/rc80211_simple.c, there is a comment that says

         /* TODO: what is a good starting rate for STA? About middle? Maybe not
          * the lowest or the highest rate.. Could consider using RSSI from
          * previous packets? Need to have IEEE 802.1X auth succeed immediately
          * after assoc.. */

After that the code goes on to set the rate equal to the last one in the rate table, which might be 
the highest rate. Although that rate might be OK for most of the devices using mac80211, it 
certainly is not for bcm43xx, which does not have the ability to transmit or receive at speeds much 
above 1 Mbs. In a private patch circulated only on the bcm43xx mailing list, I changed this routine 
to set an initial rate of 1 Mbs, which certainly helps bcm43xx authenticate and communicate with the 
DHCP server.

If this low rate were to be set for all drivers, how rapidly would the rate-control algorithm 
respond? Would this cause a serious performance degradation?

Larry

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001341.html">bcm4306 mini pci trouble
</A></li>
	<LI>Next message: <A HREF="001354.html">mac80211 initial rate: a question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1344">[ date ]</a>
              <a href="thread.html#1344">[ thread ]</a>
              <a href="subject.html#1344">[ subject ]</a>
              <a href="author.html#1344">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">More information about the Bcm43xx-dev
mailing list</a><br>
</body></html>
