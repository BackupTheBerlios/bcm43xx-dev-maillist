<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Status for bcm43xx-mac80211 on BCM4311
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2007-June/index.html" >
   <LINK REL="made" HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20Status%20for%20bcm43xx-mac80211%20on%20BCM4311&In-Reply-To=%3C200706222258.02570.mb%40bu3sch.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001448.html">
   <LINK REL="Next"  HREF="001450.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Status for bcm43xx-mac80211 on BCM4311</H1>
    <B>Michael Buesch</B> 
    <A HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20Status%20for%20bcm43xx-mac80211%20on%20BCM4311&In-Reply-To=%3C200706222258.02570.mb%40bu3sch.de%3E"
       TITLE="Status for bcm43xx-mac80211 on BCM4311">mb at bu3sch.de
       </A><BR>
    <I>Fri Jun 22 22:58:02 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="001448.html">Status for bcm43xx-mac80211 on BCM4311
</A></li>
        <LI>Next message: <A HREF="001450.html">[PATCH] bcm43xx-mac80211: Fix deviations from OFDM table specs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1453">[ date ]</a>
              <a href="thread.html#1453">[ thread ]</a>
              <a href="subject.html#1453">[ subject ]</a>
              <a href="author.html#1453">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Friday 22 June 2007 19:09:41 Larry Finger wrote:
&gt;<i> Michael,
</I>&gt;<i> 
</I>&gt;<i> I have now gotten some fairly reproducible iperf results with the latest version from your tree 
</I>&gt;<i> using my BCM4311. In general, the transmission rate is higher than the receive rate. In addition, it 
</I>&gt;<i> is much more consistent. While receiving, I might get a rate of 2 Mbs, but the next several are 
</I>&gt;<i> likely to be 50 Kbs, or less. The other thing I note is that I get no throughput for speeds that use 
</I>&gt;<i> OFDM.
</I>&gt;<i> 
</I>&gt;<i> Using my code for setting and fixing the rate, I get the following transmission rates:
</I>&gt;<i> 
</I>&gt;<i> Rate Set	Iperf Rate
</I>&gt;<i> 
</I>&gt;<i> 1 Mbs		1.24 Mbs
</I>&gt;<i> 2 		2.01
</I>&gt;<i> 5.5 		4.13
</I>&gt;<i> 11		6.58
</I>&gt;<i> 
</I>&gt;<i> My tx_power settings are as follows:
</I>&gt;<i> 
</I>&gt;<i> larrylap:~ # cat /sys/kernel/debug/bcm43xx_mac80211/phy0/tx_power_g
</I>&gt;<i> Control:               AUTOMATIC
</I>&gt;<i> Baseband attenuation:  0
</I>&gt;<i> Radio attenuation:     3
</I>&gt;<i> TX Mixer Gain:         OFF
</I>&gt;<i> PA Gain 2dB:           OFF
</I>&gt;<i> PA Gain 3dB:           OFF
</I>&gt;<i> 
</I>&gt;<i> I get the following with tx_power debugging turned on:
</I>&gt;<i> 
</I>&gt;<i> bcm43xx_mac80211: Current TX power output: 19.0 dBm, Desired TX power output: 18.50 dBm
</I>&gt;<i> bcm43xx_mac80211: Tuning TX-power to bbatt(0), rfatt(3), tx_control(0x00), tx_bias(0x00), tx_magn(0x00)
</I>&gt;<i> 
</I>&gt;<i> Are there any specific settings for tx_power_g that you would like me to try?
</I>
Nothing specific. Just play around with it a little bit.
Try setting maximum and minimum attenuation settings. Try to enable/disable
the various gains, etc...
Maximum is set by simply setting some big value such as 99. It will clamp
that into range then.
Also try the UDP mode of iperf. As with TCP mode TX might bias the RX results.

-- 
Greetings Michael.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001448.html">Status for bcm43xx-mac80211 on BCM4311
</A></li>
	<LI>Next message: <A HREF="001450.html">[PATCH] bcm43xx-mac80211: Fix deviations from OFDM table specs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1453">[ date ]</a>
              <a href="thread.html#1453">[ thread ]</a>
              <a href="subject.html#1453">[ subject ]</a>
              <a href="author.html#1453">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">More information about the Bcm43xx-dev
mailing list</a><br>
</body></html>
