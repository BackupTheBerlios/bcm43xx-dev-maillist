<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Firmware loading problem
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2007-June/index.html" >
   <LINK REL="made" HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20Firmware%20loading%20problem&In-Reply-To=%3C200706201700.33886.nospam001-lists%40jankoh.dyndns.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001420.html">
   <LINK REL="Next"  HREF="001423.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Firmware loading problem</H1>
    <B>Jan Kohnert</B> 
    <A HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20Firmware%20loading%20problem&In-Reply-To=%3C200706201700.33886.nospam001-lists%40jankoh.dyndns.org%3E"
       TITLE="Firmware loading problem">nospam001-lists at jankoh.dyndns.org
       </A><BR>
    <I>Wed Jun 20 17:00:29 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="001420.html">[bcm-users]
</A></li>
        <LI>Next message: <A HREF="001423.html">Firmware loading problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1422">[ date ]</a>
              <a href="thread.html#1422">[ thread ]</a>
              <a href="subject.html#1422">[ subject ]</a>
              <a href="author.html#1422">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Folks,

First of all, sorry to bother you with that users-question, but the forum is 
down for at least one week now...

I have a problem with my bcm4311 card.

As far as I read, it is now (2.6.21) fully compatible with the driver you 
write.

I'm using Gentoo x86_64 and have set up the card using your docs. I also 
downloaded the firmware and used fwcutter to put it into /lib/firmware 
and /lib64/firmware. These directories are correct, as I have a TV card, 
also, which loads its firmware from that directory.

But the bcm43xx module does not load any firmware and the card is not 
correctly set up.

<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">jankoh at kohni-mobil</A> ~ $ /usr/sbin/lspci -n | grep 43
03:00.0 0280: 14e4:4311 (rev 01)
<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">jankoh at kohni-mobil</A> ~ $ /usr/sbin/lspci | grep 03:00
03:00.0 Network controller: Broadcom Corporation BCM94311MCG wlan mini-PCI 
(rev 01)
<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">jankoh at kohni-mobil</A> ~ $

I use the firmware in 80211g.zip (BCMWL564.SYS) which is for 64bit, but I also 
tried SP23107.exe (bcmwl5.sys) as source file. I hope this is correct.

What am I doing wrong? I will attach the trace of 'modprobe bcm43xx'.

Thanks in advance!

-- 
MfG Jan
-------------- next part --------------
execve(&quot;/sbin/modprobe&quot;, [&quot;modprobe&quot;, &quot;bcm43xx&quot;], [/* 44 vars */]) = 0
brk(0)                                  = 0x508000
mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x2ab1aec4f000
uname({sys=&quot;Linux&quot;, node=&quot;kohni-mobil&quot;, ...}) = 0
access(&quot;/etc/ld.so.preload&quot;, R_OK)      = -1 ENOENT (No such file or directory)
open(&quot;/etc/ld.so.cache&quot;, O_RDONLY)      = 3
fstat(3, {st_mode=S_IFREG|0644, st_size=154579, ...}) = 0
mmap(NULL, 154579, PROT_READ, MAP_PRIVATE, 3, 0) = 0x2ab1aec50000
close(3)                                = 0
open(&quot;/lib/libz.so.1&quot;, O_RDONLY)        = 3
read(3, &quot;\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0&gt;\0\1\0\0\0 \35\0\0&quot;..., 832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=89696, ...}) = 0
mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x2ab1aec76000
mmap(NULL, 1135880, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0x2ab1aed51000
mprotect(0x2ab1aed66000, 1048576, PROT_NONE) = 0
mmap(0x2ab1aee66000, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x15000) = 0x2ab1aee66000
close(3)                                = 0
open(&quot;/lib/libc.so.6&quot;, O_RDONLY)        = 3
read(3, &quot;\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0&gt;\0\1\0\0\0p\324\1\0&quot;..., 832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=1314928, ...}) = 0
mmap(NULL, 2334920, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0x2ab1aee67000
mprotect(0x2ab1aef99000, 1044480, PROT_NONE) = 0
mmap(0x2ab1af098000, 20480, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x131000) = 0x2ab1af098000
mmap(0x2ab1af09d000, 16584, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) = 0x2ab1af09d000
close(3)                                = 0
mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x2ab1af0a2000
mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x2ab1af0a3000
arch_prctl(ARCH_SET_FS, 0x2ab1af0a2ae0) = 0
mprotect(0x2ab1af098000, 12288, PROT_READ) = 0
mprotect(0x2ab1aed4f000, 4096, PROT_READ) = 0
munmap(0x2ab1aec50000, 154579)          = 0
create_module(NULL, 0)                  = -1 ENOSYS (Function not implemented)
uname({sys=&quot;Linux&quot;, node=&quot;kohni-mobil&quot;, ...}) = 0
fstat(2, {st_mode=S_IFCHR|0600, st_rdev=makedev(4, 1), ...}) = 0
brk(0)                                  = 0x508000
brk(0x529000)                           = 0x529000
open(&quot;/etc/modprobe.conf&quot;, O_RDONLY|O_NONBLOCK|O_DIRECTORY) = -1 ENOTDIR (Not a directory)
open(&quot;/etc/modprobe.conf&quot;, O_RDONLY)    = 3
fstat(3, {st_mode=S_IFREG|0644, st_size=5917, ...}) = 0
mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x2ab1aec50000
read(3, &quot;### This file is automatically g&quot;..., 4096) = 4096
read(3, &quot;unl0 ipip\nalias cipcb0 cipcb\nali&quot;..., 4096) = 1821
read(3, &quot;&quot;, 4096)                       = 0
close(3)                                = 0
munmap(0x2ab1aec50000, 4096)            = 0
open(&quot;/lib/modules/2.6.21-gentoo-r3/modules.dep&quot;, O_RDONLY) = 3
fstat(3, {st_mode=S_IFREG|0644, st_size=191416, ...}) = 0
mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x2ab1aec50000
read(3, &quot;/lib/modules/2.6.21-gentoo-r3/ke&quot;..., 4096) = 4096
read(3, &quot;l/net/ipv6/netfilter/ip6_tables.&quot;..., 4096) = 4096
read(3, &quot;lter/xt_string.ko: /lib/modules/&quot;..., 4096) = 4096
read(3, &quot;/net/netfilter/xt_NFQUEUE.ko: /l&quot;..., 4096) = 4096
read(3, &quot;el/net/ipx/ipx.ko: /lib/modules/&quot;..., 4096) = 4096
read(3, &quot;dules/2.6.21-gentoo-r3/kernel/ne&quot;..., 4096) = 4096
read(3, &quot;l/net/netfilter/nf_conntrack.ko &quot;..., 4096) = 4096
read(3, &quot;ules/2.6.21-gentoo-r3/kernel/net&quot;..., 4096) = 4096
read(3, &quot;les/2.6.21-gentoo-r3/kernel/driv&quot;..., 4096) = 4096
read(3, &quot;drivers/media/dvb/frontends/cx24&quot;..., 4096) = 4096
read(3, &quot;.6.21-gentoo-r3/kernel/drivers/m&quot;..., 4096) = 4096
read(3, &quot;edia/dvb/frontends/bcm3510.ko /l&quot;..., 4096) = 4096
read(3, &quot;ia/dvb/frontends/lgdt330x.ko /li&quot;..., 4096) = 4096
read(3, &quot;3/kernel/drivers/media/dvb/front&quot;..., 4096) = 4096
read(3, &quot;kernel/drivers/media/dvb/dvb-cor&quot;..., 4096) = 4096
read(3, &quot;gentoo-r3/kernel/drivers/media/r&quot;..., 4096) = 4096
read(3, &quot;media/video/video-buf.ko /lib/mo&quot;..., 4096) = 4096
read(3, &quot;ib/modules/2.6.21-gentoo-r3/kern&quot;..., 4096) = 4096
read(3, &quot;ko /lib/modules/2.6.21-gentoo-r3&quot;..., 4096) = 4096
read(3, &quot;o/ovcamchip/ovcamchip.ko:\n/lib/m&quot;..., 4096) = 4096
read(3, &quot;nel/drivers/media/video/dabusb.k&quot;..., 4096) = 4096
read(3, &quot;b/modules/2.6.21-gentoo-r3/kerne&quot;..., 4096) = 4096
read(3, &quot;rs/net/irda/w83977af_ir.ko: /lib&quot;..., 4096) = 4096
read(3, &quot;entoo-r3/kernel/drivers/net/pcmc&quot;..., 4096) = 4096
close(3)                                = 0
munmap(0x2ab1aec50000, 4096)            = 0
open(&quot;/lib/modules/2.6.21-gentoo-r3/kernel/net/ieee80211/ieee80211_crypt.ko&quot;, O_RDWR) = 3
fcntl(3, F_SETLKW, {type=F_WRLCK, whence=SEEK_SET, start=0, len=1}) = 0
open(&quot;/proc/modules&quot;, O_RDONLY)         = 4
fstat(4, {st_mode=S_IFREG|0444, st_size=0, ...}) = 0
mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x2ab1aec50000
read(4, &quot;xfs 475656 1 - Live 0xffffffff88&quot;..., 1024) = 1024
read(4, &quot;0 1 k8temp, Live 0xffffffff88056&quot;..., 1024) = 335
read(4, &quot;&quot;, 1024)                       = 0
close(4)                                = 0
munmap(0x2ab1aec50000, 4096)            = 0
fcntl(3, F_GETFL)                       = 0x8002 (flags O_RDWR|O_LARGEFILE)
fstat(3, {st_mode=S_IFREG|0644, st_size=11422, ...}) = 0
mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x2ab1aec50000
lseek(3, 0, SEEK_CUR)                   = 0
read(3, &quot;\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\1\0&gt;\0\1\0\0\0\0\0\0\0&quot;..., 16384) = 11422
read(3, &quot;&quot;, 4096)                       = 0
read(3, &quot;&quot;, 4096)                       = 0
read(3, &quot;&quot;, 4096)                       = 0
init_module(0x50f670, 11422, &quot;&quot;)        = 0
close(3)                                = 0
open(&quot;/lib/modules/2.6.21-gentoo-r3/kernel/net/ieee80211/ieee80211.ko&quot;, O_RDWR) = 3
fcntl(3, F_SETLKW, {type=F_WRLCK, whence=SEEK_SET, start=0, len=1}) = 0
open(&quot;/proc/modules&quot;, O_RDONLY)         = 4
fstat(4, {st_mode=S_IFREG|0444, st_size=0, ...}) = 0
mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x2ab1aec51000
read(4, &quot;ieee80211_crypt 7424 0 - Live 0x&quot;..., 1024) = 1024
read(4, &quot;k8temp 7360 0 - Live 0xffffffff8&quot;..., 1024) = 384
read(4, &quot;&quot;, 1024)                       = 0
close(4)                                = 0
munmap(0x2ab1aec51000, 4096)            = 0
fcntl(3, F_GETFL)                       = 0x8002 (flags O_RDWR|O_LARGEFILE)
fstat(3, {st_mode=S_IFREG|0644, st_size=64476, ...}) = 0
mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x2ab1aec51000
lseek(3, 0, SEEK_CUR)                   = 0
read(3, &quot;\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\1\0&gt;\0\1\0\0\0\0\0\0\0&quot;..., 16384) = 16384
read(3, &quot;\17\225\300\&quot;D$&gt;\210D$?\17\204\257\1\0\0H\203|$x\0\17\204&quot;..., 16384) = 16384
read(3, &quot;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0&quot;..., 32768) = 31708
read(3, &quot;&quot;, 4096)                       = 0
read(3, &quot;&quot;, 4096)                       = 0
init_module(0x515e20, 64476, &quot;&quot;)        = 0
close(3)                                = 0
open(&quot;/lib/modules/2.6.21-gentoo-r3/kernel/net/ieee80211/softmac/ieee80211softmac.ko&quot;, O_RDWR) = 3
fcntl(3, F_SETLKW, {type=F_WRLCK, whence=SEEK_SET, start=0, len=1}) = 0
open(&quot;/proc/modules&quot;, O_RDONLY)         = 4
fstat(4, {st_mode=S_IFREG|0444, st_size=0, ...}) = 0
mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x2ab1aec52000
read(4, &quot;ieee80211 45492 0 - Live 0xfffff&quot;..., 1024) = 1024
read(4, &quot;000 (P)\ni2c_nforce2 7424 0 - Liv&quot;..., 1024) = 437
read(4, &quot;&quot;, 1024)                       = 0
close(4)                                = 0
munmap(0x2ab1aec52000, 4096)            = 0
fcntl(3, F_GETFL)                       = 0x8002 (flags O_RDWR|O_LARGEFILE)
fstat(3, {st_mode=S_IFREG|0644, st_size=45569, ...}) = 0
mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x2ab1aec52000
lseek(3, 0, SEEK_CUR)                   = 0
read(3, &quot;\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\1\0&gt;\0\1\0\0\0\0\0\0\0&quot;..., 16384) = 16384
read(3, &quot;e80211/softmac/ieee80211softmac_&quot;..., 16384) = 16384
brk(0x555000)                           = 0x555000
brk(0x54d000)                           = 0x54d000
read(3, &quot;\2\0\0\0v\0\0\0\374\377\377\377\377\377\377\377m.\0\0\0&quot;..., 32768) = 12801
read(3, &quot;&quot;, 16384)                      = 0
read(3, &quot;&quot;, 16384)                      = 0
init_module(0x51c5d0, 45569, &quot;&quot;)        = 0
brk(0x53d000)                           = 0x53d000
close(3)                                = 0
open(&quot;/lib/modules/2.6.21-gentoo-r3/kernel/drivers/net/wireless/bcm43xx/bcm43xx.ko&quot;, O_RDWR) = 3
fcntl(3, F_SETLKW, {type=F_WRLCK, whence=SEEK_SET, start=0, len=1}) = 0
open(&quot;/proc/modules&quot;, O_RDONLY)         = 4
fstat(4, {st_mode=S_IFREG|0444, st_size=0, ...}) = 0
mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x2ab1aec53000
read(4, &quot;ieee80211softmac 31168 0 - Live &quot;..., 1024) = 1024
read(4, &quot;0 - Live 0xffffffff887cd000\nnvid&quot;..., 1024) = 504
read(4, &quot;&quot;, 1024)                       = 0
close(4)                                = 0
munmap(0x2ab1aec53000, 4096)            = 0
fcntl(3, F_GETFL)                       = 0x8002 (flags O_RDWR|O_LARGEFILE)
fstat(3, {st_mode=S_IFREG|0644, st_size=287531, ...}) = 0
mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x2ab1aec53000
lseek(3, 0, SEEK_CUR)                   = 0
read(3, &quot;\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\1\0&gt;\0\1\0\0\0\0\0\0\0&quot;..., 16384) = 16384
read(3, &quot;\0\272\24\4\0\0\276\1\0\0\0\350\0\0\0\0H\213\205\10\2\0&quot;..., 16384) = 16384
read(3, &quot;\3\0\0\350\0\0\0\0001\322\276&amp;\0\0\0H\211\337\350\0\0\0&quot;..., 32768) = 32768
mmap(NULL, 135168, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x2ab1aec54000
read(3, &quot;f\211D$\2\350\0\0\0\0\276C\0\0\0H\211\337f\211D$&amp;\350\0&quot;..., 65536) = 65536
mremap(0x2ab1aec54000, 135168, 266240, MREMAP_MAYMOVE) = 0x2ab1aec77000
read(3, &quot;description=Broadcom BCM43xx wir&quot;..., 131072) = 131072
mremap(0x2ab1aec77000, 266240, 528384, MREMAP_MAYMOVE) = 0x2ab1aec77000
read(3, &quot;\\\2\0\0\1\0\7\0\20\4\0\0\0\0\0\0\24\0\0\0\0\0\0\0k\2\0&quot;..., 262144) = 25387
read(3, &quot;&quot;, 233472)                     = 0
read(3, &quot;&quot;, 233472)                     = 0
init_module(0x2ab1aec77010, 287531, &quot;&quot;) = 0
munmap(0x2ab1aec77000, 528384)          = 0
close(3)                                = 0
exit_group(0)                           = ?
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/bcm43xx-dev/attachments/20070620/1359cdae/attachment.pgp">https://lists.berlios.de/pipermail/bcm43xx-dev/attachments/20070620/1359cdae/attachment.pgp</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001420.html">[bcm-users]
</A></li>
	<LI>Next message: <A HREF="001423.html">Firmware loading problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1422">[ date ]</a>
              <a href="thread.html#1422">[ thread ]</a>
              <a href="subject.html#1422">[ subject ]</a>
              <a href="author.html#1422">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">More information about the Bcm43xx-dev
mailing list</a><br>
</body></html>
