<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> bcm4311 who likes to disassociate (yet associates just fine using	knoppix)
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2009-January/index.html" >
   <LINK REL="made" HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20bcm4311%20who%20likes%20to%20disassociate%20%28yet%20associates%20just%20fine%20using%0A%09knoppix%29&In-Reply-To=%3C578ff7cb0901212113i73bc8113g36eb18116407ec81%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005064.html">
   <LINK REL="Next"  HREF="005068.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>bcm4311 who likes to disassociate (yet associates just fine using	knoppix)</H1>
    <B>Nate Lally</B> 
    <A HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20bcm4311%20who%20likes%20to%20disassociate%20%28yet%20associates%20just%20fine%20using%0A%09knoppix%29&In-Reply-To=%3C578ff7cb0901212113i73bc8113g36eb18116407ec81%40mail.gmail.com%3E"
       TITLE="bcm4311 who likes to disassociate (yet associates just fine using	knoppix)">nate.lally at gmail.com
       </A><BR>
    <I>Thu Jan 22 06:13:21 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="005064.html">Very poor performances with bcm4306 rev. 3
</A></li>
        <LI>Next message: <A HREF="005068.html">Broadcom driver in Android
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5067">[ date ]</a>
              <a href="thread.html#5067">[ thread ]</a>
              <a href="subject.html#5067">[ subject ]</a>
              <a href="author.html#5067">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,
  I didn't actually subscribe to the bcm43 mailing list so I'm not
quite sure if anyone actually received the prior emails.  Nor am I
convinced it is actually the domain of those working on the b43
firmware considering the fact that the exact same kernel compile and
modprobe configs are being used on the non-working ubuntu distribution
yet associate just fine while booting knoppix under the below
circumstances.

Any help/direction would be appreciated.

-Nate Lally

On 1/8/09, Nate Lally &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">nate.lally at gmail.com</A>&gt; wrote:
&gt;<i> An inspiring new development.  I boot the laptop with knoppix 5.3.1
</I>&gt;<i> utilizing kernel version 2.6.24.4, I mount the firmware for bcm43xx @ 2.6.24
</I>&gt;<i> on /lib/firmware and discover not only can I associate, I can utilize wep
</I>&gt;<i> and pull an ip.  From there I copy the /boot/config and compile a 2.6.24-4
</I>&gt;<i> kernel with those options using gcc 4.2.4 (because of a reported bug with
</I>&gt;<i> gcc 4.3 and time.h) only to find that now card does not report ready ie:
</I>&gt;<i>
</I>&gt;<i> input: b43-phy0 as /class/input/input9
</I>&gt;<i> Registered led device: b43-phy0:tx
</I>&gt;<i> Registered led device: b43-phy0:rx
</I>&gt;<i> Registered led device: b43-phy0:radio
</I>&gt;<i> ADDRCONF(NETDEV_UP): wlan0: link is not ready
</I>&gt;<i> eth0: no IPv6 routers present
</I>&gt;<i> wlan0: Initial auth_alg=0
</I>&gt;<i> wlan0: authenticate with AP 00:16:b6:55:77:b3
</I>&gt;<i> wlan0: authenticate with AP 00:16:b6:55:77:b3
</I>&gt;<i> wlan0: authenticate with AP 00:16:b6:55:77:b3
</I>&gt;<i> wlan0: authentication with AP 00:16:b6:55:77:b3 timed out
</I>&gt;<i>
</I>&gt;<i> any ideas/flames/help/suggestions would help from you guys
</I>&gt;<i>
</I>&gt;<i> thanks again
</I>&gt;<i> -Nate Lally
</I>&gt;<i>
</I>&gt;<i> On Tue, Jan 6, 2009 at 1:11 AM, Nate Lally &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">nate.lally at gmail.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Hi All,
</I>&gt;&gt;<i>   I'm wondering where to get started debugging this issue, not a lot of
</I>&gt;&gt;<i> wifi experience... I have a laptop I inherited with no pcmcia slot and a
</I>&gt;&gt;<i> broadcom bcm4311 wifi chip.  Whenever I try to associate to an access
</I>&gt;&gt;<i> point
</I>&gt;&gt;<i> with no encryption, the card associates, then shortly thereafter
</I>&gt;&gt;<i> disassociates stating reason 3 (as you'll see in the following dmesg)...
</I>&gt;&gt;<i> I
</I>&gt;&gt;<i> still haven't tracked down the reason 3 from the call to
</I>&gt;&gt;<i> ieee80211_sta_disassociate   in mlme.c (I can't find what calls
</I>&gt;&gt;<i> ieee80211_ioctl_siwmlme).
</I>&gt;&gt;<i> but it seems to me that a ioctl call to disassociate must be stemming from
</I>&gt;&gt;<i> a state machine that decided something was wrong or missing that the
</I>&gt;&gt;<i> driver
</I>&gt;&gt;<i> should be providing/correcting..
</I>&gt;&gt;<i> any tips tricks ideas directions would be much appreciated...
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">root at aello</A>:/usr/src/wireless-testing# uname -a
</I>&gt;&gt;<i> Linux aello 2.6.28 #2 Mon Jan 5 20:12:00 CST 2009 i686 GNU/Linux
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">root at aello</A>:/usr/src/wireless-testing# git describe
</I>&gt;&gt;<i> v2.6.28-10356-g738910c
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">root at aello</A>:/usr/src/wireless-testing# lspci -vvvn | grep 43 -A7
</I>&gt;&gt;<i> 06:00.0 0280: 14e4:4311 (rev 01)
</I>&gt;&gt;<i>     Subsystem: 103c:1363
</I>&gt;&gt;<i>     Control: I/O+ Mem+ BusMaster+ SpecCycle- MemWINV- VGASnoop- ParErr-
</I>&gt;&gt;<i> Stepping- SERR+ FastB2B- DisINTx-
</I>&gt;&gt;<i>     Status: Cap+ 66MHz- UDF- FastB2B- ParErr- DEVSEL=fast &gt;TAbort-
</I>&gt;&gt;<i> &lt;TAbort-
</I>&gt;&gt;<i> &lt;MAbort- &gt;SERR- &lt;PERR- INTx-
</I>&gt;&gt;<i>     Latency: 0, Cache Line Size: 64 bytes
</I>&gt;&gt;<i>     Interrupt: pin A routed to IRQ 18
</I>&gt;&gt;<i>     Region 0: Memory at 30000000 (32-bit, non-prefetchable) [size=16K]
</I>&gt;&gt;<i>     Capabilities: [40] Power Management version 2
</I>&gt;&gt;<i> --
</I>&gt;&gt;<i>     Kernel driver in use: b43-pci-bridge
</I>&gt;&gt;<i>     Kernel modules: ssb
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> dmesg output
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> [11471.880103] b43-phy0: Loading firmware version 410.2160 (2007-05-26
</I>&gt;&gt;<i> 15:32:10)
</I>&gt;&gt;<i> [11471.940137] b43-phy0 debug: Chip initialized
</I>&gt;&gt;<i> [11471.940357] b43-phy0 debug: 32-bit DMA initialized
</I>&gt;&gt;<i> [11471.962122] Registered led device: b43-phy0::tx
</I>&gt;&gt;<i> [11471.962145] Registered led device: b43-phy0::rx
</I>&gt;&gt;<i> [11471.962175] Registered led device: b43-phy0::radio
</I>&gt;&gt;<i> [11471.962256] b43-phy0 debug: Wireless interface started
</I>&gt;&gt;<i> [11471.968608] b43-phy0 debug: Adding Interface type 2
</I>&gt;&gt;<i> [11471.980606] ADDRCONF(NETDEV_UP): wlan0: link is not ready
</I>&gt;&gt;<i> [11515.922066] wlan0: direct probe to AP 00:16:b6:xx:xx:xx try 1
</I>&gt;&gt;<i> [11516.120072] wlan0: direct probe to AP 00:16:b6:xx:xx:xx try 2
</I>&gt;&gt;<i> [11516.123276] wlan0 direct probe responded
</I>&gt;&gt;<i> [11516.123280] wlan0: authenticate with AP 00:16:b6:xx:xx:xx
</I>&gt;&gt;<i> [11516.125125] wlan0: authenticated
</I>&gt;&gt;<i> [11516.125129] wlan0: associate with AP 00:16:b6:xx:xx:xx
</I>&gt;&gt;<i> [11516.127714] wlan0: RX AssocResp from 00:16:b6:xx:xx:xx (capab=0x421
</I>&gt;&gt;<i> status=0 aid=9)
</I>&gt;&gt;<i> [11516.127717] wlan0: associated
</I>&gt;&gt;<i> [11516.127722] phy0: Allocated STA 00:16:b6:xx:xx:xx
</I>&gt;&gt;<i> [11516.128449] phy0: Inserted STA 00:16:b6:xx:xx:xx
</I>&gt;&gt;<i> [11516.128454] wmaster0: WMM queue=2 aci=0 acm=0 aifs=3 cWmin=15
</I>&gt;&gt;<i> cWmax=1023
</I>&gt;&gt;<i> txop=0
</I>&gt;&gt;<i> [11516.129191] wmaster0: WMM queue=3 aci=1 acm=0 aifs=7 cWmin=15
</I>&gt;&gt;<i> cWmax=1023
</I>&gt;&gt;<i> txop=0
</I>&gt;&gt;<i> [11516.129287] wmaster0: WMM queue=1 aci=2 acm=0 aifs=2 cWmin=7 cWmax=15
</I>&gt;&gt;<i> txop=94
</I>&gt;&gt;<i> [11516.129382] wmaster0: WMM queue=0 aci=3 acm=0 aifs=2 cWmin=3 cWmax=7
</I>&gt;&gt;<i> txop=47
</I>&gt;&gt;<i> [11516.129471] wlan0: switched to short barker preamble
</I>&gt;&gt;<i> (BSSID=00:16:b6:xx:xx:xx)
</I>&gt;&gt;<i> [11516.129475] wlan0: switched to short slot (BSSID=00:16:b6:xx:xx:xx)
</I>&gt;&gt;<i> [11516.130166] ADDRCONF(NETDEV_CHANGE): wlan0: link becomes ready
</I>&gt;&gt;<i> [11516.130271] wlan0: disassociating by local choice (reason=3)
</I>&gt;&gt;<i> [11516.136255] phy0: Removed STA 00:16:b6:xx:xx:xx
</I>&gt;&gt;<i> [11516.136293] phy0: Destroyed STA 00:16:b6:xx:xx:xx
</I>&gt;&gt;<i> [11526.172056] wlan0: no IPv6 routers present
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> --
</I>&gt;&gt;<i> Nate Lally
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Nate
</I>&gt;<i> (763)-607-7630
</I>&gt;<i>
</I>

-- 
Nate
(763)-607-7630

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005064.html">Very poor performances with bcm4306 rev. 3
</A></li>
	<LI>Next message: <A HREF="005068.html">Broadcom driver in Android
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5067">[ date ]</a>
              <a href="thread.html#5067">[ thread ]</a>
              <a href="subject.html#5067">[ subject ]</a>
              <a href="author.html#5067">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">More information about the Bcm43xx-dev
mailing list</a><br>
</body></html>
