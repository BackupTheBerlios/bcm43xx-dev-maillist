<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> bcm4306 mini pci trouble
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2007-May/index.html" >
   <LINK REL="made" HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20bcm4306%20mini%20pci%20trouble&In-Reply-To=%3C51ad2e0d0705310208w1ac73faet4c8950b717e2ff48%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001322.html">
   <LINK REL="Next"  HREF="001324.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>bcm4306 mini pci trouble</H1>
    <B>Bin Zhang</B> 
    <A HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20bcm4306%20mini%20pci%20trouble&In-Reply-To=%3C51ad2e0d0705310208w1ac73faet4c8950b717e2ff48%40mail.gmail.com%3E"
       TITLE="bcm4306 mini pci trouble">yangtze31 at gmail.com
       </A><BR>
    <I>Thu May 31 11:08:14 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="001322.html">bcm4306 mini pci trouble
</A></li>
        <LI>Next message: <A HREF="001324.html">bcm4306 mini pci trouble
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1323">[ date ]</a>
              <a href="thread.html#1323">[ thread ]</a>
              <a href="subject.html#1323">[ subject ]</a>
              <a href="author.html#1323">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 5/31/07, Markus Rothe &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">markus at unixforces.net</A>&gt; wrote:
&gt;<i> On Thu, 31 May 2007 08:21:02 +0200,
</I>&gt;<i> Markus Rothe &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">markus at unixforces.net</A>&gt; wrote:
</I>&gt;<i> &gt; And one last question: Why is eth1 *and* wlan0_rename created?
</I>&gt;<i> &gt; shouldn't be there only one interface for one device? (I'm using udev
</I>&gt;<i> &gt; 104 if that matters).
</I>&gt;<i>
</I>&gt;<i> I fixed my udev rules.. Now I have that wlan0 interface I want. So
</I>&gt;<i> missing issues are the kernel module loading and authentication with the
</I>&gt;<i> AP.
</I>&gt;<i>
</I>
I have a 4306 card:
0001:10:12.0 Network controller: Broadcom Corporation BCM4306
802.11b/g Wireless LAN Controller (rev 03)

bcm43xx_mac80211 stops working with wireless-dev git  29 May 2007.
bcm43xx works.

May 30 22:43:42 localhost kernel: PCI: Enabling device 0001:10:12.0
(0004 -&gt; 0006)
May 30 22:43:42 localhost kernel: ssb: Core 0 found: ChipCommon (cc
0x800, rev 0x04, vendor 0x4243)
May 30 22:43:42 localhost kernel: ssb: Core 1 found: IEEE 802.11 (cc
0x812, rev 0x05, vendor 0x4243)
May 30 22:43:42 localhost kernel: ssb: Core 2 found: PCMCIA (cc 0x80D,
rev 0x02, vendor 0x4243)
May 30 22:43:42 localhost kernel: ssb: Core 3 found: V90 (cc 0x807,
rev 0x02, vendor 0x4243)
May 30 22:43:42 localhost kernel: ssb: Core 4 found: PCI (cc 0x804,
rev 0x09, vendor 0x4243)
May 30 22:43:42 localhost kernel: ssb: Switching to ChipCommon core, index 0
May 30 22:43:42 localhost kernel: ssb: Switching to PCI core, index 4
May 30 22:43:42 localhost kernel: ssb: Sonics Silicon Backplane found
on PCI device 0001:10:12.0
May 30 22:43:42 localhost kernel: bcm43xx_mac80211: Broadcom 4306 WLAN found
May 30 22:43:42 localhost kernel: ssb: Switching to IEEE 802.11 core, index 1
May 30 22:43:42 localhost kernel: bcm43xx_mac80211: Found PHY: Analog
2, Type 2, Revision 2
May 30 22:43:42 localhost kernel: bcm43xx_mac80211: Found Radio: Manuf
0x17F, Version 0x2050, Revision 2
May 30 22:43:42 localhost kernel: bcm43xx_mac80211: Radio turned off
May 30 22:43:42 localhost kernel: Device driver phy0 lacks bus and
class support for being resumed.
May 30 22:43:42 localhost kernel: Device driver wmaster0 lacks bus and
class support for being resumed.
May 30 22:43:43 localhost kernel: wmaster0: Selected rate control
algorithm 'simple'
May 30 22:43:43 localhost kernel: Device driver wlan0 lacks bus and
class support for being resumed.
May 30 22:43:44 localhost kernel: bcm43xx_mac80211: Adding Interface type 2
May 30 22:43:44 localhost kernel: ssb: Switching to PCI core, index 4
May 30 22:43:44 localhost kernel: ssb: Switching to IEEE 802.11 core, index 1
May 30 22:43:44 localhost kernel: Device driver ssb0:0 lacks bus and
class support for being resumed.
May 30 22:43:44 localhost last message repeated 3 times
May 30 22:43:44 localhost kernel: bcm43xx_mac80211: Loading firmware
version 351.126 (2006-07-29 05:54:02)
May 30 22:43:44 localhost kernel: ssb: Switching to ChipCommon core, index 0
May 30 22:43:44 localhost kernel: ssb: Switching to IEEE 802.11 core, index 1
May 30 22:43:44 localhost kernel: bcm43xx_mac80211: Radio turned on
May 30 22:43:44 localhost kernel: bcm43xx_mac80211: Radio enabled by hardware
May 30 22:43:44 localhost kernel: bcm43xx_mac80211: !WARNING!
Idle-TSSI phy-&gt;cur_idle_tssi measuring failed. (cur=0, tgt=62).
Disabling TX power adjustment.
May 30 22:43:44 localhost kernel: bcm43xx_mac80211: Chip initialized
May 30 22:43:44 localhost kernel: bcm43xx_mac80211: 30-bit DMA initialized
May 30 22:43:44 localhost kernel: bcm43xx_mac80211: Wireless interface started
May 30 22:43:44 localhost kernel: ADDRCONF(NETDEV_UP): wlan0: link is not ready
May 30 22:43:46 localhost dhclient: Internet Systems Consortium DHCP
Client V3.0.4
May 30 22:43:46 localhost dhclient: Copyright 2004-2006 Internet
Systems Consortium.
May 30 22:43:46 localhost dhclient: All rights reserved.
May 30 22:43:46 localhost dhclient: For info, please visit
<A HREF="http://www.isc.org/sw/dhcp/">http://www.isc.org/sw/dhcp/</A>
May 30 22:43:46 localhost dhclient:
May 30 22:43:46 localhost dhclient: wmaster0: unknown hardware address type 801
May 30 22:43:46 localhost kernel: wlan0: Initial auth_alg=0
May 30 22:43:46 localhost kernel: wlan0: authenticate with AP 00:11:95:36:fc:f7
May 30 22:43:46 localhost kernel: wlan0: RX authentication from
00:11:95:36:fc:f7 (alg=0 transaction=2 status=0)
May 30 22:43:46 localhost kernel: wlan0: authenticated
May 30 22:43:46 localhost kernel: wlan0: associate with AP 00:11:95:36:fc:f7
May 30 22:43:46 localhost kernel: wlan0: RX AssocResp from
00:11:95:36:fc:f7 (capab=0x471 status=0 aid=1)
May 30 22:43:46 localhost kernel: wlan0: associated
May 30 22:43:46 localhost kernel: ADDRCONF(NETDEV_CHANGE): wlan0: link
becomes ready
May 30 22:43:47 localhost dhclient: wmaster0: unknown hardware address type 801
May 30 22:43:47 localhost dhclient: Listening on LPF/wlan0/00:11:24:22:f5:04
May 30 22:43:47 localhost dhclient: Sending on   LPF/wlan0/00:11:24:22:f5:04
May 30 22:43:47 localhost dhclient: Sending on   Socket/fallback
May 30 22:43:50 localhost dhclient: DHCPDISCOVER on wlan0 to
255.255.255.255 port 67 interval 3
May 30 22:43:53 localhost dhclient: DHCPDISCOVER on wlan0 to
255.255.255.255 port 67 interval 4
May 30 22:43:56 localhost kernel: wlan0: no IPv6 routers present
May 30 22:43:57 localhost dhclient: DHCPDISCOVER on wlan0 to
255.255.255.255 port 67 interval 9
May 30 22:44:06 localhost dhclient: DHCPDISCOVER on wlan0 to
255.255.255.255 port 67 interval 11
May 30 22:44:17 localhost dhclient: DHCPDISCOVER on wlan0 to
255.255.255.255 port 67 interval 19
May 30 22:44:23 localhost dhclient: Internet Systems Consortium DHCP
Client V3.0.4
May 30 22:44:23 localhost dhclient: Copyright 2004-2006 Internet
Systems Consortium.
May 30 22:44:23 localhost dhclient: All rights reserved.
May 30 22:44:23 localhost dhclient: For info, please visit
<A HREF="http://www.isc.org/sw/dhcp/">http://www.isc.org/sw/dhcp/</A>
May 30 22:44:23 localhost dhclient:
May 30 22:44:23 localhost dhclient: wmaster0: unknown hardware address type 801
May 30 22:44:23 localhost dhclient: wmaster0: unknown hardware address type 801
May 30 22:44:23 localhost dhclient: Listening on LPF/wlan0/00:11:24:22:f5:04
May 30 22:44:23 localhost dhclient: Sending on   LPF/wlan0/00:11:24:22:f5:04
May 30 22:44:23 localhost dhclient: Sending on   Socket/fallback
May 30 22:44:23 localhost dhclient: DHCPRELEASE on wlan0 to 192.168.0.1 port 67
May 30 22:44:23 localhost dhclient: send_packet: Network is unreachable
May 30 22:44:23 localhost dhclient: send_packet: please consult README
file regarding broadcast address.
May 30 22:44:23 localhost kernel: bcm43xx_mac80211: Removing Interface type 2
May 30 22:44:23 localhost kernel: bcm43xx_mac80211: Wireless interface stopped
May 30 22:44:23 localhost kernel: bcm43xx_mac80211: DMA-32 0x0200 (RX)
max used slots: 1/64
May 30 22:44:23 localhost kernel: bcm43xx_mac80211: DMA-32 0x02A0 (TX)
max used slots: 0/128
May 30 22:44:23 localhost kernel: bcm43xx_mac80211: DMA-32 0x0280 (TX)
max used slots: 0/128
May 30 22:44:23 localhost kernel: bcm43xx_mac80211: DMA-32 0x0260 (TX)
max used slots: 0/128
May 30 22:44:23 localhost kernel: bcm43xx_mac80211: DMA-32 0x0240 (TX)
max used slots: 0/128
May 30 22:44:23 localhost kernel: bcm43xx_mac80211: DMA-32 0x0220 (TX)
max used slots: 22/128
May 30 22:44:23 localhost kernel: bcm43xx_mac80211: DMA-32 0x0200 (TX)
max used slots: 0/128
May 30 22:44:23 localhost kernel: bcm43xx_mac80211: Radio turned off
May 30 22:44:23 localhost kernel: ssb: Switching to ChipCommon core, index 0
May 30 22:44:23 localhost kernel: ssb: Switching to IEEE 802.11 core, index 1
May 30 22:44:23 localhost kernel: bcm43xx_mac80211: Radio turned off
May 30 22:44:28 localhost kernel: ieee80211_crypt: registered algorithm 'NULL'
May 30 22:44:28 localhost kernel: ieee80211: 802.11
data/management/control stack, git-1.1.13
May 30 22:44:28 localhost kernel: ieee80211: Copyright (C) 2004-2005
Intel Corporation &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">jketreno at linux.intel.com</A>&gt;
May 30 22:44:28 localhost kernel: bcm43xx driver
May 30 22:44:28 localhost kernel: bcm43xx: Chip ID 0x4306, rev 0x3
May 30 22:44:28 localhost kernel: bcm43xx: Number of cores: 5
May 30 22:44:28 localhost kernel: bcm43xx: Core 0: ID 0x800, rev 0x4,
vendor 0x4243
May 30 22:44:28 localhost kernel: bcm43xx: Core 1: ID 0x812, rev 0x5,
vendor 0x4243
May 30 22:44:28 localhost kernel: bcm43xx: Core 2: ID 0x80d, rev 0x2,
vendor 0x4243
May 30 22:44:28 localhost kernel: bcm43xx: Core 3: ID 0x807, rev 0x2,
vendor 0x4243
May 30 22:44:28 localhost kernel: bcm43xx: Core 4: ID 0x804, rev 0x9,
vendor 0x4243
May 30 22:44:28 localhost kernel: bcm43xx: PHY connected
May 30 22:44:28 localhost kernel: bcm43xx: Detected PHY: Analog: 2,
Type 2, Revision 2
May 30 22:44:28 localhost kernel: bcm43xx: Detected Radio: ID:
2205017f (Manuf: 17f Ver: 2050 Rev: 2)
May 30 22:44:28 localhost kernel: bcm43xx: Radio turned off
May 30 22:44:28 localhost kernel: bcm43xx: Radio turned off
May 30 22:44:28 localhost kernel: Device driver eth1 lacks bus and
class support for being resumed.
May 30 22:44:28 localhost kernel: bcm43xx: PHY connected
May 30 22:44:28 localhost kernel: Device driver 0001:10:12.0 lacks bus
and class support for being resumed.
May 30 22:44:28 localhost last message repeated 3 times
May 30 22:44:28 localhost kernel: bcm43xx: Microcode rev 0x127, pl 0xe
(2005-04-18  02:36:27)
May 30 22:44:28 localhost kernel: bcm43xx: Radio turned on
May 30 22:44:28 localhost kernel: bcm43xx: Radio enabled by hardware
May 30 22:44:29 localhost kernel: bcm43xx: Chip initialized
May 30 22:44:29 localhost kernel: bcm43xx: 30-bit DMA initialized
May 30 22:44:29 localhost kernel: bcm43xx: Keys cleared
May 30 22:44:29 localhost kernel: bcm43xx: Selected 802.11 core (phytype 2)
May 30 22:44:29 localhost kernel: ADDRCONF(NETDEV_UP): eth1: link is not ready
May 30 22:44:29 localhost ifd[3284]: executing:
'/usr/share/laptop-net/link-change eth1 unmanaged unknown
up,running,disconnected'
May 30 22:44:30 localhost kernel: bcm43xx: set security called, .level
= 0, .enabled = 0, .encrypt = 0
May 30 22:44:30 localhost last message repeated 3 times
May 30 22:44:30 localhost dhclient: Internet Systems Consortium DHCP
Client V3.0.4
May 30 22:44:30 localhost dhclient: Copyright 2004-2006 Internet
Systems Consortium.
May 30 22:44:30 localhost dhclient: All rights reserved.
May 30 22:44:30 localhost dhclient: For info, please visit
<A HREF="http://www.isc.org/sw/dhcp/">http://www.isc.org/sw/dhcp/</A>
May 30 22:44:30 localhost dhclient:
May 30 22:44:30 localhost kernel: SoftMAC: Open Authentication
completed with 00:11:95:36:fc:f7
May 30 22:44:30 localhost kernel: ADDRCONF(NETDEV_CHANGE): eth1: link
becomes ready
May 30 22:44:30 localhost kernel: ieee80211_crypt: registered algorithm 'TKIP'
May 30 22:44:30 localhost kernel: bcm43xx: set security called,
.active_key = 0, .level = 2, .enabled = 1, .encrypt = 1
May 30 22:44:30 localhost kernel: bcm43xx: set security called,
.enabled = 1, .encrypt = 1
May 30 22:44:31 localhost ifd[3284]: executing:
'/usr/share/laptop-net/link-change eth1 unmanaged
up,running,disconnected up,running,connected'
May 30 22:44:31 localhost dhclient: Listening on LPF/eth1/00:11:24:22:f5:04
May 30 22:44:31 localhost dhclient: Sending on   LPF/eth1/00:11:24:22:f5:04
May 30 22:44:31 localhost dhclient: Sending on   Socket/fallback
May 30 22:44:32 localhost dhclient: DHCPDISCOVER on eth1 to
255.255.255.255 port 67 interval 3
May 30 22:44:32 localhost dhclient: DHCPOFFER from 192.168.0.1
May 30 22:44:32 localhost dhclient: DHCPREQUEST on eth1 to
255.255.255.255 port 67
May 30 22:44:32 localhost dhclient: DHCPACK from 192.168.0.1
May 30 22:44:32 localhost postfix/master[3889]: reload configuration
/etc/postfix
May 30 22:44:32 localhost dhclient: bound to 192.168.0.101 -- renewal
in 271149 seconds.


Best regards,
Bin


&gt;<i> -markus
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Bcm43xx-dev mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">Bcm43xx-dev at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">https://lists.berlios.de/mailman/listinfo/bcm43xx-dev</A>
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001322.html">bcm4306 mini pci trouble
</A></li>
	<LI>Next message: <A HREF="001324.html">bcm4306 mini pci trouble
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1323">[ date ]</a>
              <a href="thread.html#1323">[ thread ]</a>
              <a href="subject.html#1323">[ subject ]</a>
              <a href="author.html#1323">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">More information about the Bcm43xx-dev
mailing list</a><br>
</body></html>
