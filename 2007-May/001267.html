<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> newbie questions
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2007-May/index.html" >
   <LINK REL="made" HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20newbie%20questions&In-Reply-To=%3C46361.143.116.116.200.1179424186.squirrel%40webmail.texascellnet.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001266.html">
   <LINK REL="Next"  HREF="001269.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>newbie questions</H1>
    <B>kbb at texascellnet.com</B> 
    <A HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20newbie%20questions&In-Reply-To=%3C46361.143.116.116.200.1179424186.squirrel%40webmail.texascellnet.com%3E"
       TITLE="newbie questions">kbb at texascellnet.com
       </A><BR>
    <I>Thu May 17 19:49:46 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="001266.html">SNR, Power output
</A></li>
        <LI>Next message: <A HREF="001269.html">newbie questions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1267">[ date ]</a>
              <a href="thread.html#1267">[ thread ]</a>
              <a href="subject.html#1267">[ subject ]</a>
              <a href="author.html#1267">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have been tasked with bringing up a CF card on petalinux.  This project
has no PCI/PCMCIA bus and the CF bus is a massaged store bought core. I am
using 2.4.32 w/ no MMU.


I basically have 3 address spaces for the CF card:
Memory access
I/O access
Attribute access


After RTFM of the documents page I now have enough intelligence to ask
some semi intelligent questions; so here it goes!

I can see the the CIS area under the attribute space and it is:
0001 0002 0000 00FF 001C 0004 0003 00D9
0001 00FF 001D 0004 0003 00D9 0001 00FF
0015 001E 0008 0000 0000 0000 0000 0000
0069 0000 00000000 0000 0000 0000 0000
002E 0000 0000 0000 0000 0000 0000 0000
0000 0000 0000 0000 0000 0000 0000 00FF
0020 0004 00D0 0002 0048 0004 0080 0005
0001 00E4 0014 0018 0043 0080 0002 0002
0040 0022 0008 0004 0006 0000 0017 0023
0000 008E 0011 0021 0002 0006 0000 0022
0002 0001 0007 0022 0005 0002 0040 0042
000F 0000 0022 0005 0002 0080 0084 001E
0000 0022 0005 0002 0060 00EC 0053 0000
0022 0005 0002 00C0 00D8 00A7 0000 0022
0005 0002 0080 008D 005B 0000 0022 0005
0002 0040 0054 0089 0000 0022 0005 0002
0000 001B 00B7 0000 0022 0005 0002 0080
00A8 0012 0001 0022 0005 0002 0000 0036
006E 0001 0022 0005 0002 0000 0051 0025
0002 0022 0005 0002 0000 006C 00DC 0002
0022 0005 0002 0080 00F9 0037 0003 0022
0002 0003 0007 0022 0002 0005 0001 001A
0005 0001 0001 0000 0007 000B 001B 0008
00C1 0001 0030 00B0 00FF 00FF 0008 0000
0080 0009 0003 0002 0015 00D4 00FA 00C8
00FE 003E 0052 0080 0002 0005 0000 0080
0002 0006 0003 0080 0002 0007 0000 0080
0003 0008 0048 0070 0080 0005 0009 00FF
00FF 00FF 00FF 0080 0009 0004 0000 0000
0000 0000 0000 0000 0000 0000 00FF 00FF
00FF 00FF 00FF 00FF 00FF 00FF 00FF 00FF
00FF 00FF 00FF 00FF 00FF 00FF 00FF 00FF

The dump of the memory space is as follows:

0000: 4318 0422 0009 0064 0000 0000 0000 0000
0010: 0000 0000 2028 2000 0000 0000 0000 0000
0020: 0000 0000 0000 0000 0000 0000 0000 0000
0030: 0000 0000 0000 0000 0000 0000 0000 0000
0040: 0000 0000 0000 0000 0000 0000 0000 0000
0050: 0000 0000 0000 0000 0000 0000 0000 0000
0060: 00CF 0000 0000 0000 0000 0000 0000 0000
0070: 0000 0000 0000 0000 00CF 0000 0000 0000
0080: 0000 0000 0000 0000 0000 0000 0000 0000
0090: 0000 0000 0000 0000 0000 0000 0000 0000
00A0: 0000 0000 0830 0008 0830 0008 0830 0008
00B0: 0000 0000 0000 0000 0000 0000 0000 0000
00C0: 0003 0000 00C8 00C8 00C8 00C8 00C8 00C8
00D0: 00C8 00C8 00C8 00C8 00C8 00C8 00C8 00C8
00E0: 00C8 00C8 00C8 00C8 00C8 00C8 00C8 00C8
00F0: 00C8 00C8 00C8 00C8 00C8 00C8 00C8 00C8
0100: 00C8 00C8 00C8 00C8 00C8 00C8 00C8 00C8
0110: 00C8 00C8 00C8 00C8 00C8 00C8 00C8 00C8
0120: 00C8 00C8 00C8 00C8 00C8 00C8 00C8 00C8
0130: 00C8 00C8 00C8 00C8 00C8 00C8 00C8 00C8
0140: 00C8 00C8 00C8 00C8 00C8 00C8 00C8 00C8
0150: 00C8 00C8 00C8 00C8 00C8 00C8 00C8 00C8
0160: 00C8 00C8 00C8 00C8 00C8 00C8 00C8 00C8

After looking at the Backplane/MIMO documentation on your website I think
that at memory offset 0x0000 is the:

CHIPID 		0x4318,
REV 			2
PKG OPT		2
NumberOfCores	4

Questions that I have:
 Is this really the CHIPID or something to do with the PCI registers?
 Also after searching thru memory I can not find the value 0x4243 for the
vendor ID of the card.

I can remap the areas of the the card to anywhere but I need more info to
get started.

I can not determine where the core address starts or how many cores I
have.  By the revision number above it seems that the NumberOfCores value
does not mean anything.
Is that correct?


What does the number 0x0830 0008 mean?
Is that the core type?

Any info you can give me to get started would be appreciated.

Thank you,
Kevin


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001266.html">SNR, Power output
</A></li>
	<LI>Next message: <A HREF="001269.html">newbie questions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1267">[ date ]</a>
              <a href="thread.html#1267">[ thread ]</a>
              <a href="subject.html#1267">[ subject ]</a>
              <a href="author.html#1267">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">More information about the Bcm43xx-dev
mailing list</a><br>
</body></html>
