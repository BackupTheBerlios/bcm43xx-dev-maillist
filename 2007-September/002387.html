<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Machine Check on Fedora rawhide kernel.
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2007-September/index.html" >
   <LINK REL="made" HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20Machine%20Check%20on%20Fedora%20rawhide%20kernel.&In-Reply-To=%3C46EAA3C7.8040701%40lwfinger.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002393.html">
   <LINK REL="Next"  HREF="002388.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Machine Check on Fedora rawhide kernel.</H1>
    <B>Larry Finger</B> 
    <A HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20Machine%20Check%20on%20Fedora%20rawhide%20kernel.&In-Reply-To=%3C46EAA3C7.8040701%40lwfinger.net%3E"
       TITLE="Machine Check on Fedora rawhide kernel.">larry.finger at lwfinger.net
       </A><BR>
    <I>Fri Sep 14 17:07:51 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="002393.html">Machine Check on Fedora rawhide kernel.
</A></li>
        <LI>Next message: <A HREF="002388.html">Machine Check on Fedora rawhide kernel.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2387">[ date ]</a>
              <a href="thread.html#2387">[ thread ]</a>
              <a href="subject.html#2387">[ subject ]</a>
              <a href="author.html#2387">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>David Woodhouse wrote:
&gt;<i> On Thu, 2007-09-13 at 14:44 -0500, Larry Finger wrote:
</I>&gt;&gt;<i> David,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Please try the patch below.
</I>&gt;<i> 
</I>&gt;<i> Differently buggered... now we hit the B43legacy_BUG_ON() in
</I>&gt;<i> b43legacy_rx() -- at least that's the _last_ trace I captured from the
</I>&gt;<i> screen; there were more further up.
</I>&gt;<i> 
</I>&gt;<i> This device is basically identical to the one I handed to John in
</I>&gt;<i> Cambridge last week. How do I force the b43 driver to bind to it?
</I>&gt;<i> 
</I>
As you saw from Michael's message, basically you cannot. The latest drivers and V4 firmware from
Broadcom have abandoned this device and the BCM4301, which is why b43legacy is needed. It may work
at the moment, but it could fail with any revisions in the specs based on a new Broadcom driver or
with new firmware.

Too bad that the device behaves so differently with ppc architecture. None of these problems happen
on my i386 platform. Performance is bad for OFDM rates, but otherwise the interface is OK.

The only way that b43legacy_rx() could generate a BUG_ON is if the bitrate codes in the received
message are messed up. The attached patch will partially silence those messages and let us see more.
Perhaps we can find the real cause. I certainly appreciate your assistance in debugging these problems.

Larry


-------------- next part --------------
A non-text attachment was scrubbed...
Name: gmode.patch
Type: text/x-patch
Size: 4734 bytes
Desc: not available
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/bcm43xx-dev/attachments/20070914/9c54fe7c/attachment.bin">https://lists.berlios.de/pipermail/bcm43xx-dev/attachments/20070914/9c54fe7c/attachment.bin</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002393.html">Machine Check on Fedora rawhide kernel.
</A></li>
	<LI>Next message: <A HREF="002388.html">Machine Check on Fedora rawhide kernel.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2387">[ date ]</a>
              <a href="thread.html#2387">[ thread ]</a>
              <a href="subject.html#2387">[ subject ]</a>
              <a href="author.html#2387">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">More information about the Bcm43xx-dev
mailing list</a><br>
</body></html>
