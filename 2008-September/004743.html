<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> BCM4318 authentication problems
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2008-September/index.html" >
   <LINK REL="made" HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20BCM4318%20authentication%20problems&In-Reply-To=%3C20080923223911.9e14b0fd.celejar%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004742.html">
   <LINK REL="Next"  HREF="004744.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>BCM4318 authentication problems</H1>
    <B>Celejar</B> 
    <A HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20BCM4318%20authentication%20problems&In-Reply-To=%3C20080923223911.9e14b0fd.celejar%40gmail.com%3E"
       TITLE="BCM4318 authentication problems">celejar at gmail.com
       </A><BR>
    <I>Wed Sep 24 04:39:11 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="004742.html">BCM4318 authentication problems
</A></li>
        <LI>Next message: <A HREF="004744.html">BCM4318 authentication problems
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4743">[ date ]</a>
              <a href="thread.html#4743">[ thread ]</a>
              <a href="subject.html#4743">[ subject ]</a>
              <a href="author.html#4743">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, 23 Sep 2008 22:16:18 -0400
Dennis Nezic &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">dennisn at dennisn.dyndns.org</A>&gt; wrote:

&gt;<i> Even with the latest stable linux kernel 2.6.26.5, the b43 driver has
</I>&gt;<i> trouble authenticating--mainly after cold boots after long periods of
</I>&gt;<i> being offline. My AP doesn't have any encryption, and the problem
</I>&gt;<i> exists regardless of my proximity to it.
</I>&gt;<i> 
</I>&gt;<i> The system log would look like this:
</I>&gt;<i> 
</I>&gt;<i> 20:52:32 firmware: requesting b43/ucode5.fw
</I>&gt;<i> 20:52:32 firmware: requesting b43/pcm5.fw
</I>&gt;<i> 20:52:32 firmware: requesting b43/b0g0initvals5.fw
</I>&gt;<i> 20:52:32 firmware: requesting b43/b0g0bsinitvals5.fw
</I>&gt;<i> 20:52:33 b43-phy0: Loading firmware version 410.2160 (2007-05-26
</I>&gt;<i>    15:32:10)
</I>&gt;<i> 20:52:34 ADDRCONF(NETDEV_UP): wlan0: link is not ready
</I>&gt;<i> 20:52:35 wlan0: Initial auth_alg=0
</I>&gt;<i> 20:52:35 wlan0: authenticate with AP 00:11:95:be:b5:a9
</I>&gt;<i> 20:52:35 wlan0: authenticate with AP 00:11:95:be:b5:a9
</I>&gt;<i> 20:52:35 wlan0: authenticate with AP 00:11:95:be:b5:a9
</I>&gt;<i> 20:52:35 wlan0: authentication with AP 00:11:95:be:b5:a9 timed out
</I>&gt;<i> 20:52:36 /etc/init.d/net.wlan0[2035]: WEP key is not set for &quot;konoba&quot; -
</I>&gt;<i>    not connecting
</I>&gt;<i> 20:52:36 wlan0: Initial auth_alg=0
</I>&gt;<i> 20:52:36 wlan0: authenticate with AP 00:11:95:be:b5:a9
</I>&gt;<i> 20:52:37 wlan0: authenticate with AP 00:11:95:be:b5:a9
</I>&gt;<i> 20:52:37 wlan0: authenticate with AP 00:11:95:be:b5:a9
</I>&gt;<i> 20:52:37 wlan0: authentication with AP 00:11:95:be:b5:a9 timed out
</I>&gt;<i> 20:52:46 /etc/init.d/net.wlan0[2097]: WEP key is not set for &quot;NETGEAR&quot;
</I>&gt;<i>    - not connecting
</I>&gt;<i> 20:52:46 /etc/init.d/net.wlan0[2098]: Couldn't associate with any
</I>&gt;<i> access points on wlan0
</I>&gt;<i> 20:52:46 /etc/init.d/net.wlan0 [2099]: Failed to configure wireless for
</I>&gt;<i> wlan0 20:52:46 wlan0: Initial auth_alg=0
</I>&gt;<i> 20:52:46 wlan0: authenticate with AP 00:11:95:be:b5:a9
</I>&gt;<i> 20:52:46 wlan0: Initial auth_alg=0
</I>&gt;<i> 20:52:46 wlan0: authenticate with AP 00:11:95:be:b5:a9
</I>&gt;<i> 20:52:46 b43-phy0: Radio turned off by software
</I>&gt;<i> 20:52:46 /etc/init.d/net.wlan0[1766]: ERROR: net.wlan0 failed to start
</I>&gt;<i> 
</I>&gt;<i> It does /eventually/ authenticate, after MANY retries. Usually about
</I>&gt;<i> 10-20. (I currently have a bash script that iterates through 30
</I>&gt;<i> retries :P). Sometimes it won't even work after 30 consecutive retries.
</I>&gt;<i> Incidentally, if I take a break for a minute or so, and then try to
</I>&gt;<i> authenticate, it usually tends to work :/.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> The successful attempt would look something like:
</I>&gt;<i> 
</I>&gt;<i> 20:56:08 b43-phy0: Radio turned on by software
</I>&gt;<i> 20:56:08 wlan0: Initial auth_alg=0
</I>&gt;<i> 20:56:08 wlan0: authenticate with AP 00:11:95:be:b5:a9
</I>&gt;<i> 20:56:08 wlan0: Initial auth_alg=0
</I>&gt;<i> 20:56:08 wlan0: authenticate with AP 00:11:95:be:b5:a9
</I>&gt;<i> 20:56:08 wlan0: RX authentication from 00:11:95:be:b5:a9 (alg=0
</I>&gt;<i>    transaction=2 status=0)
</I>&gt;<i> 20:56:08 wlan0: authenticated
</I>&gt;<i> 20:56:08 wlan0: associate with AP 00:11:95:be:b5:a9
</I>&gt;<i> 20:56:08 wlan0: authentication frame received from 00:11:95:be:b5:a9,
</I>&gt;<i>    but not in authenticate state - ignored
</I>&gt;<i> 20:56:08 wlan0: RX AssocResp from 00:11:95:be:b5:a9 (capab=0x421
</I>&gt;<i>    status=0 aid=2)
</I>&gt;<i> 20:56:08 wlan0: associated
</I>&gt;<i> 20:56:08 wlan0: switched to short barker preamble
</I>&gt;<i>    (BSSID=00:11:95:be:b5:a9)
</I>&gt;<i> 20:56:11 wlan0: Initial auth_alg=0
</I>&gt;<i> 20:56:11 wlan0: authenticate with AP 00:11:95:be:b5:a9
</I>&gt;<i> 20:56:11 wlan0: RX authentication from 00:11:95:be:b5:a9 (alg=0
</I>&gt;<i>    transaction=2 status=0)
</I>&gt;<i> 20:56:11 wlan0: authenticated
</I>&gt;<i> 20:56:11 wlan0: associate with AP 00:11:95:be:b5:a9
</I>&gt;<i> 20:56:11 wlan0: RX ReassocResp from 00:11:95:be:b5:a9 (capab=0x421
</I>&gt;<i>     status=0 aid=2)
</I>&gt;<i> 20:56:11 wlan0: associated
</I>&gt;<i> 20:56:11 wlan0: Initial auth_alg=0
</I>&gt;<i> 20:56:11 wlan0: authenticate with AP 00:11:95:be:b5:a9
</I>&gt;<i> 20:56:11 wlan0: RX authentication from 00:11:95:be:b5:a9 (alg=0
</I>&gt;<i>    transaction=2 status=0)
</I>&gt;<i> 20:56:11 wlan0: authenticated
</I>&gt;<i> 20:56:11 wlan0: associate with AP 00:11:95:be:b5:a9
</I>&gt;<i> 20:56:11 wlan0: RX ReassocResp from 00:11:95:be:b5:a9 (capab=0x421
</I>&gt;<i>    status=0 aid=2)
</I>&gt;<i> 20:56:11 wlan0: associated
</I>&gt;<i> 
</I>&gt;<i> Notice that there is one &quot;RX AssocResp&quot; message, then it would claim to
</I>&gt;<i> be associated, and then three seconds later it would continue to try to
</I>&gt;<i> authenticate, and receive two other &quot;RX ReassocResp&quot; messages, each of
</I>&gt;<i> which would produce another &quot;associated&quot; message. This triple
</I>&gt;<i> broadcasting for authentication seems a little strange to me?
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> My wlan0 card is:
</I>&gt;<i> 
</I>&gt;<i> Broadcom Corporation BCM4318 [AirForce One 54g]
</I>&gt;<i> 802.11g Wireless LAN Controller (rev 02)
</I>&gt;<i> Subsystem: AMBIT Microsystem Corp. Aspire 3022WLMi, 5024WLMi, 5020
</I>&gt;<i> 
</I>&gt;<i> 06:02.0 0280: 14e4:4318 (rev 02)
</I>&gt;<i>    Subsystem: 1468:0311
</I>&gt;<i>    Latency: 64 Interrupt: pin A routed to IRQ 21
</I>&gt;<i>    Region 0: Memory at c0304000 (32-bit, non-prefetchable) [size=8K]
</I>&gt;<i>    Kernel driver in use: b43-pci-bridge
</I>
I don't suppose this will help much, but FWIW, I have almost (I'm aware
that almost is often nothing, in this game ...) the identical card on
my Aspire 3690:

06:02.0 Network controller: Broadcom Corporation BCM4318 [AirForce One 54g] 802.11g Wireless LAN Controller (rev 02)
	Subsystem: AMBIT Microsystem Corp. Device 0312
	Flags: bus master, fast devsel, latency 64, IRQ 22
	Memory at d0002000 (32-bit, non-prefetchable) [size=8K]
	Kernel driver in use: b43-pci-bridge
	Kernel modules: ssb

06:02.0 0280: 14e4:4318 (rev 02)
	Subsystem: 1468:0312
	Flags: bus master, fast devsel, latency 64, IRQ 22
	Memory at d0002000 (32-bit, non-prefetchable) [size=8K]
	Kernel driver in use: b43-pci-bridge
	Kernel modules: ssb

I have never seen the trouble that you're reporting.

Celejar
--
mailmin.sourceforge.net - remote access via secure (OpenPGP) email
ssuds.sourceforge.net - A Simple Sudoku Solver and Generator


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004742.html">BCM4318 authentication problems
</A></li>
	<LI>Next message: <A HREF="004744.html">BCM4318 authentication problems
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4743">[ date ]</a>
              <a href="thread.html#4743">[ thread ]</a>
              <a href="subject.html#4743">[ subject ]</a>
              <a href="author.html#4743">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">More information about the Bcm43xx-dev
mailing list</a><br>
</body></html>
