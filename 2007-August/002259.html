<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Broadcom 4311 on HP 350 laptop
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2007-August/index.html" >
   <LINK REL="made" HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20Broadcom%204311%20on%20HP%20350%20laptop&In-Reply-To=%3C46D84420.8000909%40edavies.nildram.co.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002258.html">
   <LINK REL="Next"  HREF="002260.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Broadcom 4311 on HP 350 laptop</H1>
    <B>Ed Davies</B> 
    <A HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20Broadcom%204311%20on%20HP%20350%20laptop&In-Reply-To=%3C46D84420.8000909%40edavies.nildram.co.uk%3E"
       TITLE="Broadcom 4311 on HP 350 laptop">bcm.jw.0708 at edavies.nildram.co.uk
       </A><BR>
    <I>Fri Aug 31 18:38:56 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="002258.html">[PATCH] b43legacy: Change Kconfig help text to match b43
</A></li>
        <LI>Next message: <A HREF="002260.html">Broadcom 4311 on HP 350 laptop
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2259">[ date ]</a>
              <a href="thread.html#2259">[ thread ]</a>
              <a href="subject.html#2259">[ subject ]</a>
              <a href="author.html#2259">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I've been unable to get a Dell Wireless 1390 card working on
an HP 350 laptop.  It's running Ubuntu Feisty.  Originally
it had the standard 2.6.20 kernel but today I tried upgrading
to the 2.5.22-10 kernel of Gutsy to no avail so thought it
was time to ask for help.

I hope the following console log at least tells enough of
the story that somebody can suggest what I should try
next.  From what I've seen of other messages and web
pages I should at least be getting more messages in the
dmesg output - lines with things like &quot;PHY&quot; in them.

I've noticed the messages from iwconfig and iwlist about
incompatible versions but think I should be getting further
with the driver startup irrespective of any such problem.

Thanks for any advice.

Ed Davies.


<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">edavies at bill</A>:~$ dmesg | grep bcm
[   19.640000] bcm43xx driver

<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">edavies at bill</A>:~$ uname -a
Linux bill 2.6.22-10-generic #1 SMP Wed Aug 22 08:11:52 GMT 2007 i686 GNU/Linux

<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">edavies at bill</A>:~$ lspci
00:00.0 Host bridge: Intel Corporation Mobile 945GM/PM/GMS/940GML and 945GT Express Memory Controller Hub (rev 03)
00:02.0 VGA compatible controller: Intel Corporation Mobile 945GM/GMS/940GML Express Integrated Graphics Controller (rev 03)
00:02.1 Display controller: Intel Corporation Mobile 945GM/GMS/940GML Express Integrated Graphics Controller (rev 03)
00:1b.0 Audio device: Intel Corporation 82801G (ICH7 Family) High Definition Audio Controller (rev 01)
00:1c.0 PCI bridge: Intel Corporation 82801G (ICH7 Family) PCI Express Port 1 (rev 01)
00:1c.1 PCI bridge: Intel Corporation 82801G (ICH7 Family) PCI Express Port 2 (rev 01)
00:1d.0 USB Controller: Intel Corporation 82801G (ICH7 Family) USB UHCI #1 (rev 01)
00:1d.7 USB Controller: Intel Corporation 82801G (ICH7 Family) USB2 EHCI Controller (rev 01)
00:1e.0 PCI bridge: Intel Corporation 82801 Mobile PCI Bridge (rev e1)
00:1f.0 ISA bridge: Intel Corporation 82801GBM (ICH7-M) LPC Interface Bridge (rev 01)
00:1f.1 IDE interface: Intel Corporation 82801G (ICH7 Family) IDE Controller (rev 01)
00:1f.2 SATA controller: Intel Corporation 82801GBM/GHM (ICH7 Family) Serial ATA Storage Controller AHCI (rev 01)
02:06.0 CardBus bridge: ENE Technology Inc CB1410 Cardbus Controller (rev 01)
02:08.0 Ethernet controller: Intel Corporation 82562ET/EZ/GT/GZ - PRO/100 VE (LOM) Ethernet Controller Mobile (rev 01)
10:00.0 Network controller: Broadcom Corporation Dell Wireless 1390 WLAN Mini-PCI Card (rev 01)

<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">edavies at bill</A>:~$ sudo lspci -vs 10:00.0
Password:
10:00.0 Network controller: Broadcom Corporation Dell Wireless 1390 WLAN Mini-PCI Card (rev 01)
         Subsystem: Hewlett-Packard Company Unknown device 1364
         Flags: bus master, fast devsel, latency 0, IRQ 17
         Memory at f0000000 (32-bit, non-prefetchable) [size=16K]
         Capabilities: [40] Power Management version 2
         Capabilities: [58] Message Signalled Interrupts: Mask- 64bit- Queue=0/0 Enable-
         Capabilities: [d0] Express Legacy Endpoint IRQ 0

<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">edavies at bill</A>:~$ lspci -ns 10:00.0
10:00.0 0280: 14e4:4311 (rev 01)

<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">edavies at bill</A>:~$ sudo modprobe -vr bcm43xx
rmmod /lib/modules/2.6.22-10-generic/kernel/drivers/net/wireless/bcm43xx/bcm43xx.ko
rmmod /lib/modules/2.6.22-10-generic/kernel/net/ieee80211/softmac/ieee80211softmac.ko
rmmod /lib/modules/2.6.22-10-generic/kernel/net/ieee80211/ieee80211.ko
rmmod /lib/modules/2.6.22-10-generic/kernel/net/ieee80211/ieee80211_crypt.ko

<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">edavies at bill</A>:~$ sudo modprobe -v bcm43xx
insmod /lib/modules/2.6.22-10-generic/kernel/net/ieee80211/ieee80211_crypt.ko
insmod /lib/modules/2.6.22-10-generic/kernel/net/ieee80211/ieee80211.ko
insmod /lib/modules/2.6.22-10-generic/kernel/net/ieee80211/softmac/ieee80211softmac.ko
insmod /lib/modules/2.6.22-10-generic/kernel/drivers/net/wireless/bcm43xx/bcm43xx.ko

<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">edavies at bill</A>:~$ iwconfig
lo        no wireless extensions.

eth0      no wireless extensions.

Warning: Driver for device eth1 has been compiled with version 22
of Wireless Extension, while this program supports up to version 20.
Some things may be broken...

eth1      IEEE 802.11b/g  ESSID:off/any  Nickname:&quot;Broadcom 4311&quot;
           Mode:Managed  Access Point: Invalid
           RTS thr:off   Fragment thr:off
           Link Quality=0/100  Signal level=-256 dBm  Noise level=-256 dBm
           Rx invalid nwid:0  Rx invalid crypt:0  Rx invalid frag:0
           Tx excessive retries:0  Invalid misc:0   Missed beacon:0

<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">edavies at bill</A>:~$ sudo ifconfig eth1 up

<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">edavies at bill</A>:~$ dmesg | tail
[   32.864000] Bluetooth: RFCOMM ver 1.8
[  181.832000] ACPI: PCI interrupt for device 0000:10:00.0 disabled
[  181.840000] ieee80211_crypt: unregistered algorithm 'NULL'
[  196.524000] ieee80211_crypt: registered algorithm 'NULL'
[  196.528000] ieee80211: 802.11 data/management/control stack, git-1.1.13
[  196.528000] ieee80211: Copyright (C) 2004-2005 Intel Corporation &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">jketreno at linux.intel.com</A>&gt;
[  196.532000] bcm43xx driver
[  196.536000] ACPI: PCI Interrupt 0000:10:00.0[A] -&gt; GSI 17 (level, low) -&gt; IRQ 17
[  196.536000] PCI: Setting latency timer of device 0000:10:00.0 to 64
[  229.124000] ADDRCONF(NETDEV_UP): eth1: link is not ready

<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">edavies at bill</A>:~$ sudo iwlist eth1 scan
Warning: Driver for device eth1 has been compiled with version 22
of Wireless Extension, while this program supports up to version 20.
Some things may be broken...

eth1      No scan results

<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">edavies at bill</A>:~$ cd /lib/firmware

<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">edavies at bill</A>:/lib/firmware$ ls
2.6.20-15-generic     bcm43xx_initval02.fw  bcm43xx_initval06.fw  bcm43xx_initval10.fw    bcm43xx_microcode5.fw
2.6.20-16-generic     bcm43xx_initval03.fw  bcm43xx_initval07.fw  bcm43xx_microcode11.fw  bcm43xx_pcm4.fw
2.6.22-10-generic     bcm43xx_initval04.fw  bcm43xx_initval08.fw  bcm43xx_microcode2.fw   bcm43xx_pcm5.fw
bcm43xx_initval01.fw  bcm43xx_initval05.fw  bcm43xx_initval09.fw  bcm43xx_microcode4.fw

<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">edavies at bill</A>:/lib/firmware$ sudo mv bcm43xx_microcode5.fw bcm43xx_microcode5.fwXXX

<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">edavies at bill</A>:/lib/firmware$ sudo modprobe -r bcm43xx

<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">edavies at bill</A>:/lib/firmware$ sudo modprobe -v bcm43xx
insmod /lib/modules/2.6.22-10-generic/kernel/net/ieee80211/ieee80211_crypt.ko
insmod /lib/modules/2.6.22-10-generic/kernel/net/ieee80211/ieee80211.ko
insmod /lib/modules/2.6.22-10-generic/kernel/net/ieee80211/softmac/ieee80211softmac.ko
insmod /lib/modules/2.6.22-10-generic/kernel/drivers/net/wireless/bcm43xx/bcm43xx.ko

<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">edavies at bill</A>:/lib/firmware$ sudo ifconfig eth1 up
SIOCSIFFLAGS: No such file or directory

<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">edavies at bill</A>:/lib/firmware$ dmesg | tail
[  229.124000] ADDRCONF(NETDEV_UP): eth1: link is not ready
[  377.880000] ACPI: PCI interrupt for device 0000:10:00.0 disabled
[  377.880000] ieee80211_crypt: unregistered algorithm 'NULL'
[  390.464000] ieee80211_crypt: registered algorithm 'NULL'
[  390.468000] ieee80211: 802.11 data/management/control stack, git-1.1.13
[  390.468000] ieee80211: Copyright (C) 2004-2005 Intel Corporation &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">jketreno at linux.intel.com</A>&gt;
[  390.492000] bcm43xx driver
[  390.492000] ACPI: PCI Interrupt 0000:10:00.0[A] -&gt; GSI 17 (level, low) -&gt; IRQ 17
[  390.492000] PCI: Setting latency timer of device 0000:10:00.0 to 64
[  401.060000] bcm43xx: Error: Microcode &quot;bcm43xx_microcode5.fw&quot; not available or load failed.

<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">edavies at bill</A>:/lib/firmware$ sudo mv bcm43xx_microcode5.fwXXX bcm43xx_microcode5.fw

<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">edavies at bill</A>:/lib/firmware$ sudo modprobe -r bcm43xx

<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">edavies at bill</A>:/lib/firmware$ sudo modprobe bcm43xx

<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">edavies at bill</A>:/lib/firmware$ sudo ifconfig eth1 up

<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">edavies at bill</A>:/lib/firmware$ dmesg | tail
[  401.060000] bcm43xx: Error: Microcode &quot;bcm43xx_microcode5.fw&quot; not available or load failed.
[  456.476000] ACPI: PCI interrupt for device 0000:10:00.0 disabled
[  456.476000] ieee80211_crypt: unregistered algorithm 'NULL'
[  467.168000] ieee80211_crypt: registered algorithm 'NULL'
[  467.172000] ieee80211: 802.11 data/management/control stack, git-1.1.13
[  467.172000] ieee80211: Copyright (C) 2004-2005 Intel Corporation &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">jketreno at linux.intel.com</A>&gt;
[  467.176000] bcm43xx driver
[  467.176000] ACPI: PCI Interrupt 0000:10:00.0[A] -&gt; GSI 17 (level, low) -&gt; IRQ 17
[  467.176000] PCI: Setting latency timer of device 0000:10:00.0 to 64
[  476.348000] ADDRCONF(NETDEV_UP): eth1: link is not ready

<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">edavies at bill</A>:/lib/firmware$


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002258.html">[PATCH] b43legacy: Change Kconfig help text to match b43
</A></li>
	<LI>Next message: <A HREF="002260.html">Broadcom 4311 on HP 350 laptop
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2259">[ date ]</a>
              <a href="thread.html#2259">[ thread ]</a>
              <a href="subject.html#2259">[ subject ]</a>
              <a href="author.html#2259">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">More information about the Bcm43xx-dev
mailing list</a><br>
</body></html>
