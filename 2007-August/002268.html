<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Broadcom 4311 on HP 350 laptop
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2007-August/index.html" >
   <LINK REL="made" HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20Broadcom%204311%20on%20HP%20350%20laptop&In-Reply-To=%3C46D860F1.5040809%40edavies.nildram.co.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002263.html">
   <LINK REL="Next"  HREF="002269.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Broadcom 4311 on HP 350 laptop</H1>
    <B>Ed Davies</B> 
    <A HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20Broadcom%204311%20on%20HP%20350%20laptop&In-Reply-To=%3C46D860F1.5040809%40edavies.nildram.co.uk%3E"
       TITLE="Broadcom 4311 on HP 350 laptop">bcm.jw.0708 at edavies.nildram.co.uk
       </A><BR>
    <I>Fri Aug 31 20:41:53 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="002263.html">Broadcom 4311 on HP 350 laptop
</A></li>
        <LI>Next message: <A HREF="002269.html">Broadcom 4311 on HP 350 laptop
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2268">[ date ]</a>
              <a href="thread.html#2268">[ thread ]</a>
              <a href="subject.html#2268">[ subject ]</a>
              <a href="author.html#2268">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Larry Finger wrote:
&gt;<i> For Feisty, the firmware needs to be installed in the '/lib/firmware/`uname -r` directory. Note the 
</I>&gt;<i> back ticks around the uname command.
</I>
Thanks.

I moved the bcm* files from /lib/firmware to /lib/firmware/2.6.22-10-generic
(the Gutsy kernel) and tried again with no effect.

I then copied them to the Feisty directory, /lib/firmware/2.6.20-16-generic,
and rebooted to that kernel.  Also no effect:

&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">edavies at bill</A>:~$ uname -r
</I>&gt;<i> 2.6.20-16-generic
</I>
&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">edavies at bill</A>:~$ ls /lib/firmware
</I>&gt;<i> 2.6.20-15-generic  2.6.20-16-generic  2.6.22-10-generic
</I>
&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">edavies at bill</A>:~$ ls /lib/firmware/2.6.20-16-generic/
</I>&gt;<i> acx                                 bcm43xx_initval04.fw        ipw2100-1.3-p.fw
</I>&gt;<i> aic94xx-seq.fw                      bcm43xx_initval05.fw        ipw2200-bss.fw
</I>&gt;<i> atmel_at76c502_3com.bin             bcm43xx_initval06.fw        ipw2200-ibss.fw
</I>&gt;<i> atmel_at76c502_3com-wpa.bin         bcm43xx_initval07.fw        ipw2200-sniffer.fw
</I>&gt;<i> atmel_at76c502.bin                  bcm43xx_initval08.fw        ipw3945.ucode
</I>&gt;<i> atmel_at76c502d.bin                 bcm43xx_initval09.fw        isl3877
</I>&gt;<i> atmel_at76c502d-wpa.bin             bcm43xx_initval10.fw        isl3886
</I>&gt;<i> atmel_at76c502e.bin                 bcm43xx_microcode11.fw      isl3887usb_bare
</I>&gt;<i> atmel_at76c502e-wpa.bin             bcm43xx_microcode2.fw       isl3890
</I>&gt;<i> atmel_at76c502-wpa.bin              bcm43xx_microcode4.fw       isl3890usb
</I>&gt;<i> atmel_at76c503-i3861.bin            bcm43xx_microcode5.fw       iwlwifi-3945.ucode
</I>&gt;<i> atmel_at76c503-i3863.bin            bcm43xx_pcm4.fw             ql2100_fw.bin
</I>&gt;<i> atmel_at76c503-rfmd-0.90.2-140.bin  bcm43xx_pcm5.fw             ql2200_fw.bin
</I>&gt;<i> atmel_at76c503-rfmd-acc.bin         dvb-fe-or51132-qam.fw       ql2300_fw.bin
</I>&gt;<i> atmel_at76c503-rfmd.bin             dvb-fe-or51132-vsb.fw       ql2322_fw.bin
</I>&gt;<i> atmel_at76c504_2958-wpa.bin         dvb-fe-or51211.fw           ql2400_fw.bin
</I>&gt;<i> atmel_at76c504a_2958-wpa.bin        dvb-ttpci-01.fw             rt2561.bin
</I>&gt;<i> atmel_at76c504.bin                  dvb-usb-avertv-a800-02.fw   rt2561s.bin
</I>&gt;<i> atmel_at76c504c-wpa.bin             dvb-usb-dibusb-5.0.0.11.fw  rt2661.bin
</I>&gt;<i> atmel_at76c505a-rfmd2958.bin        dvb-usb-dibusb-6.0.0.8.fw   rt73.bin
</I>&gt;<i> atmel_at76c505-rfmd2958.bin         dvb-usb-dtt200u-01.fw       v4l-cx2341x-dec.fw
</I>&gt;<i> atmel_at76c505-rfmd.bin             dvb-usb-umt-010-02.fw       v4l-cx2341x-enc.fw
</I>&gt;<i> atmel_at76c506.bin                  dvb-usb-vp702x-01.fw        v4l-cx2341x-init.mpg
</I>&gt;<i> atmel_at76c506-wpa.bin              dvb-usb-vp7045-01.fw        v4l-cx25840.fw
</I>&gt;<i> bcm43xx_initval01.fw                dvb-usb-wt220u-01.fw        v4l-pvrusb2-24xxx-01.fw
</I>&gt;<i> bcm43xx_initval02.fw                ipw2100-1.3.fw              v4l-pvrusb2-29xxx-01.fw
</I>&gt;<i> bcm43xx_initval03.fw                ipw2100-1.3-i.fw            zd1211
</I>
&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">edavies at bill</A>:~$ sudo modprobe -r bcm43xx
</I>&gt;<i> Password:
</I>
&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">edavies at bill</A>:~$ sudo modprobe bcm43xx
</I>
&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">edavies at bill</A>:~$ sudo ifconfig eth1 up
</I>
&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">edavies at bill</A>:~$ dmesg | tail
</I>&gt;<i> [  135.956000] ACPI: PCI interrupt for device 0000:10:00.0 disabled
</I>&gt;<i> [  135.972000] ieee80211_crypt: unregistered algorithm 'NULL'
</I>&gt;<i> [  152.716000] ieee80211_crypt: registered algorithm 'NULL'
</I>&gt;<i> [  152.720000] ieee80211: 802.11 data/management/control stack, git-1.1.13
</I>&gt;<i> [  152.720000] ieee80211: Copyright (C) 2004-2005 Intel Corporation &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">jketreno at linux.intel.com</A>&gt;
</I>&gt;<i> [  152.732000] bcm43xx driver
</I>&gt;<i> [  152.736000] ACPI: PCI Interrupt 0000:10:00.0[A] -&gt; GSI 17 (level, low) -&gt; IRQ 17
</I>&gt;<i> [  152.736000] PCI: Setting latency timer of device 0000:10:00.0 to 64
</I>&gt;<i> [  156.748000] usb 1-2: reset low speed USB device using uhci_hcd and address 3
</I>&gt;<i> [  162.772000] ADDRCONF(NETDEV_UP): eth1: link is not ready
</I>
Just to be sure that the driver really was finding the firmware there,
I then played the file renaming trick again:

&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">edavies at bill</A>:~$ cd /lib/firmware/2.6.20-16-generic/
</I>
&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">edavies at bill</A>:/lib/firmware/2.6.20-16-generic$ sudo mv bcm43xx_
</I>&gt;<i> bcm43xx_initval01.fw    bcm43xx_initval05.fw    bcm43xx_initval09.fw    bcm43xx_microcode4.fw   
</I>&gt;<i> bcm43xx_initval02.fw    bcm43xx_initval06.fw    bcm43xx_initval10.fw    bcm43xx_microcode5.fw   
</I>&gt;<i> bcm43xx_initval03.fw    bcm43xx_initval07.fw    bcm43xx_microcode11.fw  bcm43xx_pcm4.fw         
</I>&gt;<i> bcm43xx_initval04.fw    bcm43xx_initval08.fw    bcm43xx_microcode2.fw   bcm43xx_pcm5.fw         
</I>
&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">edavies at bill</A>:/lib/firmware/2.6.20-16-generic$ sudo mv bcm43xx_microcode5.fw bcm43xx_microcode5.fwXXX
</I>
&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">edavies at bill</A>:/lib/firmware/2.6.20-16-generic$ sudo modprobe -r bcm43xx
</I>
&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">edavies at bill</A>:/lib/firmware/2.6.20-16-generic$ sudo modprobe -v bcm43xx
</I>&gt;<i> insmod /lib/modules/2.6.20-16-generic/kernel/net/ieee80211/ieee80211_crypt.ko 
</I>&gt;<i> insmod /lib/modules/2.6.20-16-generic/kernel/net/ieee80211/ieee80211.ko 
</I>&gt;<i> insmod /lib/modules/2.6.20-16-generic/kernel/net/ieee80211/softmac/ieee80211softmac.ko 
</I>&gt;<i> insmod /lib/modules/2.6.20-16-generic/kernel/drivers/net/wireless/bcm43xx/bcm43xx.ko 
</I>
&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">edavies at bill</A>:/lib/firmware/2.6.20-16-generic$ dmesg | tail
</I>&gt;<i> [  708.444000] usb 1-2: reset low speed USB device using uhci_hcd and address 3
</I>&gt;<i> [  710.876000] ACPI: PCI interrupt for device 0000:10:00.0 disabled
</I>&gt;<i> [  710.880000] ieee80211_crypt: unregistered algorithm 'NULL'
</I>&gt;<i> [  723.884000] usb 1-2: reset low speed USB device using uhci_hcd and address 3
</I>&gt;<i> [  727.380000] ieee80211_crypt: registered algorithm 'NULL'
</I>&gt;<i> [  727.380000] ieee80211: 802.11 data/management/control stack, git-1.1.13
</I>&gt;<i> [  727.380000] ieee80211: Copyright (C) 2004-2005 Intel Corporation &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">jketreno at linux.intel.com</A>&gt;
</I>&gt;<i> [  727.388000] bcm43xx driver
</I>&gt;<i> [  727.388000] ACPI: PCI Interrupt 0000:10:00.0[A] -&gt; GSI 17 (level, low) -&gt; IRQ 17
</I>&gt;<i> [  727.388000] PCI: Setting latency timer of device 0000:10:00.0 to 64
</I>
&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">edavies at bill</A>:/lib/firmware/2.6.20-16-generic$ sudo ifconfig eth1 up
</I>&gt;<i> SIOCSIFFLAGS: No such file or directory
</I>
&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">edavies at bill</A>:/lib/firmware/2.6.20-16-generic$ dmesg | tail
</I>&gt;<i> [  710.880000] ieee80211_crypt: unregistered algorithm 'NULL'
</I>&gt;<i> [  723.884000] usb 1-2: reset low speed USB device using uhci_hcd and address 3
</I>&gt;<i> [  727.380000] ieee80211_crypt: registered algorithm 'NULL'
</I>&gt;<i> [  727.380000] ieee80211: 802.11 data/management/control stack, git-1.1.13
</I>&gt;<i> [  727.380000] ieee80211: Copyright (C) 2004-2005 Intel Corporation &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">jketreno at linux.intel.com</A>&gt;
</I>&gt;<i> [  727.388000] bcm43xx driver
</I>&gt;<i> [  727.388000] ACPI: PCI Interrupt 0000:10:00.0[A] -&gt; GSI 17 (level, low) -&gt; IRQ 17
</I>&gt;<i> [  727.388000] PCI: Setting latency timer of device 0000:10:00.0 to 64
</I>&gt;<i> [  763.836000] usb 1-2: reset low speed USB device using uhci_hcd and address 3
</I>&gt;<i> [  768.012000] bcm43xx: Error: Microcode &quot;bcm43xx_microcode5.fw&quot; not available or load failed.
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">edavies at bill</A>:/lib/firmware/2.6.20-16-generic$ 
</I>
Seems it is.

Thanks for your help so far.  Any other ideas?

Ed.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002263.html">Broadcom 4311 on HP 350 laptop
</A></li>
	<LI>Next message: <A HREF="002269.html">Broadcom 4311 on HP 350 laptop
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2268">[ date ]</a>
              <a href="thread.html#2268">[ thread ]</a>
              <a href="subject.html#2268">[ subject ]</a>
              <a href="author.html#2268">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">More information about the Bcm43xx-dev
mailing list</a><br>
</body></html>
