<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> 4311 not working
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2007-August/index.html" >
   <LINK REL="made" HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%204311%20not%20working&In-Reply-To=%3CBAY117-F122398D5A1A37CC03463A1B1DC0%40phx.gbl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001996.html">
   <LINK REL="Next"  HREF="001998.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>4311 not working</H1>
    <B>Jason Wood</B> 
    <A HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%204311%20not%20working&In-Reply-To=%3CBAY117-F122398D5A1A37CC03463A1B1DC0%40phx.gbl%3E"
       TITLE="4311 not working">sandain at hotmail.com
       </A><BR>
    <I>Mon Aug 13 17:25:56 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="001996.html">New patches for b43legacy
</A></li>
        <LI>Next message: <A HREF="001998.html">4311 not working
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1997">[ date ]</a>
              <a href="thread.html#1997">[ thread ]</a>
              <a href="subject.html#1997">[ subject ]</a>
              <a href="author.html#1997">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i>From: Larry Finger &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">larry.finger at lwfinger.net</A>&gt;
</I>&gt;<i>
</I>&gt;<i>Analysis of the two dmesg outputs cannot be completed as your kernel is 
</I>&gt;<i>compiled with a very small log buffer and it is wrapping around; however, I 
</I>&gt;<i>see enough to suspect some kind of race condition in the bus setup. I see a 
</I>&gt;<i>device with different IRQ's between the good/bad boots. That shouldn't 
</I>&gt;<i>happen. I do not think you are having hardware problems, and I'm pretty 
</I>&gt;<i>sure it is not a bcm43xx problem.
</I>&gt;<i>
</I>&gt;<i>Is it possible for you to upgrade to a 2.6.22 or 2.6.23-rc2 kernel? If so, 
</I>&gt;<i>please do. Whatever bug we are chasing may have already been fixed.
</I>&gt;<i>
</I>&gt;<i>If it is not possible to upgrade, I would like you to add the option 
</I>&gt;<i>'log_buf_len=262144' when you boot. That will increase the size of the log 
</I>&gt;<i>buffer so that we see everything. Then send me the dmesg output from a good 
</I>&gt;<i>and a bad boot.
</I>&gt;<i>
</I>&gt;<i>Another thing to try is the boot option 'maxcpus=0'. That will run it as a 
</I>&gt;<i>unit processor system and eliminate a lot of potential problems with SMP. 
</I>&gt;<i>I'm particularly interested in knowing if it always works with this option, 
</I>&gt;<i>or if it also fails sometimes.
</I>&gt;<i>
</I>&gt;<i>What is the make/model of your laptop? I probably have that info somewhere, 
</I>&gt;<i>but I'm lazy. In addition, are your running a 32- or 64-bit system?
</I>&gt;<i>
</I>&gt;<i>Thanks,
</I>&gt;<i>
</I>&gt;<i>Larry
</I>&gt;<i>
</I>
I'm using a HP Pavilion dv6000.  I'm currently trying to solve a separate 
issue that leads me to believe this may be a bios or hardware issue.  I 
intermittently get bios beep codes for the video on startup, forcing a power 
cycle.  And of course HP support is unwilling to work with me because of my 
OS choice.

Anyway, I have working and non-working dmesg output attached with the 
increased buffer limit set for kernel 2.6.22.1.  I also attempted booting 
with 'maxcpus=0' set, however the system hard locked at random points each 
time.  Line 278 of the dmesg.2.6.22.1.works file is where the device first 
gets detected (0000:03:00.0), and does not show up in the failed boot dmesg. 
  With this kernel, I'm having some SELinux errors I believe, but I don't 
think it affects the bcm43xx module.

I plan on trying to create a live Windows cd so that I can flash the bios to 
the latest version since Wine won't run the software.  Hopefully the new 
bios will fix both problems.

Jason Wood

_________________________________________________________________
More photos, more messages, more storage&#151;get 2GB with Windows Live Hotmail. 
<A HREF="http://imagine-windowslive.com/hotmail/?locale=en-us&amp;ocid=TXT_TAGHM_migration_HM_mini_2G_0507">http://imagine-windowslive.com/hotmail/?locale=en-us&amp;ocid=TXT_TAGHM_migration_HM_mini_2G_0507</A>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: dmesg.2.6.22.1
Type: application/octet-stream
Size: 67419 bytes
Desc: not available
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/bcm43xx-dev/attachments/20070813/24cb6345/attachment.obj">https://lists.berlios.de/pipermail/bcm43xx-dev/attachments/20070813/24cb6345/attachment.obj</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: dmesg.2.6.22.1.works
Type: application/octet-stream
Size: 60404 bytes
Desc: not available
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/bcm43xx-dev/attachments/20070813/24cb6345/attachment-0001.obj">https://lists.berlios.de/pipermail/bcm43xx-dev/attachments/20070813/24cb6345/attachment-0001.obj</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001996.html">New patches for b43legacy
</A></li>
	<LI>Next message: <A HREF="001998.html">4311 not working
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1997">[ date ]</a>
              <a href="thread.html#1997">[ thread ]</a>
              <a href="subject.html#1997">[ subject ]</a>
              <a href="author.html#1997">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">More information about the Bcm43xx-dev
mailing list</a><br>
</body></html>
