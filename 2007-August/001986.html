<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Port to a common pci bridge
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2007-August/index.html" >
   <LINK REL="made" HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20Port%20to%20a%20common%20pci%20bridge&In-Reply-To=%3C46BFE7EB.4040706%40lwfinger.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001985.html">
   <LINK REL="Next"  HREF="001987.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Port to a common pci bridge</H1>
    <B>Larry Finger</B> 
    <A HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20Port%20to%20a%20common%20pci%20bridge&In-Reply-To=%3C46BFE7EB.4040706%40lwfinger.net%3E"
       TITLE="Port to a common pci bridge">larry.finger at lwfinger.net
       </A><BR>
    <I>Mon Aug 13 07:11:07 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="001985.html">Port to a common pci bridge
</A></li>
        <LI>Next message: <A HREF="001987.html">Port to a common pci bridge
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1986">[ date ]</a>
              <a href="thread.html#1986">[ thread ]</a>
              <a href="subject.html#1986">[ subject ]</a>
              <a href="author.html#1986">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Otto Solares wrote:
&gt;<i> On Sun, Aug 12, 2007 at 09:29:33PM -0500, Larry Finger wrote:
</I>&gt;&gt;<i> Otto Solares wrote:
</I>&gt;&gt;&gt;<i> On Sun, Aug 12, 2007 at 08:47:51PM +0200, Michael Buesch wrote:
</I>&gt;&gt;&gt;&gt;<i> Here are some patches that port the pci bridge
</I>&gt;&gt;&gt;&gt;<i> code of b43 to ssb. So with these patches it is
</I>&gt;&gt;&gt;&gt;<i> possible to run b43 and your yet-to-be-ported
</I>&gt;&gt;&gt;&gt;<i> b43legacy in parallel. The bridge code in ssb
</I>&gt;&gt;&gt;&gt;<i> would always probe the correct driver.
</I>&gt;&gt;&gt;<i> Hi!
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Is the BCM4306 a b43 or b43legacy device?, I'm asking for
</I>&gt;&gt;&gt;<i> the WRT54GL which uses the SB bus.  Thanks!
</I>&gt;&gt;<i> Yes ;-). It depends on the revision. The BCM4306/2 has a PHY revision of 1 
</I>&gt;&gt;<i> and an 802.11 core revision of 4 - it uses b43legacy. The newer BCM4306's 
</I>&gt;&gt;<i> use b43. The distinction is dependent on support in Broadcom V4 firmware.
</I>&gt;<i> 
</I>&gt;<i> Hi!
</I>&gt;<i> 
</I>&gt;<i> How can I tell the revision number in the WRT54GL?
</I>&gt;<i> 
</I>&gt;<i> OpenWRT uses the propietary driver version 4.80.53.0, is that
</I>&gt;<i> a v4 firmware?  which b43 driver should I test (b43|b43legacy)?
</I>
The lead digit indicates that it is a V4 driver. You should use b43. The other way to tell would be 
from the logs, if there are any in OpenWRT. The key is in the details of the 802.11 core, which 
looks like &quot;ssb: Core 1 found: IEEE 802.11 (cc 0x812, rev 0x0A, vendor 0x4243)&quot;. If the rev is &lt; 5, 
the device must use b43legacy.

Larry


Larry


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001985.html">Port to a common pci bridge
</A></li>
	<LI>Next message: <A HREF="001987.html">Port to a common pci bridge
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1986">[ date ]</a>
              <a href="thread.html#1986">[ thread ]</a>
              <a href="subject.html#1986">[ subject ]</a>
              <a href="author.html#1986">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">More information about the Bcm43xx-dev
mailing list</a><br>
</body></html>
