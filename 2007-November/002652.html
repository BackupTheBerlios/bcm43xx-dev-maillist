<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> b43 on HP nx6325 w/ openSUSE 10.3 (x86_64)
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2007-November/index.html" >
   <LINK REL="made" HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20b43%20on%20HP%20nx6325%20w/%20openSUSE%2010.3%20%28x86_64%29&In-Reply-To=%3C200711050113.55591.rjw%40sisk.pl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002651.html">
   <LINK REL="Next"  HREF="002653.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>b43 on HP nx6325 w/ openSUSE 10.3 (x86_64)</H1>
    <B>Rafael J. Wysocki</B> 
    <A HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20b43%20on%20HP%20nx6325%20w/%20openSUSE%2010.3%20%28x86_64%29&In-Reply-To=%3C200711050113.55591.rjw%40sisk.pl%3E"
       TITLE="b43 on HP nx6325 w/ openSUSE 10.3 (x86_64)">rjw at sisk.pl
       </A><BR>
    <I>Mon Nov  5 01:13:54 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="002651.html">[RFC] A PHY init rewrite
</A></li>
        <LI>Next message: <A HREF="002653.html">b43 on HP nx6325 w/ openSUSE 10.3 (x86_64)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2652">[ date ]</a>
              <a href="thread.html#2652">[ thread ]</a>
              <a href="subject.html#2652">[ subject ]</a>
              <a href="author.html#2652">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I'm trying to make the b43 driver work on an HP nx6325 with openSUSE 10.3
(64-bit).  In short, it sort of works, but some things are a bit ugly.

The kernel is the current -git (approx. 2.6.24-rc1-git13) with the following
extra patches applied:

b43: Fix rfkill callback deadlock
b43: debugfs SHM read buffer overrun fix
b43: Rewrite and fix rfkill init

and I'm using the firmware from
<A HREF="http://downloads.openwrt.org/sources/broadcom-wl-4.80.53.0.tar.bz2">http://downloads.openwrt.org/sources/broadcom-wl-4.80.53.0.tar.bz2</A>

Here's the debug info from dmesg:

b43-phy1: Broadcom 4311 WLAN found
b43-phy1 debug: Found PHY: Analog 4, Type 2, Revision 8
b43-phy1 debug: Found Radio: Manuf 0x17F, Version 0x2050, Revision 2
b43-phy1 debug: Loading firmware version 351.126 (2006-07-29 05:54:02)
Registered led device: b43-phy1:tx
Registered led device: b43-phy1:rx
b43-phy1 debug: Chip initialized
b43-phy1 debug: 32-bit DMA initialized
b43-phy1 debug: Wireless interface started
b43-phy1 debug: Adding Interface type 2

Now, the first problem is that the card seems to lose frames from time to
time.  This is visible in the output of mtr and while trying to transfer large
files using scp.  With scp the transfer just stalls and stays this way although
the other end is pingable etc. (eg. attempting to transfer more than 400 MB at
once triggers this 100% of the time).

If you can suggest some more specific tests to me, I'll run them and report
back.

The second problem is that YaST is apparently unable to detect the device,
which sort of sucks, because it leads to configuration problems (basically, you
need to set up everything manually).  Evidently, udev manages to handle it, so
this may be related to HAL.  Anyway, it looks like the problem is related to
the fact that the device is not present under /sys/bus/pci/devices/ directly,
but you need to go through the ssb0:0 subdirectory to get to it.

Do you have any ideas how to tell the user space stuff where the devices is
in sysfs?

Greetings,
Rafael

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002651.html">[RFC] A PHY init rewrite
</A></li>
	<LI>Next message: <A HREF="002653.html">b43 on HP nx6325 w/ openSUSE 10.3 (x86_64)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2652">[ date ]</a>
              <a href="thread.html#2652">[ thread ]</a>
              <a href="subject.html#2652">[ subject ]</a>
              <a href="author.html#2652">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">More information about the Bcm43xx-dev
mailing list</a><br>
</body></html>
