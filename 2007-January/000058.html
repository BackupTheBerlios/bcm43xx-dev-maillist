<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> nm vs wireless on my lappy
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2007-January/index.html" >
   <LINK REL="made" HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20nm%20vs%20wireless%20on%20my%20lappy&In-Reply-To=%3C45A88077.3020807%40lwfinger.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000057.html">
   <LINK REL="Next"  HREF="000059.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>nm vs wireless on my lappy</H1>
    <B>Larry Finger</B> 
    <A HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20nm%20vs%20wireless%20on%20my%20lappy&In-Reply-To=%3C45A88077.3020807%40lwfinger.net%3E"
       TITLE="nm vs wireless on my lappy">larry.finger at lwfinger.net
       </A><BR>
    <I>Sat Jan 13 07:47:19 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000057.html">nm vs wireless on my lappy
</A></li>
        <LI>Next message: <A HREF="000059.html">nm vs wireless on my lappy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#58">[ date ]</a>
              <a href="thread.html#58">[ thread ]</a>
              <a href="subject.html#58">[ subject ]</a>
              <a href="author.html#58">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Gene Heskett wrote:
&gt;<i> The following is a message I'd posted to the fedora list earlier, with few 
</I>&gt;<i> replies.
</I>&gt;<i> 
</I>&gt;<i> On Wednesday 10 January 2007 22:00, David Hollis wrote:
</I>&gt;&gt;<i> On Wed, 2007-01-10 at 19:55 -0500, Gene Heskett wrote:
</I>&gt;&gt;&gt;<i> On Wednesday 10 January 2007 18:13, David Hollis wrote:
</I>&gt;&gt;&gt;&gt;<i> On Wed, 2007-01-10 at 16:48 -0500, Gene Heskett wrote:
</I>&gt;&gt;&gt;&gt;&gt;<i> Jan 10 16:04:38 diablo kernel: bcm43xx: Firmware: no support for
</I>&gt;&gt;&gt;&gt;&gt;<i> microcode
</I>&gt;&gt;&gt;&gt;&gt;<i> rev &gt; 0x128
</I>&gt;&gt;&gt;&gt;<i> I don't know anything about the bcm43xx driver, but this line does
</I>&gt;&gt;&gt;&gt;<i> seem interesting.  Do you have the extracted firmware available?
</I>&gt;&gt;&gt;<i> The 'extracted firmware' would be what is wrapped up in ndiswrapper.
</I>&gt;&gt;&gt;<i> There is also an alpha quality driver in the kernel tree, and that is
</I>&gt;&gt;&gt;<i> the one that is the src of that particular message.  The extracted
</I>&gt;&gt;&gt;<i> windows driver doesn't report that.
</I>&gt;&gt;<i> Check out <A HREF="http://bcm43xx.berlios.de/">http://bcm43xx.berlios.de/</A>
</I>&gt;&gt;<i>
</I>&gt;<i> Hmm, it would appear we've /.'d them.
</I>&gt;<i> 
</I>&gt;<i> However, I believe I did that last spring, using the driver directly from 
</I>&gt;<i> the windows partition, and that all the files are now resident 
</I>&gt;<i> in /lib/firmware.  Here is a listing of that directory:
</I>&gt;<i> 
</I>&gt;<i> total 7352
</I>&gt;<i> -rwxrw-rw- 1 root root  757760 Nov 28  2005 bcm1xsup.dll
</I>&gt;<i> -rwxrw-rw- 1 root root    9948 Nov 28  2005 bcm43xx.cat
</I>&gt;<i> -rw-r--r-- 1 root root    3696 Jul  7  2006 bcm43xx_initval01.fw
</I>&gt;<i> -rw-r--r-- 1 root root      16 Jul  7  2006 bcm43xx_initval02.fw
</I>&gt;<i> -rw-r--r-- 1 root root    3696 Jul  7  2006 bcm43xx_initval03.fw
</I>&gt;<i> -rw-r--r-- 1 root root      16 Jul  7  2006 bcm43xx_initval04.fw
</I>&gt;<i> -rw-r--r-- 1 root root    2568 Jul  7  2006 bcm43xx_initval05.fw
</I>&gt;<i> -rw-r--r-- 1 root root     248 Jul  7  2006 bcm43xx_initval06.fw
</I>&gt;<i> -rw-r--r-- 1 root root    2568 Jul  7  2006 bcm43xx_initval07.fw
</I>&gt;<i> -rw-r--r-- 1 root root    2568 Jul  7  2006 bcm43xx_initval08.fw
</I>&gt;<i> -rw-r--r-- 1 root root     248 Jul  7  2006 bcm43xx_initval09.fw
</I>&gt;<i> -rw-r--r-- 1 root root     248 Jul  7  2006 bcm43xx_initval10.fw
</I>&gt;<i> -rw-r--r-- 1 root root   20200 Jul  7  2006 bcm43xx_microcode2.fw
</I>&gt;<i> -rw-r--r-- 1 root root   22352 Jul  7  2006 bcm43xx_microcode4.fw
</I>&gt;<i> -rw-r--r-- 1 root root   23184 Jul  7  2006 bcm43xx_microcode5.fw
</I>&gt;<i> -rw-r--r-- 1 root root    1312 Jul  7  2006 bcm43xx_pcm4.fw
</I>&gt;<i> -rw-r--r-- 1 root root    1312 Jul  7  2006 bcm43xx_pcm5.fw
</I>&gt;<i> -rwxrw-rw- 1 root root  658896 Nov 28  2005 bcmwl5.inf
</I>&gt;<i> -rwxrw-rw- 1 root root  379840 Feb 14  2006 bcmwl5.PNF
</I>&gt;<i> -rwxrw-rw- 1 root root  424320 Nov 28  2005 bcmwl5.sys
</I>&gt;<i> -rwxrw-rw- 1 root root   81920 Nov 28  2005 bcmwliss.dll
</I>&gt;<i> -rwxrw-rw- 1 root root   33664 Nov 28  2005 bcmwlnpf.sys
</I>&gt;<i> -rwxrw-rw- 1 root root   69632 Nov 28  2005 bcmwlpkt.dll
</I>&gt;<i> -rwxrw-rw- 1 root root  122880 Nov 28  2005 bcmwls32.exe
</I>&gt;<i> -rwxrw-rw- 1 root root   22672 Nov 28  2005 bcmwls.ini
</I>&gt;<i> -rwxrw-rw- 1 root root  176128 Nov 28  2005 bcmwlu00.exe
</I>&gt;<i> -rwxrw-rw- 1 root root 2313329 Nov 28  2005 data1.cab
</I>&gt;<i> -rwxrw-rw- 1 root root   36304 Nov 28  2005 data1.hdr
</I>&gt;<i> -rwxrw-rw- 1 root root     512 Nov 28  2005 data2.cab
</I>&gt;<i> -rw-r--r-- 1 root root  658896 Apr 17  2006 gene.inf
</I>&gt;<i> -rwxrw-rw- 1 root root  346602 Nov 28  2005 ikernel.ex_
</I>&gt;<i> -rwxrw-rw- 1 root root    6200 Feb 14  2006 INFCACHE.1
</I>&gt;<i> -rwxrw-rw- 1 root root  168448 Nov 28  2005 is.exe
</I>&gt;<i> -rwxrw-rw- 1 root root  658896 Nov 28  2005 jene
</I>&gt;<i> -rwxrw-rw- 1 root root      28 Nov 28  2005 launcher.ini
</I>&gt;<i> -rwxrw-rw- 1 root root     417 Nov 28  2005 layout.bin
</I>&gt;<i> -rw-r--r-- 1 root root       0 Jan 10 22:29 ~lib-firm-dir-contents
</I>&gt;<i> -rwxrw-rw- 1 root root   45056 Nov 28  2005 setup.exe
</I>&gt;<i> -rwxrw-rw- 1 root root     595 Nov 28  2005 Setup.ini
</I>&gt;<i> -rwxrw-rw- 1 root root  162610 Nov 28  2005 setup.inx
</I>&gt;<i> -rwxrw-rw- 1 root root     628 Nov 28  2005 setup.iss
</I>&gt;<i> -rwxrw-rw- 1 root root    3485 Nov 28  2005 sp29842.cva
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;&gt;<i> You should find a bcm43xx-fwcutter utility (actually, it looks like its
</I>&gt;&gt;<i> in Extras so you can yum it too).  Run that against the .SYS file you
</I>&gt;&gt;<i> have from Windows to extract the firmware.  Then the bcm43xx driver
</I>&gt;&gt;<i> should be able to operate and you can toss ndiswrapper out the window.
</I>&gt;<i> 
</I>&gt;<i> Does not the above satisfy the bcm43xx drivers firmware requirements?
</I>&gt;<i> Recall from the earlier post, that a &quot;modprobe bcm43xx&quot; returns no error 
</I>&gt;<i> on the cli, and that this is the log from that action:
</I>&gt;<i> 
</I>&gt;<i> Jan 10 16:04:21 diablo kernel: ieee80211: 802.11 data/management/control 
</I>&gt;<i> stack, git-1.1.13
</I>&gt;<i> Jan 10 16:04:21 diablo kernel: ieee80211: Copyright (C) 2004-2005 Intel 
</I>&gt;<i> Corporation &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">jketreno at linux.intel.com</A>&gt;
</I>&gt;<i> Jan 10 16:04:21 diablo kernel: bcm43xx driver
</I>&gt;<i> Jan 10 16:04:21 diablo kernel: ACPI: PCI Interrupt 0000:03:02.0[A] -&gt; Link 
</I>&gt;<i> [LNKF] -&gt; GSI 10 (level, low) -&gt; IRQ 10
</I>&gt;<i> Jan 10 16:04:21 diablo kernel: bcm43xx: Chip ID 0x4318, rev 0x2
</I>&gt;<i> Jan 10 16:04:21 diablo kernel: bcm43xx: Number of cores: 4
</I>&gt;<i> Jan 10 16:04:21 diablo kernel: bcm43xx: Core 0: ID 0x800, rev 0xd, vendor 
</I>&gt;<i> 0x4243, enabled
</I>&gt;<i> Jan 10 16:04:21 diablo kernel: bcm43xx: Core 1: ID 0x812, rev 0x9, vendor 
</I>&gt;<i> 0x4243, disabled
</I>&gt;<i> Jan 10 16:04:21 diablo kernel: bcm43xx: Core 2: ID 0x804, rev 0xc, vendor 
</I>&gt;<i> 0x4243, enabled
</I>&gt;<i> Jan 10 16:04:21 diablo kernel: bcm43xx: Core 3: ID 0x80d, rev 0x7, vendor 
</I>&gt;<i> 0x4243, enabled
</I>&gt;<i> Jan 10 16:04:21 diablo kernel: bcm43xx: PHY connected
</I>&gt;<i> Jan 10 16:04:21 diablo kernel: bcm43xx: Detected PHY: Version: 3, Type 2, 
</I>&gt;<i> Revision 7
</I>&gt;<i> Jan 10 16:04:21 diablo kernel: bcm43xx: Detected Radio: ID: 8205017f 
</I>&gt;<i> (Manuf: 17f Ver: 2050 Rev: 8)
</I>&gt;<i> Jan 10 16:04:21 diablo kernel: bcm43xx: Radio turned off
</I>&gt;<i> Jan 10 16:04:21 diablo kernel: bcm43xx: Radio turned off
</I>&gt;<i> Jan 10 16:04:21 diablo kernel: SoftMAC: ASSERTION FAILED (0) at: 
</I>&gt;<i> net/ieee80211/softmac/ieee80211softmac_wx.c:306:ieee80211softmac_wx_get_rate()
</I>&gt;<i> Jan 10 16:04:21 diablo kernel: SoftMAC: empty ratesinfo?
</I>&gt;<i> Jan 10 16:04:21 diablo kernel: SoftMAC: empty ratesinfo?
</I>&gt;<i> Jan 10 16:04:21 diablo kernel: bcm43xx: set security called, .level = 
</I>&gt;<i> 0, .enabled = 0, .encrypt = 0
</I>&gt;<i> Jan 10 16:04:21 diablo kernel: SoftMAC: Associate: Scanning for networks 
</I>&gt;<i> first.
</I>&gt;<i> Jan 10 16:04:21 diablo kernel: SoftMAC: Associate: failed to initiate 
</I>&gt;<i> scan. Is device up?
</I>&gt;<i> Jan 10 16:04:21 diablo kernel: bcm43xx: PHY connected
</I>&gt;<i> Jan 10 16:04:21 diablo kernel: bcm43xx: Microcode rev 0x13f, pl 0x66 
</I>&gt;<i> (2005-10-15  22:46:19)
</I>&gt;<i> Jan 10 16:04:21 diablo kernel: bcm43xx: Firmware: no support for microcode 
</I>&gt;<i> rev &gt; 0x128
</I>&gt;<i> Jan 10 16:04:21 diablo kernel: bcm43xx: core_up for active 802.11 core 
</I>&gt;<i> failed (-1)
</I>&gt;<i> Jan 10 16:04:38 diablo kernel: SoftMAC: empty ratesinfo?
</I>&gt;<i> Jan 10 16:04:38 diablo kernel: SoftMAC: empty ratesinfo?
</I>&gt;<i> Jan 10 16:04:38 diablo kernel: bcm43xx: set security called, .level = 
</I>&gt;<i> 0, .enabled = 0, .encrypt = 0
</I>&gt;<i> Jan 10 16:04:38 diablo kernel: SoftMAC: Canceling existing associate 
</I>&gt;<i> request!
</I>&gt;<i> Jan 10 16:04:38 diablo kernel: SoftMAC: Associate: Scanning for networks 
</I>&gt;<i> first.
</I>&gt;<i> Jan 10 16:04:38 diablo kernel: SoftMAC: Associate: failed to initiate 
</I>&gt;<i> scan. Is device up?
</I>&gt;<i> Jan 10 16:04:38 diablo kernel: bcm43xx: Microcode rev 0x13f, pl 0x66 
</I>&gt;<i> (2005-10-15  22:46:19)
</I>&gt;<i> Jan 10 16:04:38 diablo kernel: bcm43xx: Firmware: no support for microcode 
</I>&gt;<i> rev &gt; 0x128
</I>
This rev level is V4 firmware, which is not supported by the mainline version of bcm43xx. Find a
copy of wl_apsta.o and re=extract the firmware from it. The version I have is rev 0x127, which is
the latest V3 firmware available,

&gt;<i> Jan 10 16:04:38 diablo kernel: bcm43xx: core_up for active 802.11 core 
</I>&gt;<i> failed (-1)
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> It was the 004-1.fc5 version of that utility I used at the time.  I have 
</I>&gt;<i> NDI where I got it at the time, but obviously from the 'fc5' in its name, 
</I>&gt;<i> it is probably the one from extras.
</I>&gt;<i> 
</I>&gt;<i> So what do I do next?
</I>
The &quot;correct&quot; firmware should let you get on-line. Be aware that 4318's have quite low transmit
power for unknown reasons, and the transmit rate will be quite low.

Larry


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000057.html">nm vs wireless on my lappy
</A></li>
	<LI>Next message: <A HREF="000059.html">nm vs wireless on my lappy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#58">[ date ]</a>
              <a href="thread.html#58">[ thread ]</a>
              <a href="subject.html#58">[ subject ]</a>
              <a href="author.html#58">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">More information about the Bcm43xx-dev
mailing list</a><br>
</body></html>
