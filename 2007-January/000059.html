<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> nm vs wireless on my lappy
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2007-January/index.html" >
   <LINK REL="made" HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20nm%20vs%20wireless%20on%20my%20lappy&In-Reply-To=%3C200701130241.06849.gene.heskett%40verizon.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000058.html">
   <LINK REL="Next"  HREF="000060.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>nm vs wireless on my lappy</H1>
    <B>Gene Heskett</B> 
    <A HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20nm%20vs%20wireless%20on%20my%20lappy&In-Reply-To=%3C200701130241.06849.gene.heskett%40verizon.net%3E"
       TITLE="nm vs wireless on my lappy">gene.heskett at verizon.net
       </A><BR>
    <I>Sat Jan 13 08:41:06 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000058.html">nm vs wireless on my lappy
</A></li>
        <LI>Next message: <A HREF="000060.html">nm vs wireless on my lappy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#59">[ date ]</a>
              <a href="thread.html#59">[ thread ]</a>
              <a href="subject.html#59">[ subject ]</a>
              <a href="author.html#59">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Saturday 13 January 2007 01:47, Larry Finger wrote:
&gt;<i>Gene Heskett wrote:
</I>&gt;&gt;<i> The following is a message I'd posted to the fedora list earlier, with
</I>&gt;&gt;<i> few replies.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On Wednesday 10 January 2007 22:00, David Hollis wrote:
</I>&gt;&gt;&gt;<i> On Wed, 2007-01-10 at 19:55 -0500, Gene Heskett wrote:
</I>&gt;&gt;&gt;&gt;<i> On Wednesday 10 January 2007 18:13, David Hollis wrote:
</I>&gt;&gt;&gt;&gt;&gt;<i> On Wed, 2007-01-10 at 16:48 -0500, Gene Heskett wrote:
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> Jan 10 16:04:38 diablo kernel: bcm43xx: Firmware: no support for
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> microcode
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> rev &gt; 0x128
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> I don't know anything about the bcm43xx driver, but this line does
</I>&gt;&gt;&gt;&gt;&gt;<i> seem interesting.  Do you have the extracted firmware available?
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> The 'extracted firmware' would be what is wrapped up in ndiswrapper.
</I>&gt;&gt;&gt;&gt;<i> There is also an alpha quality driver in the kernel tree, and that
</I>&gt;&gt;&gt;&gt;<i> is the one that is the src of that particular message.  The
</I>&gt;&gt;&gt;&gt;<i> extracted windows driver doesn't report that.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Check out <A HREF="http://bcm43xx.berlios.de/">http://bcm43xx.berlios.de/</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Hmm, it would appear we've /.'d them.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> However, I believe I did that last spring, using the driver directly
</I>&gt;&gt;<i> from the windows partition, and that all the files are now resident in
</I>&gt;&gt;<i> /lib/firmware.  Here is a listing of that directory:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> total 7352
</I>&gt;&gt;<i> -rwxrw-rw- 1 root root  757760 Nov 28  2005 bcm1xsup.dll
</I>&gt;&gt;<i> -rwxrw-rw- 1 root root    9948 Nov 28  2005 bcm43xx.cat
</I>&gt;&gt;<i> -rw-r--r-- 1 root root    3696 Jul  7  2006 bcm43xx_initval01.fw
</I>&gt;&gt;<i> -rw-r--r-- 1 root root      16 Jul  7  2006 bcm43xx_initval02.fw
</I>&gt;&gt;<i> -rw-r--r-- 1 root root    3696 Jul  7  2006 bcm43xx_initval03.fw
</I>&gt;&gt;<i> -rw-r--r-- 1 root root      16 Jul  7  2006 bcm43xx_initval04.fw
</I>&gt;&gt;<i> -rw-r--r-- 1 root root    2568 Jul  7  2006 bcm43xx_initval05.fw
</I>&gt;&gt;<i> -rw-r--r-- 1 root root     248 Jul  7  2006 bcm43xx_initval06.fw
</I>&gt;&gt;<i> -rw-r--r-- 1 root root    2568 Jul  7  2006 bcm43xx_initval07.fw
</I>&gt;&gt;<i> -rw-r--r-- 1 root root    2568 Jul  7  2006 bcm43xx_initval08.fw
</I>&gt;&gt;<i> -rw-r--r-- 1 root root     248 Jul  7  2006 bcm43xx_initval09.fw
</I>&gt;&gt;<i> -rw-r--r-- 1 root root     248 Jul  7  2006 bcm43xx_initval10.fw
</I>&gt;&gt;<i> -rw-r--r-- 1 root root   20200 Jul  7  2006 bcm43xx_microcode2.fw
</I>&gt;&gt;<i> -rw-r--r-- 1 root root   22352 Jul  7  2006 bcm43xx_microcode4.fw
</I>&gt;&gt;<i> -rw-r--r-- 1 root root   23184 Jul  7  2006 bcm43xx_microcode5.fw
</I>&gt;&gt;<i> -rw-r--r-- 1 root root    1312 Jul  7  2006 bcm43xx_pcm4.fw
</I>&gt;&gt;<i> -rw-r--r-- 1 root root    1312 Jul  7  2006 bcm43xx_pcm5.fw
</I>&gt;&gt;<i> -rwxrw-rw- 1 root root  658896 Nov 28  2005 bcmwl5.inf
</I>&gt;&gt;<i> -rwxrw-rw- 1 root root  379840 Feb 14  2006 bcmwl5.PNF
</I>&gt;&gt;<i> -rwxrw-rw- 1 root root  424320 Nov 28  2005 bcmwl5.sys
</I>&gt;&gt;<i> -rwxrw-rw- 1 root root   81920 Nov 28  2005 bcmwliss.dll
</I>&gt;&gt;<i> -rwxrw-rw- 1 root root   33664 Nov 28  2005 bcmwlnpf.sys
</I>&gt;&gt;<i> -rwxrw-rw- 1 root root   69632 Nov 28  2005 bcmwlpkt.dll
</I>&gt;&gt;<i> -rwxrw-rw- 1 root root  122880 Nov 28  2005 bcmwls32.exe
</I>&gt;&gt;<i> -rwxrw-rw- 1 root root   22672 Nov 28  2005 bcmwls.ini
</I>&gt;&gt;<i> -rwxrw-rw- 1 root root  176128 Nov 28  2005 bcmwlu00.exe
</I>&gt;&gt;<i> -rwxrw-rw- 1 root root 2313329 Nov 28  2005 data1.cab
</I>&gt;&gt;<i> -rwxrw-rw- 1 root root   36304 Nov 28  2005 data1.hdr
</I>&gt;&gt;<i> -rwxrw-rw- 1 root root     512 Nov 28  2005 data2.cab
</I>&gt;&gt;<i> -rw-r--r-- 1 root root  658896 Apr 17  2006 gene.inf
</I>&gt;&gt;<i> -rwxrw-rw- 1 root root  346602 Nov 28  2005 ikernel.ex_
</I>&gt;&gt;<i> -rwxrw-rw- 1 root root    6200 Feb 14  2006 INFCACHE.1
</I>&gt;&gt;<i> -rwxrw-rw- 1 root root  168448 Nov 28  2005 is.exe
</I>&gt;&gt;<i> -rwxrw-rw- 1 root root  658896 Nov 28  2005 jene
</I>&gt;&gt;<i> -rwxrw-rw- 1 root root      28 Nov 28  2005 launcher.ini
</I>&gt;&gt;<i> -rwxrw-rw- 1 root root     417 Nov 28  2005 layout.bin
</I>&gt;&gt;<i> -rw-r--r-- 1 root root       0 Jan 10 22:29 ~lib-firm-dir-contents
</I>&gt;&gt;<i> -rwxrw-rw- 1 root root   45056 Nov 28  2005 setup.exe
</I>&gt;&gt;<i> -rwxrw-rw- 1 root root     595 Nov 28  2005 Setup.ini
</I>&gt;&gt;<i> -rwxrw-rw- 1 root root  162610 Nov 28  2005 setup.inx
</I>&gt;&gt;<i> -rwxrw-rw- 1 root root     628 Nov 28  2005 setup.iss
</I>&gt;&gt;<i> -rwxrw-rw- 1 root root    3485 Nov 28  2005 sp29842.cva
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> You should find a bcm43xx-fwcutter utility (actually, it looks like
</I>&gt;&gt;&gt;<i> its in Extras so you can yum it too).  Run that against the .SYS file
</I>&gt;&gt;&gt;<i> you have from Windows to extract the firmware.  Then the bcm43xx
</I>&gt;&gt;&gt;<i> driver should be able to operate and you can toss ndiswrapper out the
</I>&gt;&gt;&gt;<i> window.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Does not the above satisfy the bcm43xx drivers firmware requirements?
</I>&gt;&gt;<i> Recall from the earlier post, that a &quot;modprobe bcm43xx&quot; returns no
</I>&gt;&gt;<i> error on the cli, and that this is the log from that action:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Jan 10 16:04:21 diablo kernel: ieee80211: 802.11
</I>&gt;&gt;<i> data/management/control stack, git-1.1.13
</I>&gt;&gt;<i> Jan 10 16:04:21 diablo kernel: ieee80211: Copyright (C) 2004-2005
</I>&gt;&gt;<i> Intel Corporation &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">jketreno at linux.intel.com</A>&gt;
</I>&gt;&gt;<i> Jan 10 16:04:21 diablo kernel: bcm43xx driver
</I>&gt;&gt;<i> Jan 10 16:04:21 diablo kernel: ACPI: PCI Interrupt 0000:03:02.0[A] -&gt;
</I>&gt;&gt;<i> Link [LNKF] -&gt; GSI 10 (level, low) -&gt; IRQ 10
</I>&gt;&gt;<i> Jan 10 16:04:21 diablo kernel: bcm43xx: Chip ID 0x4318, rev 0x2
</I>&gt;&gt;<i> Jan 10 16:04:21 diablo kernel: bcm43xx: Number of cores: 4
</I>&gt;&gt;<i> Jan 10 16:04:21 diablo kernel: bcm43xx: Core 0: ID 0x800, rev 0xd,
</I>&gt;&gt;<i> vendor 0x4243, enabled
</I>&gt;&gt;<i> Jan 10 16:04:21 diablo kernel: bcm43xx: Core 1: ID 0x812, rev 0x9,
</I>&gt;&gt;<i> vendor 0x4243, disabled
</I>&gt;&gt;<i> Jan 10 16:04:21 diablo kernel: bcm43xx: Core 2: ID 0x804, rev 0xc,
</I>&gt;&gt;<i> vendor 0x4243, enabled
</I>&gt;&gt;<i> Jan 10 16:04:21 diablo kernel: bcm43xx: Core 3: ID 0x80d, rev 0x7,
</I>&gt;&gt;<i> vendor 0x4243, enabled
</I>&gt;&gt;<i> Jan 10 16:04:21 diablo kernel: bcm43xx: PHY connected
</I>&gt;&gt;<i> Jan 10 16:04:21 diablo kernel: bcm43xx: Detected PHY: Version: 3, Type
</I>&gt;&gt;<i> 2, Revision 7
</I>&gt;&gt;<i> Jan 10 16:04:21 diablo kernel: bcm43xx: Detected Radio: ID: 8205017f
</I>&gt;&gt;<i> (Manuf: 17f Ver: 2050 Rev: 8)
</I>&gt;&gt;<i> Jan 10 16:04:21 diablo kernel: bcm43xx: Radio turned off
</I>&gt;&gt;<i> Jan 10 16:04:21 diablo kernel: bcm43xx: Radio turned off
</I>&gt;&gt;<i> Jan 10 16:04:21 diablo kernel: SoftMAC: ASSERTION FAILED (0) at:
</I>&gt;&gt;<i> net/ieee80211/softmac/ieee80211softmac_wx.c:306:ieee80211softmac_wx_ge
</I>&gt;&gt;<i>t_rate() Jan 10 16:04:21 diablo kernel: SoftMAC: empty ratesinfo?
</I>&gt;&gt;<i> Jan 10 16:04:21 diablo kernel: SoftMAC: empty ratesinfo?
</I>&gt;&gt;<i> Jan 10 16:04:21 diablo kernel: bcm43xx: set security called, .level =
</I>&gt;&gt;<i> 0, .enabled = 0, .encrypt = 0
</I>&gt;&gt;<i> Jan 10 16:04:21 diablo kernel: SoftMAC: Associate: Scanning for
</I>&gt;&gt;<i> networks first.
</I>&gt;&gt;<i> Jan 10 16:04:21 diablo kernel: SoftMAC: Associate: failed to initiate
</I>&gt;&gt;<i> scan. Is device up?
</I>&gt;&gt;<i> Jan 10 16:04:21 diablo kernel: bcm43xx: PHY connected
</I>&gt;&gt;<i> Jan 10 16:04:21 diablo kernel: bcm43xx: Microcode rev 0x13f, pl 0x66
</I>&gt;&gt;<i> (2005-10-15  22:46:19)
</I>&gt;&gt;<i> Jan 10 16:04:21 diablo kernel: bcm43xx: Firmware: no support for
</I>&gt;&gt;<i> microcode rev &gt; 0x128
</I>&gt;&gt;<i> Jan 10 16:04:21 diablo kernel: bcm43xx: core_up for active 802.11 core
</I>&gt;&gt;<i> failed (-1)
</I>&gt;&gt;<i> Jan 10 16:04:38 diablo kernel: SoftMAC: empty ratesinfo?
</I>&gt;&gt;<i> Jan 10 16:04:38 diablo kernel: SoftMAC: empty ratesinfo?
</I>&gt;&gt;<i> Jan 10 16:04:38 diablo kernel: bcm43xx: set security called, .level =
</I>&gt;&gt;<i> 0, .enabled = 0, .encrypt = 0
</I>&gt;&gt;<i> Jan 10 16:04:38 diablo kernel: SoftMAC: Canceling existing associate
</I>&gt;&gt;<i> request!
</I>&gt;&gt;<i> Jan 10 16:04:38 diablo kernel: SoftMAC: Associate: Scanning for
</I>&gt;&gt;<i> networks first.
</I>&gt;&gt;<i> Jan 10 16:04:38 diablo kernel: SoftMAC: Associate: failed to initiate
</I>&gt;&gt;<i> scan. Is device up?
</I>&gt;&gt;<i> Jan 10 16:04:38 diablo kernel: bcm43xx: Microcode rev 0x13f, pl 0x66
</I>&gt;&gt;<i> (2005-10-15  22:46:19)
</I>&gt;&gt;<i> Jan 10 16:04:38 diablo kernel: bcm43xx: Firmware: no support for
</I>&gt;&gt;<i> microcode rev &gt; 0x128
</I>&gt;<i>
</I>&gt;<i>This rev level is V4 firmware, which is not supported by the mainline
</I>&gt;<i> version of bcm43xx. Find a copy of wl_apsta.o and re=extract the
</I>&gt;<i> firmware from it. The version I have is rev 0x127, which is the latest
</I>&gt;<i> V3 firmware available,
</I>&gt;<i>
</I>That's a bit confusing since the chip, from the way I'm reading that 
message, is revision 13f, and in comparing md5sums, what I have is either 
a miss-match from that chart (its late, the url escapes me ATM), the only 
matching md5sum is from a microcode &quot;11&quot; in that chart, but the length of 
the file is wrong by 200 bytes or so.  Those you see above were extracted 
from the installed and working flawlessly (much to my chagrin) Windows XP 
that came on that lappy and which I haven't recovered the disk space I 
left it. (yet)

I don't know if I have a wl_apsta.o available on that machine, but I do 
have a somewhat dated version on this box, in the form of:
/mnt/hdb/usr/src/DD-WRT/src/linux/brcm/linux.v24/drivers/net/wl/wl_apsta.o

but I'd need to setup a samba share to get it over there unless I can grab 
the latest dd-wrt src's from their site, downloaded directly to that 
machine.  I may try that just to get the more recent version.

&gt;&gt;<i> Jan 10 16:04:38 diablo kernel: bcm43xx: core_up for active 802.11 core
</I>&gt;&gt;<i> failed (-1)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> It was the 004-1.fc5 version of that utility I used at the time.  I
</I>&gt;&gt;<i> have NDI where I got it at the time, but obviously from the 'fc5' in
</I>&gt;&gt;<i> its name, it is probably the one from extras.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> So what do I do next?
</I>&gt;<i>
</I>&gt;<i>The &quot;correct&quot; firmware should let you get on-line. Be aware that 4318's
</I>&gt;<i> have quite low transmit power for unknown reasons, and the transmit
</I>&gt;<i> rate will be quite low.
</I>
When I did have it working back around the May/June timeframe, in a motel 
in upstate MI, using that exact same dir full of firmware and 
ndiswrapper, upload speed was not a problem, and I did send a few dozen 
nearly a meg each pictures out through it at speeds that I thought 
compared well to my dsl (1.5/256) connection here.  tx power atm is 
reported as about 25mw when I was playing earlier this evening.  This I 
think compares favorably with dd-wrt's report of 28mw from the atheros 
card in that box.  x86 version of dd-wrt, booting and running from a half 
gig compact flash card, no hard drive.

Its late &amp; I'm going to sleep on this, thanks Larry.

&gt;<i>Larry
</I>
-- 
Cheers, Gene
&quot;There are four boxes to be used in defense of liberty:
 soap, ballot, jury, and ammo. Please use in that order.&quot;
-Ed Howdershelt (Author)
Yahoo.com and AOL/TW attorneys please note, additions to the above
message by Gene Heskett are:
Copyright 2007 by Maurice Eugene Heskett, all rights reserved.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000058.html">nm vs wireless on my lappy
</A></li>
	<LI>Next message: <A HREF="000060.html">nm vs wireless on my lappy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#59">[ date ]</a>
              <a href="thread.html#59">[ thread ]</a>
              <a href="subject.html#59">[ subject ]</a>
              <a href="author.html#59">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">More information about the Bcm43xx-dev
mailing list</a><br>
</body></html>
