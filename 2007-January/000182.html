<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> RFC: bcm43xx-d80211: Add radio hardware switch code to mb tree
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2007-January/index.html" >
   <LINK REL="made" HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20RFC%3A%20bcm43xx-d80211%3A%20Add%20radio%20hardware%20switch%20code%20to%20mb%20tree&In-Reply-To=%3C200701250933.30541.gene.heskett%40verizon.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000179.html">
   <LINK REL="Next"  HREF="000174.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>RFC: bcm43xx-d80211: Add radio hardware switch code to mb tree</H1>
    <B>Gene Heskett</B> 
    <A HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20RFC%3A%20bcm43xx-d80211%3A%20Add%20radio%20hardware%20switch%20code%20to%20mb%20tree&In-Reply-To=%3C200701250933.30541.gene.heskett%40verizon.net%3E"
       TITLE="RFC: bcm43xx-d80211: Add radio hardware switch code to mb tree">gene.heskett at verizon.net
       </A><BR>
    <I>Thu Jan 25 15:33:30 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000179.html">RFC: bcm43xx-d80211: Add radio hardware switch code to mb tree
</A></li>
        <LI>Next message: <A HREF="000174.html">[RFC PATCH] bcm43xx: set channel when the interface is brought up
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#182">[ date ]</a>
              <a href="thread.html#182">[ thread ]</a>
              <a href="subject.html#182">[ subject ]</a>
              <a href="author.html#182">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thursday 25 January 2007 09:01, Larry Finger wrote:
&gt;<i>Michael Buesch wrote:
</I>&gt;&gt;<i> On Thursday 25 January 2007 04:21, Larry Finger wrote:
</I>&gt;&gt;&gt;<i> Michael Buesch wrote:
</I>&gt;&gt;&gt;&gt;<i> On Thursday 25 January 2007 00:16, Steve Brown wrote:
</I>&gt;&gt;&gt;&gt;&gt;<i> My understanding of the proposed behavior is:
</I>&gt;&gt;&gt;&gt;&gt;<i>     Radio on: led on
</I>&gt;&gt;&gt;&gt;&gt;<i>     Radio off: led off
</I>&gt;&gt;&gt;&gt;&gt;<i>     Activity: flash on-off-on ...
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> This is the same behavior as my Buffalo WHR-HP-G54 and seems
</I>&gt;&gt;&gt;&gt;&gt;<i> reasonable.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> That's not what is implemented in larry's patch.
</I>&gt;&gt;&gt;&gt;<i> In this patch the &quot;activity&quot; led does only indicate activity
</I>&gt;&gt;&gt;&gt;<i> and not radio status. (Well, it also indicates a the-card-is-up
</I>&gt;&gt;&gt;&gt;<i> state, but that's not necessarily indicating that the radio
</I>&gt;&gt;&gt;&gt;<i> is switched on).
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Actually, it is what is in my patch. The LED is on if the
</I>&gt;&gt;&gt;<i> hardware-enable switch is on and the interface is up.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The activity LED switches off, if you turn off the rf through rfkill
</I>&gt;&gt;<i> button? I don't think it does. I'd say it would always stay on, if you
</I>&gt;&gt;<i> switch rf off.
</I>&gt;<i>
</I>&gt;<i>On both mini-PCI interfaces here, and on every other one that has been
</I>&gt;<i> reported to me, the LED used to show activity (number 0) is also the
</I>&gt;<i> one used in the rfkill switch. With the activelow and the rest of my
</I>&gt;<i> patch, it is on when the rf is enabled, and off when the rf is
</I>&gt;<i> disabled. As Michael would say &quot;Full stop!&quot;.
</I>&gt;<i>
</I>&gt;<i>Larry
</I>&gt;<i>
</I>If I'm allowed to dip and oar in this water, I'd vote for something that 
indicates the connection is up AND working.  I'm sitting here looking at 
an ancient wap11, and its third led blinks with either beacon or link 
activity.  If such an action could be added to the on/off led in the 
hinge of an HP lappy, that would be great.  Make it flash on 1 sec, off 1 
sec when the hardware is enabled but no connection, and flash with the 
reception of the beacon when connected but idle, and get brighter with 
each packet of traffic would be a great 'at a glance' status indicator.

As to how much coding trouble it is to get to that led, I have no idea.  
Clearly if its 100+ lines of assembly code to pick ones way thru the 
hardware and do it, that's certainly not productive use of cpu time IMO.

-- 
Cheers, Gene
&quot;There are four boxes to be used in defense of liberty:
 soap, ballot, jury, and ammo. Please use in that order.&quot;
-Ed Howdershelt (Author)
Yahoo.com and AOL/TW attorneys please note, additions to the above
message by Gene Heskett are:
Copyright 2007 by Maurice Eugene Heskett, all rights reserved.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000179.html">RFC: bcm43xx-d80211: Add radio hardware switch code to mb tree
</A></li>
	<LI>Next message: <A HREF="000174.html">[RFC PATCH] bcm43xx: set channel when the interface is brought up
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#182">[ date ]</a>
              <a href="thread.html#182">[ thread ]</a>
              <a href="subject.html#182">[ subject ]</a>
              <a href="author.html#182">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">More information about the Bcm43xx-dev
mailing list</a><br>
</body></html>
