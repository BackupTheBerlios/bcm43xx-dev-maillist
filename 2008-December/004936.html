<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [RFC] b43: rework rfkill code
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2008-December/index.html" >
   <LINK REL="made" HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20%5BRFC%5D%20b43%3A%20rework%20rfkill%20code&In-Reply-To=%3C1228929820.15837.40.camel%40johannes.berg%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004935.html">
   <LINK REL="Next"  HREF="004937.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[RFC] b43: rework rfkill code</H1>
    <B>Johannes Berg</B> 
    <A HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20%5BRFC%5D%20b43%3A%20rework%20rfkill%20code&In-Reply-To=%3C1228929820.15837.40.camel%40johannes.berg%3E"
       TITLE="[RFC] b43: rework rfkill code">johannes at sipsolutions.net
       </A><BR>
    <I>Wed Dec 10 18:23:40 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="004935.html">[RFC] b43: rework rfkill code
</A></li>
        <LI>Next message: <A HREF="004937.html">[RFC] b43: rework rfkill code
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4936">[ date ]</a>
              <a href="thread.html#4936">[ thread ]</a>
              <a href="subject.html#4936">[ subject ]</a>
              <a href="author.html#4936">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, 2008-12-10 at 18:18 +0100, Johannes Berg wrote:

&gt;<i> We really need to disentangle the state tracking rfkill does. People
</I>&gt;<i> have said this a million times before, but nobody cares: drivers need to
</I>&gt;<i> register hard-blocked and get soft-block states independently, not in a
</I>&gt;<i> single enum; API for drivers needs to be, above all, EASY to use.
</I>
Also, the rfkill struct itself is a mess. What's get_state() for? Why is
this not layered? How can get_state() work correctly, it doesn't poll
the device so it doesn't look like software will ever get a state
update.

Then there's user_claim_unsupported which is set by all drivers but
rt2x00, probably because they have hardware kill switches and thus they
have to set it even if it's not strictly true, because of the lacking
separation between these things (that I pointed out)

johannes
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 836 bytes
Desc: This is a digitally signed message part
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/bcm43xx-dev/attachments/20081210/4e0e908e/attachment.pgp">https://lists.berlios.de/pipermail/bcm43xx-dev/attachments/20081210/4e0e908e/attachment.pgp</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004935.html">[RFC] b43: rework rfkill code
</A></li>
	<LI>Next message: <A HREF="004937.html">[RFC] b43: rework rfkill code
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4936">[ date ]</a>
              <a href="thread.html#4936">[ thread ]</a>
              <a href="subject.html#4936">[ subject ]</a>
              <a href="author.html#4936">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">More information about the Bcm43xx-dev
mailing list</a><br>
</body></html>
