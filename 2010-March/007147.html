<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> 14e4:4315 (Dell Wireless 1397) cannot find networks after use of b43 	driver
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2010-March/index.html" >
   <LINK REL="made" HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%2014e4%3A4315%20%28Dell%20Wireless%201397%29%20cannot%20find%20networks%20after%20use%20of%20b43%20%0A%09driver&In-Reply-To=%3C11801e291003231230v2da3e02fo1ddcab7c0a78e107%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007158.html">
   <LINK REL="Next"  HREF="007148.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>14e4:4315 (Dell Wireless 1397) cannot find networks after use of b43 	driver</H1>
    <B>Chris Lopes</B> 
    <A HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%2014e4%3A4315%20%28Dell%20Wireless%201397%29%20cannot%20find%20networks%20after%20use%20of%20b43%20%0A%09driver&In-Reply-To=%3C11801e291003231230v2da3e02fo1ddcab7c0a78e107%40mail.gmail.com%3E"
       TITLE="14e4:4315 (Dell Wireless 1397) cannot find networks after use of b43 	driver">clopes at gmail.com
       </A><BR>
    <I>Tue Mar 23 20:30:41 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="007158.html">[PATCH V3] ssb: Implement virtual SPROM
</A></li>
        <LI>Next message: <A HREF="007148.html">14e4:4315 (Dell Wireless 1397) cannot find networks after use	of b43 	driver
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7147">[ date ]</a>
              <a href="thread.html#7147">[ thread ]</a>
              <a href="subject.html#7147">[ subject ]</a>
              <a href="author.html#7147">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I had a perfectly working Dell system running Windows Vista and using
version 5.60.188.1 of the Broadcom windows driver (distributed by
Dell) for what Windows calls the &quot;Dell Wireless 1397 WLAN Mini-Card&quot;,
which is actually 14e4:4315.

I booted Parted Magic 4.9 from a USB flash drive, which uses the
2.6.32 linux kernel.
I started up networking in Parted Magic and asked it to configure the
wireless driver.

At first it found my normal SSID and I asked it to try to connect, but
it failed.  I thought this was just a transient issue specific to
Parted Magic and/or linux.

So I booted bank into Vista, only to see that although Vista reports
everything as being fine with the card, no wireless networks are ever
detected.  I have verified that the wireless networks that I expect
indeed exist and are in range (the machine has not moved).

Is it possible that the b43 driver somehow corrupted the firmware/ROM
of my card such that it does not function correctly?  Can I fix this?
There is a DMA error (also shown below in context): b43-phy0 ERROR:
Fatal DMA error: 0x00000400, 0x00000000, 0x00000000, 0x00000000,
0x00000000, 0x00000000


Please help

I booted back into Parted Magic and got this info from uname, dmesg, and lspci:
uname:
Linux PartedMagic 2.6.32.9-pmagic #3 SMP Fri Mar 12 15:53:22 CST 2010
i686 GNU/Linux

lspci:
0c:00.0 Network controller [0280]: Broadcom Corporation BCM4312 802.11b/g [14e4
:<i>4315] (rev 01)
</I>	Subsystem: Dell Wireless 1397 WLAN Mini-Card [1028:000c]
	Flags: bus master, fast devsel, latency 0, IRQ 7
	Memory at f1ffc000 (64-bit, non-prefetchable) [size=16K]
	Capabilities: [40] Power Management version 3
	Capabilities: [58] Vendor Specific Information: Len=78 &lt;?&gt;
	Capabilities: [e8] MSI: Enable- Count=1/1 Maskable- 64bit+
	Capabilities: [d0] Express Endpoint, MSI 00
	Capabilities: [100] Advanced Error Reporting
	Capabilities: [13c] Virtual Channel
	Capabilities: [160] Device Serial Number 83-42-5f-ff-ff-53-00-22
	Capabilities: [16c] Power Budgeting &lt;?&gt;
	Kernel driver in use: b43-pci-bridge
	Kernel modules: ssb

dmesg:
b43-pci-bridge 0000:0c:00.0: PCI INT A -&gt; Link[LNKB] -&gt; GSI 7 (level,
low) -&gt; IRQ 7
b43-pci-bridge 0000:0c:00.0: setting latency timer to 64
b43-phy0: Broadcom 4312 WLAN found (core revision 15)
Registered led device: b43-phy0::tx
Registered led device: b43-phy0::rx
Registered led device: b43-phy0::radio
b43 ssb0:0: firmware: requesting b43/ucode15.fw
b43 ssb0:0: firmware: requesting b43/lp0initvals15.fw
b43 ssb0:0: firmware: requesting b43/lp0bsinitvals15.fw
b43-phy0: Loading firmware version 410.2160 (2007-05-26 15:32:10)
b43-phy0 ERROR: Fatal DMA error: 0x00000400, 0x00000000, 0x00000000,
0x00000000, 0x00000000, 0x00000000
b43-phy0: Controller RESET (DMA error) ...
b43-phy0: Loading firmware version 410.2160 (2007-05-26 15:32:10)
b43-phy0: Controller restarted
(followed by repeated errors with the same messages)

Thanks

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007158.html">[PATCH V3] ssb: Implement virtual SPROM
</A></li>
	<LI>Next message: <A HREF="007148.html">14e4:4315 (Dell Wireless 1397) cannot find networks after use	of b43 	driver
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7147">[ date ]</a>
              <a href="thread.html#7147">[ thread ]</a>
              <a href="subject.html#7147">[ subject ]</a>
              <a href="author.html#7147">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">More information about the Bcm43xx-dev
mailing list</a><br>
</body></html>
