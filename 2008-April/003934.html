<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Feedback on ASUS WL-138G V2
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2008-April/index.html" >
   <LINK REL="made" HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20Feedback%20on%20ASUS%20WL-138G%20V2&In-Reply-To=%3CBAY107-W70D0652C1E9B36DFD9578A0E30%40phx.gbl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003935.html">
   <LINK REL="Next"  HREF="003936.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Feedback on ASUS WL-138G V2</H1>
    <B>kala mazoo</B> 
    <A HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20Feedback%20on%20ASUS%20WL-138G%20V2&In-Reply-To=%3CBAY107-W70D0652C1E9B36DFD9578A0E30%40phx.gbl%3E"
       TITLE="Feedback on ASUS WL-138G V2">myheadblewoff at hotmail.com
       </A><BR>
    <I>Wed Apr 23 02:45:33 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="003935.html">Feedback on ASUS WL-138G V2
</A></li>
        <LI>Next message: <A HREF="003936.html">Feedback on ASUS WL-138G V2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3934">[ date ]</a>
              <a href="thread.html#3934">[ thread ]</a>
              <a href="subject.html#3934">[ subject ]</a>
              <a href="author.html#3934">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

________________________________
&gt;<i> Date: Tue, 22 Apr 2008 18:26:34 +0200
</I>&gt;<i> From: <A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">netrolller.3d at gmail.com</A>
</I>&gt;<i> To: <A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">johannes at sipsolutions.net</A>
</I>&gt;<i> Subject: Re: Feedback on ASUS WL-138G V2
</I>&gt;<i> CC: <A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">myheadblewoff at hotmail.com</A>; <A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">bcm43xx-dev at lists.berlios.de</A>; <A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">larry.finger at lwfinger.net</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Tue, Apr 22, 2008 at 5:24 PM, Johannes Berg &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">johannes at sipsolutions.net</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Notice the lack of led devices registering here (as I mentioned before). Indeed,
</I>&gt;&gt;<i> the behaviour of the leds is totally different -- now, they come ON and stay
</I>&gt;&gt;<i> ON when the card is 'active'...ie; ifconfig wlan0 up. Converse is true ; doing
</I>&gt;&gt;<i> 'ifconfig wlan0 down' turns the leds off again.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> If I dump the sprom image Stefanik provided back into the card, the led device
</I>&gt;&gt;<i> registration lines reappear in debug, and the leds blink in that sympathetic way
</I>&gt;&gt;<i> rx/tx leds do. Is there yet another funky value in sprom responsible for this?
</I>&gt;<i>
</I>&gt;<i> Yes, the sprom determines how the card vendor wants the LEDs to behave.
</I>&gt;<i> You can change this behaviour easily in sysfs.
</I>&gt;<i>
</I>&gt;<i> And as we can expect from ASUS, the LED settings are wrong, too. (All are @ 0xFF.) The same is true for the antenna bitfields (it has 1 antenna for B/G, and no A antennas, yet the bitfield says 0 B/G antennas and 2 A ones...). ASUS has done a terrible work with the SPROM (or perhaps these are the default values of the SPROM that Broadcom programmed into the chips before they reached ASUS - who only changed the subsys IDs). The workaround is to always enable the LEDs for ASUS cards, while the real fix is up to ASUS - it would be firing the current engineer (who doesn't seem to know the word &quot;SPROM&quot; and connects Bluetooth GPIO lines to 802.11 TX amplifiers - I imagine if he was a surgeon, we would have a lot of people who died because he connected their liver where their heart would have gone...) and getting a more competent one to do the work. :-)
</I>&gt;<i>
</I>....Haha, sad fact is that surgeons like that actually exist, and end up killing dozens of people
before they loose their job - remember, I'm in .AU and we've seen a spate of this sort of
thing over the past few years -- fortunately, I don't think the asus cards present any health
risk....
        ....It does make one consider the insanity of all this though....ie; given the state of
'programming finesse' demonstrated by asus with these cards, one doesn't&gt;really&lt; have
to change b43 code at all (to account for asus' misgivings) -- all we need do is correctly
identify this particular type of card and change sprom contents to something that works....

I know that's not a 'sane' comment -- I'm just considering how much (good) work the
developers here do (and -will- do) to the b43 code to get the driver working correctly
with these cards -- the b43 code will increase in size by so many kilobytes of work-
arounds, fixups and extra routines, all to circumvent a lousy 258bytes of sprom code
which itself is about as useful as having square wheels on a car....


&gt;<i>
</I>&gt;&gt;<i> [from the 'host' box with the asus card]
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 1212 packets transmitted, 1200 packets received, 0% packet loss
</I>&gt;&gt;<i> round-trip min/avg/max/stddev = 0.821/1.192/5.801/0.366 ms
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ...???.....I would've expected almost 1% packet loss (having lost 12 packets)
</I>&gt;<i>
</I>&gt;<i> Heh. May be a rounding error somewhere
</I>&gt;<i>
</I>&gt;<i> Apparently it always rounds down, and doesn't follow the 5/4 rule.
</I>
.....oh, I was unaware of this....

&gt;<i>
</I>&gt;&gt;<i> If I ping the host box from my machine here, the packets have to go out
</I>&gt;&gt;<i> my eth0 interface into a netgear wr602 in client mode which is associated
</I>&gt;&gt;<i> with the wgr614 AP down the hall (which is the AP the host is associated
</I>&gt;&gt;<i> with also). In this case, I get ;
</I>&gt;<i>
</I>&gt;&gt;<i> 350 packets transmitted, 344 packets received, +140 duplicates, 1% packet loss
</I>&gt;&gt;<i> round-trip min/avg/max/stddev = 1.222/1.893/4.296/0.443 ms
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Has anyone any idea what's going on here?
</I>&gt;<i>
</I>&gt;<i> Eh, what exactly is your network setup? You normally can't bridge STA
</I>&gt;<i> mode. This looks like something is not doing ieee 802.11 de-duplication.
</I>&gt;<i>
</I>&gt;<i> Donald, did you have a radiotap interface on the same card while you did this? I tend to get some dupe pings when I run kismet in the background (with channel hopping&gt;disabled, of course).
</I>

No....no radiotap, kismet or anything else running like that at the time.


Regards,

            Donald

_________________________________________________________________
It's simple! Sell your car for just $30 at CarPoint.com.au
<A HREF="http://a.ninemsn.com.au/b.aspx?URL=http%3A%2F%2Fsecure%2Dau%2Eimrworldwide%2Ecom%2Fcgi%2Dbin%2Fa%2Fci%5F450304%2Fet%5F2%2Fcg%5F801459%2Fpi%5F1004813%2Fai%5F859641&amp;_t=762955845&amp;_r=tig_OCT07&amp;_m=EXT">http://a.ninemsn.com.au/b.aspx?URL=http%3A%2F%2Fsecure%2Dau%2Eimrworldwide%2Ecom%2Fcgi%2Dbin%2Fa%2Fci%5F450304%2Fet%5F2%2Fcg%5F801459%2Fpi%5F1004813%2Fai%5F859641&amp;_t=762955845&amp;_r=tig_OCT07&amp;_m=EXT</A>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003935.html">Feedback on ASUS WL-138G V2
</A></li>
	<LI>Next message: <A HREF="003936.html">Feedback on ASUS WL-138G V2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3934">[ date ]</a>
              <a href="thread.html#3934">[ thread ]</a>
              <a href="subject.html#3934">[ subject ]</a>
              <a href="author.html#3934">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">More information about the Bcm43xx-dev
mailing list</a><br>
</body></html>
