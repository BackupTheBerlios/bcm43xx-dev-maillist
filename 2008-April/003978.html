<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Feedback on ASUS WL-138G V2 on x86_64
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2008-April/index.html" >
   <LINK REL="made" HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20Feedback%20on%20ASUS%20WL-138G%20V2%20on%20x86_64&In-Reply-To=%3CBAY107-W299B27341A56DFDA4C9028A0DC0%40phx.gbl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003971.html">
   <LINK REL="Next"  HREF="003992.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Feedback on ASUS WL-138G V2 on x86_64</H1>
    <B>kala mazoo</B> 
    <A HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20Feedback%20on%20ASUS%20WL-138G%20V2%20on%20x86_64&In-Reply-To=%3CBAY107-W299B27341A56DFDA4C9028A0DC0%40phx.gbl%3E"
       TITLE="Feedback on ASUS WL-138G V2 on x86_64">myheadblewoff at hotmail.com
       </A><BR>
    <I>Sat Apr 26 16:34:29 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="003971.html">[PATCH] b43: Don't disable IRQs in mac_suspend
</A></li>
        <LI>Next message: <A HREF="003992.html">[PATCH] b43: Fix dual-PHY devices
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3978">[ date ]</a>
              <a href="thread.html#3978">[ thread ]</a>
              <a href="subject.html#3978">[ subject ]</a>
              <a href="author.html#3978">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

----------------------------------------
&gt;<i> Date: Fri, 25 Apr 2008 04:14:11 +0200
</I>&gt;<i> From: <A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">netrolller.3d at gmail.com</A>
</I>&gt;<i> To: <A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">myheadblewoff at hotmail.com</A>
</I>&gt;<i> Subject: Re: Feedback on ASUS WL-138G V2 on x86_64
</I>&gt;<i>
</I>&gt;<i> On Fri, Apr 25, 2008 at 3:56 AM, kala mazoo  wrote:
</I>&gt;&gt;<i>
</I>&lt;&gt;
&gt;&gt;<i>
</I>&gt;&gt;<i>  Apart from the fact I probably shouldn't be @ 2.6.24 with
</I>&gt;&gt;<i>  this (I'll move to 2.6.25-git5 next reboot), can someone
</I>&gt;&gt;<i>  please advise me on where to head next hunting this?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  Regards,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>              Donald
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> A quick question: can you build the full wireless-testing kernel (not
</I>&gt;<i> just compat-wireless-2.6), or does that fail with an error, too?
</I>&gt;<i>
</I>&gt;<i>
</I>
Apologies -- I guess I got distracted by what worked on the 32bit machine
expecting it to work like fashion on the 64bit box, without realizing that
between then and the 'now' time of you asking this question, Michael's
patches had already been moved upstream...sigh...

Anyhow...yes, the latest pull of 2.6.25-wl does compile cleanly and
work as expected. B43 loads correctly, recognizes the card, and all
else falls into place and is now working.

Caveat the rx/tx LED...in this case, the tx/rx LED doesn't light up at all...


Linux version 2.6.25-wl  (gcc version 4.1.1) #2 SMP PREEMPT Sat Apr 26 01:21:11 EST 2008
Command line: BOOT_IMAGE=new-iommu-off ro root=806 iommu=off

//

ssb: Core 0 found: ChipCommon (cc 0x800, rev 0x0D, vendor 0x4243)
ssb: Core 1 found: IEEE 802.11 (cc 0x812, rev 0x09, vendor 0x4243)
ssb: Core 2 found: PCI (cc 0x804, rev 0x0C, vendor 0x4243)
ssb: Core 3 found: PCMCIA (cc 0x80D, rev 0x07, vendor 0x4243)
ssb: SPROM revision 2 detected.
ssb: Sonics Silicon Backplane found on PCI device 0000:01:07.0

//

b43-phy0: Broadcom 4318 WLAN found
b43-phy0 debug: Found PHY: Analog 3, Type 2, Revision 7
b43-phy0 debug: Found Radio: Manuf 0x17F, Version 0x2050, Revision 8
phy0: Selected rate control algorithm 'pid'
Broadcom 43xx driver loaded [ Features: P, Firmware-ID: FW13 ]
.
//netconfig brings wlan0 up
.
b43-phy0: Loading firmware version 410.2160 (2007-05-26 15:32:10)
b43-phy0 debug: Chip initialized
b43-phy0 debug: 32-bit DMA initialized
b43-phy0 debug: Wireless interface started
b43-phy0 debug: Adding Interface type 2
b43-phy0 debug: Using hardware based encryption for keyidx: 0, mac: ff:ff:ff:ff:
ff:ff
ADDRCONF(NETDEV_UP): wlan0: link is not ready
wlan0: Initial auth_alg=0
wlan0: authenticate with AP 00:1e:2a:61:7d:2c
wlan0: RX authentication from 00:1e:2a:61:7d:2c (alg=0 transaction=2 status=0)
wlan0: authenticated
wlan0: associate with AP 00:1e:2a:61:7d:2c
wlan0: RX AssocResp from 00:1e:2a:61:7d:2c (capab=0x431 status=0 aid=2)
wlan0: associated
wlan0: switched to short barker preamble (BSSID=00:1e:2a:61:7d:2c)
ADDRCONF(NETDEV_CHANGE): wlan0: link becomes ready
wlan0: no IPv6 routers present

//

Very occasionally...this machine has done it twice in the last 12hours....
things will just stop. Dmesg will tell me ;

wlan0: No ProbeResp from current AP 00:1e:2a:61:7d:2c - assume out of range

Perhaps I wouldn't have expected that with the AP being only 10metres away
and in clear line of sight with both ends stationary. However, assuming it to be
passing noise, and me not knowing exactly what one should do about this, I
assumed you would merely need to re-associate with the AP again....ie; using the
'iwconfig wlan0 ap ' command. That doesn't work ;

//dmesg

wlan0: Initial auth_alg=0
wlan0: authenticate with AP 00:1e:2a:61:7d:2c
wlan0: authenticate with AP 00:1e:2a:61:7d:2c
wlan0: authenticate with AP 00:1e:2a:61:7d:2c
wlan0: authentication with AP 00:1e:2a:61:7d:2c timed out

//

Eventually I found taking the 'ifconfig wlan0 down'  approach and then
bringing it back up again gets things working again -- at that stage,
dmesg out was;

//

b43-phy0 debug: Disabling hardware based encryption for keyidx: 0, mac: ff:ff:ff:ff:ff:ff
b43-phy0 debug: Removing Interface type 2
b43-phy0 debug: Wireless interface stopped
b43-phy0 debug: DMA-32 rx_ring: Used slots 2/64, Failed frames 0/0 = 0.0%, Average tries 0.00
b43-phy0 debug: DMA-32 tx_ring_AC_BK: Used slots 0/128, Failed frames 0/0 = 0.0%, Average tries 0.00
b43-phy0 debug: DMA-32 tx_ring_AC_BE: Used slots 0/128, Failed frames 0/0 = 0.0%, Average tries 0.00
b43-phy0 debug: DMA-32 tx_ring_AC_VI: Used slots 0/128, Failed frames 0/0 = 0.0%, Average tries 0.00
b43-phy0 debug: DMA-32 tx_ring_AC_VO: Used slots 128/128, Failed frames 3188/718789 = 0.4%, Average tries 1.32
b43-phy0 debug: DMA-32 tx_ring_mcast: Used slots 0/128, Failed frames 0/0 = 0.0%, Average tries 0.00
b43-phy0: Loading firmware version 410.2160 (2007-05-26 15:32:10)
b43-phy0 debug: Chip initialized
b43-phy0 debug: 32-bit DMA initialized
b43-phy0 debug: Wireless interface started
b43-phy0 debug: Adding Interface type 2
b43-phy0 debug: Using hardware based encryption for keyidx: 0, mac: ff:ff:ff:ff:ff:ff
ADDRCONF(NETDEV_UP): wlan0: link is not ready
wlan0: Initial auth_alg=0
wlan0: authenticate with AP 00:1e:2a:61:7d:2c
wlan0: RX authentication from 00:1e:2a:61:7d:2c (alg=0 transaction=2 status=0)
wlan0: authenticated
wlan0: associate with AP 00:1e:2a:61:7d:2c
wlan0: RX AssocResp from 00:1e:2a:61:7d:2c (capab=0x431 status=0 aid=2)
wlan0: associated
wlan0: switched to short barker preamble (BSSID=00:1e:2a:61:7d:2c)
ADDRCONF(NETDEV_CHANGE): wlan0: link becomes ready
wlan0: no IPv6 routers present

//

About 5 hours later, things just stopped again - no apparent cause or reason.
When I checked dmesg, 3 lines I'd not seen before ,


//

wlan0: CTS protection enabled (BSSID=00:1e:2a:61:7d:2c)
wlan0: CTS protection disabled (BSSID=00:1e:2a:61:7d:2c)
b43-phy0 ERROR: MAC suspend failed

//

....and the same 'out of range' error above.

Is that expected behaviour?

...and, when association -is- lost with (an) the AP for this sort of reason,
what should be necessary to reassociate with the AP?...ie; does the
interface have to be unloaded with ifconfig?

Regards,

             Donald





_________________________________________________________________
Search for local singles online @ Lavalife - Click here
<A HREF="http://a.ninemsn.com.au/b.aspx?URL=http%3A%2F%2Flavalife9%2Eninemsn%2Ecom%2Eau%2Fclickthru%2Fclickthru%2Eact%3Fid%3Dninemsn%26context%3Dan99%26locale%3Den%5FAU%26a%3D30290&amp;_t=764581033&amp;_r=email_taglines_Search_OCT07&amp;_m=EXT">http://a.ninemsn.com.au/b.aspx?URL=http%3A%2F%2Flavalife9%2Eninemsn%2Ecom%2Eau%2Fclickthru%2Fclickthru%2Eact%3Fid%3Dninemsn%26context%3Dan99%26locale%3Den%5FAU%26a%3D30290&amp;_t=764581033&amp;_r=email_taglines_Search_OCT07&amp;_m=EXT</A>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003971.html">[PATCH] b43: Don't disable IRQs in mac_suspend
</A></li>
	<LI>Next message: <A HREF="003992.html">[PATCH] b43: Fix dual-PHY devices
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3978">[ date ]</a>
              <a href="thread.html#3978">[ thread ]</a>
              <a href="subject.html#3978">[ subject ]</a>
              <a href="author.html#3978">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">More information about the Bcm43xx-dev
mailing list</a><br>
</body></html>
