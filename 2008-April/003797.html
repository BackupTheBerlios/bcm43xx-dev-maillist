<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Problems with PCI (not Cardbus) BCM43xx
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2008-April/index.html" >
   <LINK REL="made" HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20Problems%20with%20PCI%20%28not%20Cardbus%29%20BCM43xx&In-Reply-To=%3C4802A700.2050502%40lwfinger.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003795.html">
   <LINK REL="Next"  HREF="003798.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Problems with PCI (not Cardbus) BCM43xx</H1>
    <B>Larry Finger</B> 
    <A HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20Problems%20with%20PCI%20%28not%20Cardbus%29%20BCM43xx&In-Reply-To=%3C4802A700.2050502%40lwfinger.net%3E"
       TITLE="Problems with PCI (not Cardbus) BCM43xx">Larry.Finger at lwfinger.net
       </A><BR>
    <I>Mon Apr 14 02:36:16 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="003795.html">Problems with PCI (not Cardbus) BCM43xx
</A></li>
        <LI>Next message: <A HREF="003798.html">Problems with PCI (not Cardbus) BCM43xx
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3797">[ date ]</a>
              <a href="thread.html#3797">[ thread ]</a>
              <a href="subject.html#3797">[ subject ]</a>
              <a href="author.html#3797">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Stefano Brivio wrote:
&gt;<i> On Tue, 08 Apr 2008 14:11:04 -0500
</I>&gt;<i> Larry Finger &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">Larry.Finger at lwfinger.net</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i> 1. BCM4301 - With the ssb patch fixing IRQ TPS flag handling, I was 
</I>&gt;&gt;<i> finally able to read beacons; however, no output interrupts were 
</I>&gt;&gt;<i> delivered.
</I>&gt;<i> 
</I>&gt;<i> [...]
</I>&gt;<i> 
</I>&gt;&gt;<i> I'm still looking for some differences 
</I>&gt;&gt;<i> between bcm43xx and b43legacy regarding B-PHY and/or radio 
</I>&gt;&gt;<i> initialization.
</I>&gt;<i> 
</I>&gt;<i> Same here, without any appreciable result. Packets reach the PHY, and the
</I>&gt;<i> radio seems to be set up correctly, but still nothing hits the air. I'll
</I>&gt;<i> investigate further.
</I>&gt;<i> 
</I>&gt;<i> Out of curiosity, do you get weird values for LEDs in SPROM too? On my
</I>&gt;<i> bcm4301, it looks like a lot of values in SPROM are unknown or somehow
</I>&gt;<i> misinterpreted, like these ones:
</I>&gt;<i> [ 6781.374512] b43legacy-phy2 warning: LEDs: Unknown behaviour 0x44
</I>&gt;<i> [ 6781.374520] b43legacy-phy2 warning: LEDs: Unknown behaviour 0x46
</I>&gt;<i> [ 6781.374527] b43legacy-phy2 warning: LEDs: Unknown behaviour 0x12
</I>&gt;<i> [ 6781.374534] b43legacy-phy2 warning: LEDs: Unknown behaviour 0x4D
</I>&gt;<i> 
</I>&gt;<i> But I don't actually think that this is causing the issues we are seeing
</I>&gt;<i> with TX.
</I>
I don't either. Yes, I got those same warnings until I turned RFKILL, 
etc. off in my config. In any case, the LEDS are in the back where I 
cannot see them anyway.

Do you have any PCI (not Cardbus) devices that work with b43? Do you 
know of anyone that does?

I tried my PCI-based BCM4318 with the version of b43 that was 
introduced in the 2.6.24 merge, but it didn't work either. I can 
receive data, but not transmit. The code gets all the way to where it 
pokes the DMA transmission, and the interrupts are all enabled 
correctly, but no TX interrupts are delivered. This is a regression 
against bcm43xx, but has been in b43 and b43legacy since they were 
introduced into mainline. My gut says that both b43 and b43legacy are 
affected by a common problem. I no longer have a wireless-2.6  tree to 
check back further, but it may be necessary to do so.

Larry

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003795.html">Problems with PCI (not Cardbus) BCM43xx
</A></li>
	<LI>Next message: <A HREF="003798.html">Problems with PCI (not Cardbus) BCM43xx
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3797">[ date ]</a>
              <a href="thread.html#3797">[ thread ]</a>
              <a href="subject.html#3797">[ subject ]</a>
              <a href="author.html#3797">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">More information about the Bcm43xx-dev
mailing list</a><br>
</body></html>
