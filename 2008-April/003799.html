<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Problems with PCI (not Cardbus) BCM43xx
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2008-April/index.html" >
   <LINK REL="made" HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20Problems%20with%20PCI%20%28not%20Cardbus%29%20BCM43xx&In-Reply-To=%3C69e28c910804140545w3b5c71dej12350078babb385%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003805.html">
   <LINK REL="Next"  HREF="003812.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Problems with PCI (not Cardbus) BCM43xx</H1>
    <B>Stefanik G&#225;bor</B> 
    <A HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20Problems%20with%20PCI%20%28not%20Cardbus%29%20BCM43xx&In-Reply-To=%3C69e28c910804140545w3b5c71dej12350078babb385%40mail.gmail.com%3E"
       TITLE="Problems with PCI (not Cardbus) BCM43xx">netrolller.3d at gmail.com
       </A><BR>
    <I>Mon Apr 14 14:45:28 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="003805.html">Problems with PCI (not Cardbus) BCM43xx
</A></li>
        <LI>Next message: <A HREF="003812.html">Problems with PCI (not Cardbus) BCM43xx
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3799">[ date ]</a>
              <a href="thread.html#3799">[ thread ]</a>
              <a href="subject.html#3799">[ subject ]</a>
              <a href="author.html#3799">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Larry, can you attach an SPROM dump of your PCI BCM4318? I'm suffering from
the exact same problem, and it would be interesting to find out what is
actually happening. Also, what card do you have? (Mine is an Asus WL-138G V2
R3.01, but R3.00 is affected too.) Please attach an lspci -v and lspci -vn
output too (or at least the revision number reported by lspci).

On Mon, Apr 14, 2008 at 2:36 AM, Larry Finger &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">Larry.Finger at lwfinger.net</A>&gt;
wrote:

&gt;<i> Stefano Brivio wrote:
</I>&gt;<i> &gt; On Tue, 08 Apr 2008 14:11:04 -0500
</I>&gt;<i> &gt; Larry Finger &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">Larry.Finger at lwfinger.net</A>&gt; wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt; 1. BCM4301 - With the ssb patch fixing IRQ TPS flag handling, I was
</I>&gt;<i> &gt;&gt; finally able to read beacons; however, no output interrupts were
</I>&gt;<i> &gt;&gt; delivered.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; [...]
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt; I'm still looking for some differences
</I>&gt;<i> &gt;&gt; between bcm43xx and b43legacy regarding B-PHY and/or radio
</I>&gt;<i> &gt;&gt; initialization.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Same here, without any appreciable result. Packets reach the PHY, and
</I>&gt;<i> the
</I>&gt;<i> &gt; radio seems to be set up correctly, but still nothing hits the air. I'll
</I>&gt;<i> &gt; investigate further.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Out of curiosity, do you get weird values for LEDs in SPROM too? On my
</I>&gt;<i> &gt; bcm4301, it looks like a lot of values in SPROM are unknown or somehow
</I>&gt;<i> &gt; misinterpreted, like these ones:
</I>&gt;<i> &gt; [ 6781.374512] b43legacy-phy2 warning: LEDs: Unknown behaviour 0x44
</I>&gt;<i> &gt; [ 6781.374520] b43legacy-phy2 warning: LEDs: Unknown behaviour 0x46
</I>&gt;<i> &gt; [ 6781.374527] b43legacy-phy2 warning: LEDs: Unknown behaviour 0x12
</I>&gt;<i> &gt; [ 6781.374534] b43legacy-phy2 warning: LEDs: Unknown behaviour 0x4D
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; But I don't actually think that this is causing the issues we are seeing
</I>&gt;<i> &gt; with TX.
</I>&gt;<i>
</I>&gt;<i> I don't either. Yes, I got those same warnings until I turned RFKILL,
</I>&gt;<i> etc. off in my config. In any case, the LEDS are in the back where I
</I>&gt;<i> cannot see them anyway.
</I>&gt;<i>
</I>&gt;<i> Do you have any PCI (not Cardbus) devices that work with b43? Do you
</I>&gt;<i> know of anyone that does?
</I>&gt;<i>
</I>&gt;<i> I tried my PCI-based BCM4318 with the version of b43 that was
</I>&gt;<i> introduced in the 2.6.24 merge, but it didn't work either. I can
</I>&gt;<i> receive data, but not transmit. The code gets all the way to where it
</I>&gt;<i> pokes the DMA transmission, and the interrupts are all enabled
</I>&gt;<i> correctly, but no TX interrupts are delivered. This is a regression
</I>&gt;<i> against bcm43xx, but has been in b43 and b43legacy since they were
</I>&gt;<i> introduced into mainline. My gut says that both b43 and b43legacy are
</I>&gt;<i> affected by a common problem. I no longer have a wireless-2.6  tree to
</I>&gt;<i> check back further, but it may be necessary to do so.
</I>&gt;<i>
</I>&gt;<i> Larry
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Bcm43xx-dev mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">Bcm43xx-dev at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">https://lists.berlios.de/mailman/listinfo/bcm43xx-dev</A>
</I>&gt;<i>
</I>


-- 
Vista: [V]iruses, [I]ntruders, [S]pyware, [T]rojans and [A]dware. :-)
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/bcm43xx-dev/attachments/20080414/9e7ba388/attachment.html">https://lists.berlios.de/pipermail/bcm43xx-dev/attachments/20080414/9e7ba388/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003805.html">Problems with PCI (not Cardbus) BCM43xx
</A></li>
	<LI>Next message: <A HREF="003812.html">Problems with PCI (not Cardbus) BCM43xx
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3799">[ date ]</a>
              <a href="thread.html#3799">[ thread ]</a>
              <a href="subject.html#3799">[ subject ]</a>
              <a href="author.html#3799">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">More information about the Bcm43xx-dev
mailing list</a><br>
</body></html>
