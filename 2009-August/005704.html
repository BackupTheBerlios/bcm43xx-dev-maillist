<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Fwd: [Bug 515668] New: kernel BUG at	drivers/net/wireless/b43/dma.c:1406! when using openfwwf firmware
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2009-August/index.html" >
   <LINK REL="made" HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20Fwd%3A%20%5BBug%20515668%5D%20New%3A%20kernel%20BUG%20at%0A%09drivers/net/wireless/b43/dma.c%3A1406%21%20when%20using%20openfwwf%20firmware&In-Reply-To=%3Cadf480660908050407y34157a6ajffe9f71dad827e65%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005701.html">
   <LINK REL="Next"  HREF="005705.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Fwd: [Bug 515668] New: kernel BUG at	drivers/net/wireless/b43/dma.c:1406! when using openfwwf firmware</H1>
    <B>Peter Lemenkov</B> 
    <A HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20Fwd%3A%20%5BBug%20515668%5D%20New%3A%20kernel%20BUG%20at%0A%09drivers/net/wireless/b43/dma.c%3A1406%21%20when%20using%20openfwwf%20firmware&In-Reply-To=%3Cadf480660908050407y34157a6ajffe9f71dad827e65%40mail.gmail.com%3E"
       TITLE="Fwd: [Bug 515668] New: kernel BUG at	drivers/net/wireless/b43/dma.c:1406! when using openfwwf firmware">lemenkov at gmail.com
       </A><BR>
    <I>Wed Aug  5 13:07:47 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="005701.html">[PATCH] b43: Fix fallout from the IEEE80211_IF_TYPE to NL80211_IFTYPE	change.
</A></li>
        <LI>Next message: <A HREF="005705.html">[Bug 515668] New: kernel BUG at	drivers/net/wireless/b43/dma.c:1406! when using openfwwf firmware
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5704">[ date ]</a>
              <a href="thread.html#5704">[ thread ]</a>
              <a href="subject.html#5704">[ subject ]</a>
              <a href="author.html#5704">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,All!
Here is a bug report regarding DMA issues with openfwwf ver. 5.2 . I
suspect, that this is a known issue, but anyway, maybe this bugzilla
ticket will add something important.


---------- Forwarded message ----------
From:  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">bugzilla at redhat.com</A>&gt;
Date: 2009/8/5
Subject: [Bug 515668] New: kernel BUG at
drivers/net/wireless/b43/dma.c:1406! when using openfwwf firmware
To: <A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">lemenkov at gmail.com</A>


Please do not reply directly to this email. All additional
comments should be made in the comments box of this bug.

Summary: kernel BUG at drivers/net/wireless/b43/dma.c:1406! when using
openfwwf firmware

<A HREF="https://bugzilla.redhat.com/show_bug.cgi?id=515668">https://bugzilla.redhat.com/show_bug.cgi?id=515668</A>

&#160; &#160; &#160; &#160; &#160; Summary: kernel BUG at drivers/net/wireless/b43/dma.c:1406!
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;when using openfwwf firmware
&#160; &#160; &#160; &#160; &#160; Product: Fedora
&#160; &#160; &#160; &#160; &#160; Version: 11
&#160; &#160; &#160; &#160; &#160;Platform: i686
&#160; &#160; &#160; &#160;OS/Version: Linux
&#160; &#160; &#160; &#160; &#160; &#160;Status: NEW
&#160; &#160; &#160; &#160; &#160;Severity: urgent
&#160; &#160; &#160; &#160; &#160;Priority: low
&#160; &#160; &#160; &#160; Component: b43-openfwwf
&#160; &#160; &#160; &#160;AssignedTo: <A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">lemenkov at gmail.com</A>
&#160; &#160; &#160; &#160;ReportedBy: <A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">arethusa26 at gmail.com</A>
&#160; &#160; &#160; &#160; QAContact: <A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">extras-qa at fedoraproject.org</A>
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;CC: <A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">lemenkov at gmail.com</A>
&#160; Estimated Hours: 0.0
&#160; &#160;Classification: Fedora


User-Agent: &#160; &#160; &#160; Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.1.1)
Gecko/20090717 Fedora/3.5.1-3.fc11 Firefox/3.5.1

I am using a Linksys PCMCIA wireless card, which is model WPC54GS at version 2,
on a Fedora 11 system installed on a Thinkpad T42. When I am using the b43
kernel module in conjunction with the b43-openfwwf firmware, I frequently
observe the system panic when there is heavy amounts of network activity on the
wireless card interface. Empirically, this issue only seems to happen when the
card is associated with the residential wireless network broadcast by the
Actiontec MI424WR wireless router, and it does not occur when using the
Broadcom firmware extracted according to the instructions from
<A HREF="http://www.linuxwireless.org/en/users/Drivers/b43#device_firmware.">http://www.linuxwireless.org/en/users/Drivers/b43#device_firmware.</A> I can most
consistently cause a crash by using the speed testing service at
<A HREF="http://www.speedtest.net/">http://www.speedtest.net/</A> to stress test the wireless interface.

Reproducible: Always

Steps to Reproduce:
1. Install b43-openfwwf to get the wireless card operational.
2. Visit <A HREF="http://www.speedtest.net/">http://www.speedtest.net/</A> for an easy way to stress test the card.
3. Start a speed test. The kernel should panic shortly after the test is begun.
Actual Results:
The system halts with a kernel panic.

Expected Results:
The system should not crash.

I captured the resulting kernel panic using netconsole, since the system did
not switch to a text console when the panic occurred. The information from
lspci -vv regarding the card is:

03:00.0 Network controller: Broadcom Corporation BCM4318 [AirForce One 54g]
802.11g Wireless LAN Controller (rev 02)
&#160;Subsystem: Linksys Device 0049
&#160;Control: I/O- Mem+ BusMaster+ SpecCycle- MemWINV- VGASnoop- ParErr- Stepping-
SERR- FastB2B- DisINTx-
&#160;Status: Cap- 66MHz- UDF- FastB2B- ParErr- DEVSEL=fast &gt;TAbort- &lt;TAbort-
&lt;MAbort- &gt;SERR- &lt;PERR- INTx-
&#160;Latency: 64
&#160;Interrupt: pin A routed to IRQ 11
&#160;Region 0: Memory at c4000000 (32-bit, non-prefetchable) [size=8K]
&#160;Kernel driver in use: b43-pci-bridge
&#160;Kernel modules: ssb

--
Configure bugmail: <A HREF="https://bugzilla.redhat.com/userprefs.cgi?tab=email">https://bugzilla.redhat.com/userprefs.cgi?tab=email</A>
------- You are receiving this mail because: -------
You are on the CC list for the bug.
You are the assignee for the bug.



-- 
With best regards, Peter Lemenkov.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005701.html">[PATCH] b43: Fix fallout from the IEEE80211_IF_TYPE to NL80211_IFTYPE	change.
</A></li>
	<LI>Next message: <A HREF="005705.html">[Bug 515668] New: kernel BUG at	drivers/net/wireless/b43/dma.c:1406! when using openfwwf firmware
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5704">[ date ]</a>
              <a href="thread.html#5704">[ thread ]</a>
              <a href="subject.html#5704">[ subject ]</a>
              <a href="author.html#5704">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">More information about the Bcm43xx-dev
mailing list</a><br>
</body></html>
