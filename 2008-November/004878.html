<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [BCM4312][kernel 2.6.27] - wireless fails after X starts
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2008-November/index.html" >
   <LINK REL="made" HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20%5BBCM4312%5D%5Bkernel%202.6.27%5D%20-%20wireless%20fails%20after%20X%20starts&In-Reply-To=%3C4922D5F3.4030105%40lwfinger.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004877.html">
   <LINK REL="Next"  HREF="004887.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[BCM4312][kernel 2.6.27] - wireless fails after X starts</H1>
    <B>Larry Finger</B> 
    <A HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20%5BBCM4312%5D%5Bkernel%202.6.27%5D%20-%20wireless%20fails%20after%20X%20starts&In-Reply-To=%3C4922D5F3.4030105%40lwfinger.net%3E"
       TITLE="[BCM4312][kernel 2.6.27] - wireless fails after X starts">Larry.Finger at lwfinger.net
       </A><BR>
    <I>Tue Nov 18 15:49:23 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="004877.html">[BCM4312][kernel 2.6.27] - wireless fails after X starts
</A></li>
        <LI>Next message: <A HREF="004887.html">BCM4312 Fails when xdm is started
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4878">[ date ]</a>
              <a href="thread.html#4878">[ thread ]</a>
              <a href="subject.html#4878">[ subject ]</a>
              <a href="author.html#4878">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Yuval Hager wrote:
&gt;<i> On Saturday 15 November 2008, Larry Finger wrote:
</I>&gt;&gt;<i> Peter Stuge wrote:
</I>&gt;&gt;&gt;<i> Yuval Hager wrote:
</I>&gt;&gt;&gt;&gt;<i> HP Mini 2133
</I>&gt;&gt;&gt;<i> I posted about the wifi in this guy a while back. It has ABG b43
</I>&gt;&gt;&gt;<i> which isn't really properly supported, at least not the A part but
</I>&gt;&gt;&gt;<i> the reaction I got from mentioning the chipset made me not expect too
</I>&gt;&gt;&gt;<i> much. I don't know if the ABG can be expected to behave exactly like
</I>&gt;&gt;&gt;<i> the BG when not using .11a. I doubt it.
</I>&gt;&gt;<i> Wrong - if does. The B/G part of this BCM4312 is the same as the BCM4311. I
</I>&gt;&gt;<i> think the card you asked about (also called the BCM4312) has an LP PHY,
</I>&gt;&gt;<i> which is not supported.
</I>&gt;&gt;<i>
</I>&gt;<i> 
</I>&gt;<i> How do I check that?
</I>
The critical part is the PCI ID, which is shown by the command '/sbin/lspci
-nnv'. From what you posted earlier, your device has a 0x4312 code, which is
fully supported. My statement above was wrong. Please post the complete output
of '/sbin/lspci'.

In thinking about your problem, it seems to me as if the memory mapping is being
set up wrong. It looks as if the routing to the registers of the BCM43XX device
are suddenly changed when X is started so that it references some completely new
region. Unfortunately, your dmesg buffer has wrapped around and that part of the
output has been lost. Please repost the dmesg output without starting X. The
output should start with something like:

BIOS EBDA/lowmem at: 0009e000/0009e000
Linux version 2.6.28-rc5-wl (<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">finger at larrylap</A>) (gcc version 4.3.1 20080507
(prerelease) [gcc-4_3-branch revision 135036] (SUSE Linux) ) #24 SMP Mon Nov 17
18:41:45 CST 2008

Are you generating your own kernel? If so, please send me your .config file.

As the amount of data I'm asking you to send is getting large, it might be best
if you reply privately to me. No need to pollute everyone's mailbox. Once I have
collected more information, I plan to post this problem on the Linux Kernel
Mailing List. I don't think this is a problem with the b43 driver, but some kind
of fatal interaction with memory management, probably due to some undetected
quirk in your system.

Larry

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004877.html">[BCM4312][kernel 2.6.27] - wireless fails after X starts
</A></li>
	<LI>Next message: <A HREF="004887.html">BCM4312 Fails when xdm is started
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4878">[ date ]</a>
              <a href="thread.html#4878">[ thread ]</a>
              <a href="subject.html#4878">[ subject ]</a>
              <a href="author.html#4878">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">More information about the Bcm43xx-dev
mailing list</a><br>
</body></html>
