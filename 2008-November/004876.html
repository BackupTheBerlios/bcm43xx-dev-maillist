<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> ethtool / miitool / netif_carrier support in b43 ?
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2008-November/index.html" >
   <LINK REL="made" HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20ethtool%20/%20miitool%20/%20netif_carrier%20support%20in%20b43%20%3F&In-Reply-To=%3C49206533.8010406%40free.fr%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004875.html">
   <LINK REL="Next"  HREF="004879.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>ethtool / miitool / netif_carrier support in b43 ?</H1>
    <B>Nicolas de Peslo&#252;an</B> 
    <A HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20ethtool%20/%20miitool%20/%20netif_carrier%20support%20in%20b43%20%3F&In-Reply-To=%3C49206533.8010406%40free.fr%3E"
       TITLE="ethtool / miitool / netif_carrier support in b43 ?">nicolas.2p.debian at free.fr
       </A><BR>
    <I>Sun Nov 16 19:23:47 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="004875.html">BCM4312: interface does not show up
</A></li>
        <LI>Next message: <A HREF="004879.html">radio LED says active when radio disabled after resume
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4876">[ date ]</a>
              <a href="thread.html#4876">[ thread ]</a>
              <a href="subject.html#4876">[ subject ]</a>
              <a href="author.html#4876">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi !

I'm currently using the following Wifi adapter :

06:00.0 Network controller [0280]: Broadcom Corporation BCM4306 
802.11b/g Wireless LAN Controller [14e4:4320] (rev 03)
         Subsystem: Device [17f9:0009]
         Flags: bus master, fast devsel, latency 64, IRQ 9
         Memory at 1c000000 (32-bit, non-prefetchable) [size=8K]
         Kernel driver in use: b43-pci-bridge
         Kernel modules: ssb

The adapter work properly when used directly (as wlan0).

Now, I want to bond this adapter with an Ethernet adapter, to be able to 
  switch from Ethernet to Wifi when I unplug the Ethernet wire, then 
switch back from Wifi to Ethernet when I plug the Ethernet wire back.

The AP and the Ethernet switch are the same box, so both Wifi and 
Ethernet are seen as a single L2.

I tried to setup a bonding configuration, having eth0 and wlan0 as the 
slaves of bond0. eth0 was setup as the primary slave, to take precedence 
when connected. The bond0 hardware address was set to the hardware 
address of wlan0, for obvious reasons.

Unfortunately, the test failed, because the bonding driver is apparently 
unable to retrieve the state of wlan0 (associated and hearing AP or not).

For as far as I understand, b43 does not support ethtool, nor miitool, 
not netif_carrier to retrieve the &quot;carrier&quot; state.

Can someone confirm ? Do I miss something ? Am I the only one trying 
such a stupid thing ?

Thanks,

	Nicolas.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004875.html">BCM4312: interface does not show up
</A></li>
	<LI>Next message: <A HREF="004879.html">radio LED says active when radio disabled after resume
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4876">[ date ]</a>
              <a href="thread.html#4876">[ thread ]</a>
              <a href="subject.html#4876">[ subject ]</a>
              <a href="author.html#4876">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">More information about the Bcm43xx-dev
mailing list</a><br>
</body></html>
