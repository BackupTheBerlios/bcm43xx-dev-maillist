<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> radio LED says active when radio disabled after resume
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2008-November/index.html" >
   <LINK REL="made" HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20radio%20LED%20says%20active%20when%20radio%20disabled%20after%20resume&In-Reply-To=%3C1227114181.11225.54.camel%40richie-laptop%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004880.html">
   <LINK REL="Next"  HREF="004885.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>radio LED says active when radio disabled after resume</H1>
    <B>Richard Jonsson</B> 
    <A HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20radio%20LED%20says%20active%20when%20radio%20disabled%20after%20resume&In-Reply-To=%3C1227114181.11225.54.camel%40richie-laptop%3E"
       TITLE="radio LED says active when radio disabled after resume">richie at coderworld.net
       </A><BR>
    <I>Wed Nov 19 18:03:01 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="004880.html">radio LED says active when radio disabled after resume
</A></li>
        <LI>Next message: <A HREF="004885.html">radio LED says active when radio disabled after resume
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4882">[ date ]</a>
              <a href="thread.html#4882">[ thread ]</a>
              <a href="subject.html#4882">[ subject ]</a>
              <a href="author.html#4882">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>tis 2008-11-18 klockan 18:33 -0600 skrev Larry Finger:
&gt;<i> Richard Jonsson wrote:
</I>&gt;<i> &gt; Hi!
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; I recently made a fresh install of ubuntu hardy, upgraded weeks later to
</I>&gt;<i> &gt; intrepid. I have not had a working suspend for some time, but now this
</I>&gt;<i> &gt; works. Including b43.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; However, after every other suspend (to ram) the status led indicates
</I>&gt;<i> &gt; that rf-kill switch is in wlan enabled state, although it is not. No
</I>&gt;<i> &gt; matter if I switch it on and off will it change the LED status. The
</I>&gt;<i> &gt; system log says that hw status changed, and indeed wlan0 will show AP's
</I>&gt;<i> &gt; in enabled state, but not in disabled state.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; I compared the dmesg outputs (posted below), and the only thing that
</I>&gt;<i> &gt; differs is the last lines:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Working:
</I>&gt;<i> &gt; wlan0: authentication with AP 00:14:c1:1d:19:f0 timed out
</I>&gt;<i> &gt; b43-phy0: Radio hardware status changed to DISABLED
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Non-working (order changed):
</I>&gt;<i> &gt; b43-phy0: Radio hardware status changed to DISABLED
</I>&gt;<i> &gt; wlan0: authentication with AP 00:14:c1:1d:19:f0 timed out
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Also, when LED is working, I get these messages a few seconds after each
</I>&gt;<i> &gt; DISABLE, but not when LED is stuck:
</I>&gt;<i> &gt; [86215.196059] b43-phy0: Radio turned on by software
</I>&gt;<i> &gt; [86215.196078] b43-phy0: The hardware RF-kill button still turns the
</I>&gt;<i> &gt; radio physically off. Press the button to turn it on.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; The LED used to work fine, but that was with an older ubuntu version,
</I>&gt;<i> &gt; and I believe it doesn't have to be a change in b43 that cause this
</I>&gt;<i> &gt; issue.
</I>&gt;<i> 
</I>&gt;<i> I don't even try suspend/resume so I cannot help you there, but b43 cannot
</I>&gt;<i> control the radio hardware status enable/disable bit. It is read-only from the
</I>&gt;<i> driver. It must be the RFKILL or LED subsystems that are getting lost and/or
</I>&gt;<i> confused.
</I>&gt;<i> 
</I>&gt;<i> If you unload b43 using 'sudo /sbin/modprobe -r b43' before suspending and 'sudo
</I>&gt;<i> /sbin/modprobe b43' to load it after resuming, what happens?
</I>&gt;<i> 
</I>&gt;<i> Larry
</I>&gt;<i> 
</I>Thanks for the quick reply.

There is no difference, also I tested to unload and load b43 without
suspend. The same thing happens. Turns out suspend has nothing to do
with it.

To summarize, every other load of b43 causes the LED to be always
active.

/ Richard

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004880.html">radio LED says active when radio disabled after resume
</A></li>
	<LI>Next message: <A HREF="004885.html">radio LED says active when radio disabled after resume
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4882">[ date ]</a>
              <a href="thread.html#4882">[ thread ]</a>
              <a href="subject.html#4882">[ subject ]</a>
              <a href="author.html#4882">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">More information about the Bcm43xx-dev
mailing list</a><br>
</body></html>
