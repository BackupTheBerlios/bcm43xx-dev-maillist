<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> bcm4318 (asus WL-138g v2) frequent deauths
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2009-June/index.html" >
   <LINK REL="made" HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20bcm4318%20%28asus%20WL-138g%20v2%29%20frequent%20deauths&In-Reply-To=%3C3495f40d0906141607w4ae6c741pcce7688a8d55184d%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005546.html">
   <LINK REL="Next"  HREF="005533.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>bcm4318 (asus WL-138g v2) frequent deauths</H1>
    <B>Alexander Monakov</B> 
    <A HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20bcm4318%20%28asus%20WL-138g%20v2%29%20frequent%20deauths&In-Reply-To=%3C3495f40d0906141607w4ae6c741pcce7688a8d55184d%40mail.gmail.com%3E"
       TITLE="bcm4318 (asus WL-138g v2) frequent deauths">amonakov at gmail.com
       </A><BR>
    <I>Mon Jun 15 01:07:58 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="005546.html">4311 not detected at all
</A></li>
        <LI>Next message: <A HREF="005533.html">bcm4318 (asus WL-138g v2) frequent deauths
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5532">[ date ]</a>
              <a href="thread.html#5532">[ thread ]</a>
              <a href="subject.html#5532">[ subject ]</a>
              <a href="author.html#5532">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

Reading the archives I see that various problems have come up in the
past with this Asus wi-fi card.  I think I may have a yet another
problem (or a different view on an old one).

I'm using Asus wl-138g v2 card (4318 chipset) in managed mode with a
Cisco wireless AP.  I am able to use both ndiswrapper and b43 driver
with open source firmware.  The ndiswrapper solution has worked fine
for me for months; b43/openfwwf &#8212; not quite so: it tends to
deauthenticate seconds after associating.

I can use a laptop with rt2500-based wi-fi card to monitor the channel
while pinging some another host from bcm4318. When 4318 is driven by
ndiswrapper, I see only icmp packets.  When using b43/openfwwf, icmp
packet stream is often interrupted with deauth/auth/assoc sequences
initiated by Cisco AP with reason 2 (&quot;previous authentication no
longer valid&quot;). Cisco site suggests [1] this is due to high
interference on the channel; however, since ndiswrapper-driven card
fares just fine in the same conditions, I think somehow b43&amp;openfwwf
do not do just as well in radio transmission.

In my rt2500/wireshark packet monitor I see RSSI value reported in
prism headers. If that can be taken as any indication of real signal
strength, it is definitely different for ndiswrapper/b43. For
ndiswrapper, it is nearly the same as for Cisco-produced transmissions
(0xfffffff6 for ndis, 0xffffffec for cisco), for b43 it is 0x18 for
auto txpower, 0xf for txpower 10, 0xfffffff5 for txpower 1. So, lower
txpower gets me nearer to ndiswrapper in terms of rssi reading on
rt2500; I will need some time to determine whether it improves the
link quality (but at least txpower 1 seems not worse than txpower 20
or auto). Is it possible that txpower control is reversed on this
card?

Using other firmware images for b43 results in similar symptoms (I did
not verify the exact behaviour with packet sniffer). b43 is loaded on
smp x86_64 system with 2.6.30 vanilla kernel, also tried in pio mode
under UP 32-bit x86 virtual machine with 2.6.30 kernel with similar
symptoms.

Any advice or suggestions will be very appreciated :)

Thanks.

[1] <A HREF="http://supportwiki.cisco.com/ViewWiki/index.php/Wireless_connections_drop,_there_is_unstable_connectivity_and_the_Previous_authentication_no_longer_valid_and_Disassociated_because_sending_station_is_leaving_(or_has_left">http://supportwiki.cisco.com/ViewWiki/index.php/Wireless_connections_drop,_there_is_unstable_connectivity_and_the_Previous_authentication_no_longer_valid_and_Disassociated_because_sending_station_is_leaving_(or_has_left</A>)_BSS_error_messages_display_on_the_Wireless_ISR

-- 
Alexander Monakov

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005546.html">4311 not detected at all
</A></li>
	<LI>Next message: <A HREF="005533.html">bcm4318 (asus WL-138g v2) frequent deauths
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5532">[ date ]</a>
              <a href="thread.html#5532">[ thread ]</a>
              <a href="subject.html#5532">[ subject ]</a>
              <a href="author.html#5532">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">More information about the Bcm43xx-dev
mailing list</a><br>
</body></html>
