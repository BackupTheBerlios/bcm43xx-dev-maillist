<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> b43 and sprom modification success on a test card. [correction]	[THANK YOU]
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2008-June/index.html" >
   <LINK REL="made" HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20b43%20and%20sprom%20modification%20success%20on%20a%20test%20card.%20%5Bcorrection%5D%0A%09%5BTHANK%20YOU%5D&In-Reply-To=%3CA5048975-AFA3-40B7-9C13-E2104C045224%40daleenterprise.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004227.html">
   <LINK REL="Next"  HREF="004230.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>b43 and sprom modification success on a test card. [correction]	[THANK YOU]</H1>
    <B>Dale Walsh</B> 
    <A HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20b43%20and%20sprom%20modification%20success%20on%20a%20test%20card.%20%5Bcorrection%5D%0A%09%5BTHANK%20YOU%5D&In-Reply-To=%3CA5048975-AFA3-40B7-9C13-E2104C045224%40daleenterprise.com%3E"
       TITLE="b43 and sprom modification success on a test card. [correction]	[THANK YOU]">dale at daleenterprise.com
       </A><BR>
    <I>Mon Jun  9 12:03:35 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="004227.html">b43 and sprom modification success on a test card. [correction]
</A></li>
        <LI>Next message: <A HREF="004230.html">b43 and sprom modification success on a test card. [correction]	[THANK YOU]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4229">[ date ]</a>
              <a href="thread.html#4229">[ thread ]</a>
              <a href="subject.html#4229">[ subject ]</a>
              <a href="author.html#4229">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I started looking at the Apple ID list again and it appears that  
0x0453 was incorrect for this card type since it was the ID for the  
miniPCIe card and not the miniPCI card I was using so I thought I'd  
give it another shot and change the ID again.

I modified my ID's in a new file and copied it over to ssb_sprom.

I took a look at dmesg and I saw that ssb writing to the card so  
without further action I rebooted into OSX and the ID's were now  
correct for the specific card type.

I tested the card in Mac OS X 10.4.0, 10.4.8, 10.4.11, 10.5.0, 10.5.2  
and 10.5.3 and the card was properly identified.

While the process has now become much simpler, I think it's extremely  
dangerous if it doesn't perform some kind of verification on the data  
that is being copied before it actually performs the firmware update.

I wish to thank Asheesh for his time in helping me get acclimated to  
ubuntu-hardy and also the authors of b43 and ssb for simplifying the  
sprom writing process and look forward to when the new cards like the  
LinkSYS WMP300n and Buffalo Technology WLI-PCI-G300N are supported so  
that the ID's can be corrected thus allowing the use of inexpensive  
third-party cards without sacrificing functionality in other OS's.

Since this has turned out to be such a simple process, waiting for  
the support of newer cards is a worthwhile wait provide that effort  
is being applied.

I really wanna help, the cause is worthwhile.

What task can I perform? (no task to menial)

On Jun 09, 2008, at 04:46 AM, Dale Walsh wrote:

&gt;<i> Well, I have a different card to modify as I prepare to familiarize  
</I>&gt;<i> myself with the process so that when the bcm4321 chipset (0x4328 /  
</I>&gt;<i> 0x4329) is supported I will have great success.
</I>&gt;<i>
</I>&gt;<i> I found a miniPCI card from a china made bcm4306 based card with  
</I>&gt;<i> the 0x4320 ID that was not recognized as an Apple Airport card.
</I>&gt;<i>
</I>&gt;<i> It look like it would be recognized by the b43 module based on  
</I>&gt;<i> source examination so I figured I'd use a PCI to miniPCI adapter  
</I>&gt;<i> and see if I can make the changes without bricking the card.
</I>&gt;<i>
</I>&gt;<i> iwpriv doesn't seem to like the b43 module recognized card and  
</I>&gt;<i> wouldn't allow me to perform any read/write functions and it was  
</I>&gt;<i> hinted that this method is for the older bcm43xx module.
</I>&gt;<i>
</I>&gt;<i> I located the ssb_sprom file for the card in question by  
</I>&gt;<i> identification of &quot;lspci&quot; and copied out the ssb_sprom file to the  
</I>&gt;<i> Desktop as &quot;original_sprom&quot; for easy identification (and so I know  
</I>&gt;<i> which was the unmodified).
</I>&gt;<i>
</I>&gt;<i> Time for step one:
</I>&gt;<i> I modified the firmware with the ID's I want using the &quot;ssb-sprom&quot;  
</I>&gt;<i> application.
</I>&gt;<i>
</I>&gt;<i> On to step two:
</I>&gt;<i> As suggested by Asheesh, I copied the modified firmware file onto  
</I>&gt;<i> the ssb_sprom file in the original location and at first I couldn't  
</I>&gt;<i> tell and wasn't sure if anything happened so I &quot;rmmod b43; modprobe  
</I>&gt;<i> b43&quot; and copied the ssb_sprom file back to the desktop as  
</I>&gt;<i> &quot;new_original_sprom&quot; and then did &quot;ssb-sprom -i Desktop/ 
</I>&gt;<i> new_original_sprom -P&quot; and my new ID's were displayed so it was  
</I>&gt;<i> time to test this so I started trying the card in various computers  
</I>&gt;<i> and was elated with the success of things.
</I>&gt;<i>
</I>&gt;<i> Results now in Mac OS X on a B&amp;W G3, a PowerPC Dual G5 Xserve and  
</I>&gt;<i> an generic Intel x86 PC sporting a Core 2 Quad is that the card is  
</I>&gt;<i> natively recognized and supported.
</I>&gt;<i> <A HREF="http://acm.pastebin.com/f5175a0a8">http://acm.pastebin.com/f5175a0a8</A>
</I>&gt;<i> <A HREF="http://daleenterprise.com/download/airportclone.png">http://daleenterprise.com/download/airportclone.png</A>
</I>&gt;<i>
</I>&gt;<i> Now I have question regarding the process I performed.
</I>&gt;<i>
</I>&gt;<i> Was the disabling and enabling of &quot;b43 required&quot;???
</I>&gt;<i>
</I>&gt;<i> Is this the correct procedure for modification of the subsys ID's???
</I>&gt;<i>
</I>&gt;<i> -- Dale
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Bcm43xx-dev mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">Bcm43xx-dev at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">https://lists.berlios.de/mailman/listinfo/bcm43xx-dev</A>
</I>
-- Dale





-- Dale



-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/bcm43xx-dev/attachments/20080609/114cfe27/attachment.html">https://lists.berlios.de/pipermail/bcm43xx-dev/attachments/20080609/114cfe27/attachment.html</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: PGP.sig
Type: application/pgp-signature
Size: 188 bytes
Desc: This is a digitally signed message part
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/bcm43xx-dev/attachments/20080609/114cfe27/attachment.pgp">https://lists.berlios.de/pipermail/bcm43xx-dev/attachments/20080609/114cfe27/attachment.pgp</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004227.html">b43 and sprom modification success on a test card. [correction]
</A></li>
	<LI>Next message: <A HREF="004230.html">b43 and sprom modification success on a test card. [correction]	[THANK YOU]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4229">[ date ]</a>
              <a href="thread.html#4229">[ thread ]</a>
              <a href="subject.html#4229">[ subject ]</a>
              <a href="author.html#4229">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">More information about the Bcm43xx-dev
mailing list</a><br>
</body></html>
