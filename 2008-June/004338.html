<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> More discrepancies in ssb-sprom
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2008-June/index.html" >
   <LINK REL="made" HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20More%20discrepancies%20in%20ssb-sprom&In-Reply-To=%3C4861B65A.3000104%40lwfinger.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004337.html">
   <LINK REL="Next"  HREF="004339.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>More discrepancies in ssb-sprom</H1>
    <B>Larry Finger</B> 
    <A HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20More%20discrepancies%20in%20ssb-sprom&In-Reply-To=%3C4861B65A.3000104%40lwfinger.net%3E"
       TITLE="More discrepancies in ssb-sprom">Larry.Finger at lwfinger.net
       </A><BR>
    <I>Wed Jun 25 05:07:06 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="004337.html">More discrepancies in ssb-sprom
</A></li>
        <LI>Next message: <A HREF="004339.html">More discrepancies in ssb-sprom
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4338">[ date ]</a>
              <a href="thread.html#4338">[ thread ]</a>
              <a href="subject.html#4338">[ subject ]</a>
              <a href="author.html#4338">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Pavel Roskin wrote:
&gt;<i> Hello!
</I>&gt;<i> 
</I>&gt;<i> VALUE_ANTA0, VALUE_ANTA1, VALUE_ANTBG0 and VALUE_ANTBG1 are all read at
</I>&gt;<i> SPROM_BOARDREV + 2 for non-rev4 SPROM.  SPROM_BOARDREV + 2 is equal
</I>&gt;<i> SPROM_PA0B0, which means that the same data is displayed twice.
</I>&gt;<i> 
</I>&gt;<i> The same values are written to SPROM_BOARDREV + 1.  For VALUE_ANTA1,
</I>&gt;<i> VALUE_ANTBG0 and VALUE_ANTBG1 there is no special handling for rev4
</I>&gt;<i> SPROM, which must be wrong.
</I>&gt;<i> 
</I>&gt;<i> Likewise, there is no special treatment for rev4 for VALUE_MAXPA and
</I>&gt;<i> VALUE_MAXPBG in modify_value(), but display_value() treats them
</I>&gt;<i> separately.
</I>&gt;<i> 
</I>&gt;<i> It seems to me that ssb-sprom should be rewritten.  I think the SPROM
</I>&gt;<i> structure should be described as a table for every SPROM revision in a
</I>&gt;<i> format like this:
</I>&gt;<i> 
</I>&gt;<i> ID, name, byte offset, bit offset, bit size
</I>&gt;<i> 
</I>&gt;<i> That should solve the problem of synchronization between read and write
</I>&gt;<i> functions. 
</I>
I plead guilty to messing up the rev 4 stuff.

I agree that ssb-sprom should be rewritten; however, before that is 
done, we need to think carefully as to what variables should be 
exposed for a user. For instance, should antenna gains be brought out? 
What about antenna enable variables? Is there any reason for a user to 
change these?

In addition, it might be useful to know about new revisions. We now 
have an instance of revision 8, where the only locations that have 
been identified are the usual ID stuff at the start and the MAC 
address. Everything else is unknown. What about revs 5, 6 and 7?

Larry


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004337.html">More discrepancies in ssb-sprom
</A></li>
	<LI>Next message: <A HREF="004339.html">More discrepancies in ssb-sprom
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4338">[ date ]</a>
              <a href="thread.html#4338">[ thread ]</a>
              <a href="subject.html#4338">[ subject ]</a>
              <a href="author.html#4338">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">More information about the Bcm43xx-dev
mailing list</a><br>
</body></html>
