<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> huge softirq while using wlan0
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2008-October/index.html" >
   <LINK REL="made" HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20huge%20softirq%20while%20using%20wlan0&In-Reply-To=%3C48FAB59A.2050508%40wetwork.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004803.html">
   <LINK REL="Next"  HREF="004807.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>huge softirq while using wlan0</H1>
    <B>gavron at wetwork.net</B> 
    <A HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20huge%20softirq%20while%20using%20wlan0&In-Reply-To=%3C48FAB59A.2050508%40wetwork.net%3E"
       TITLE="huge softirq while using wlan0">gavron at wetwork.net
       </A><BR>
    <I>Sun Oct 19 06:20:42 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="004803.html">huge softirq while using wlan0
</A></li>
        <LI>Next message: <A HREF="004807.html">huge softirq while using wlan0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4804">[ date ]</a>
              <a href="thread.html#4804">[ thread ]</a>
              <a href="subject.html#4804">[ subject ]</a>
              <a href="author.html#4804">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

Brian J. Murrell wrote:
&gt;<i> On Sat, 2008-10-18 at 19:24 -0700, <A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">m at wetwork.net</A> wrote:
</I>&gt;<i>   
</I>&gt;&gt;<i> Since you're running a custom distro for a particular branch of 
</I>&gt;&gt;<i> hardware, have you communicated on their lists about this issue?
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i> Not yet.  I thought I would come to the source first.  The larger
</I>&gt;<i> concentration of experience with b43 is likely here rather than the
</I>&gt;<i> OpenWrt developers don't you think?
</I>&gt;<i>   
</I>No.
&gt;<i>   
</I>&gt;&gt;<i> The standard b43 has no issues with it, but I have no idea which version 
</I>&gt;&gt;<i> of b43 they've picked to be their reference.
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://www.orbit-lab.org/kernel/compat-wireless-2.6/2008/08/compat-wireless-2008-08-06.tar.bz2">http://www.orbit-lab.org/kernel/compat-wireless-2.6/2008/08/compat-wireless-2008-08-06.tar.bz2</A>
</I>&gt;<i>   
</I>That's nice, thank you.

&gt;<i>   
</I>&gt;&gt;<i> From the firmware rev I suspect it's not a fairly recent one meaning 
</I>&gt;&gt;<i> the codebase isn't the newest either.
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i> Firmware appears to be from broadcom-wl 4.150.10.5
</I>&gt;<i>   
</I>Looks correct according to 
<A HREF="http://linuxwireless.org/en/users/Drivers/b43#devicefirmware">http://linuxwireless.org/en/users/Drivers/b43#devicefirmware</A>
&gt;<i>   
</I>&gt;&gt;<i> In any case, you're on an embedded device running a kernel you didn't 
</I>&gt;&gt;<i> compile
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i> I sure did!
</I>&gt;<i>
</I>&gt;<i>   
</I>&gt;&gt;<i> and whose version you don't mention
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i> 2.6.25.17
</I>&gt;<i>   
</I>Thanks :)

&gt;<i>   
</I>&gt;&gt;<i> and a driver you didn't build in an environment which I'm guessing you 
</I>&gt;&gt;<i> also don't build.
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i> Wrong and wrong.  All built from source here.
</I>&gt;<i>
</I>&gt;<i>   
</I>Awesome. 

&gt;&gt;<i> Let me know if I've erred on any of my assumptions.
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i> As above.
</I>&gt;<i>
</I>&gt;<i>   
</I>Awesome. Thanks for the info.

&gt;&gt;<i> For instance if 
</I>&gt;&gt;<i> you're able to build your own drivers and install
</I>&gt;&gt;<i> them on that Linksys, or if you're able to build your own kernels that 
</I>&gt;&gt;<i> work on that Linksys, those would be two good things
</I>&gt;&gt;<i> to know.
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i> Indeed, I can.
</I>&gt;<i>
</I>&gt;<i>   
</I>You've got the 2.6.25 code running with the latest firmware.  There have 
been some changes.
Can you try and pull the b43 code from the current 2.6.27.1 distro and 
see if it will run? 
There's also the wireless-compat tree, but I would try the vanilla 
2.6.27.1 tree first.


&gt;&gt;<i> If not, talk to OpenWRT.
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i> I may end up doing that.  My query here was merely to ascertain whether
</I>&gt;<i> what I am seeing is consistent with the current revision of the b43
</I>&gt;<i> driver or not.  I believe I am understanding that it is not and that
</I>&gt;<i> others are able to run the b43 driver in AP mode with WPA2 encryption
</I>&gt;<i> and not having the encryption done in software -- or have high level of
</I>&gt;<i> interrupts otherwise.
</I>&gt;<i>   
</I>You are correct.
&gt;<i>   
</I>&gt;&gt;<i> Regards and a good weekend to you, sir,
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i> And you.
</I>&gt;<i>
</I>&gt;<i> Cheers,
</I>&gt;<i> b.
</I>&gt;<i>   
</I>I think you're on the right track.  Just fyi (and please take this 
without insult) had you included your kernel (uname -a) as well as &quot;I 
built this myself from source from XXXX&quot;) it would have made it easier 
to provide more useful suggestions in the first cut.

I think you can make it work.  The hardware DOES does do what you want.  
I suspect either b43 or mac80211 is not as up to date as it ought to be 
in your newly built kernel.

Others know more.  I'm just waiting for Shanghai F1 ;)

Cheers,

Ehud
&gt;<i>   
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Bcm43xx-dev mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">Bcm43xx-dev at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">https://lists.berlios.de/mailman/listinfo/bcm43xx-dev</A>
</I>&gt;<i>   
</I>
-- 
Legal Disclaimer that you are now contractually bound to under all laws with no recourse:
<A HREF="http://attrition.org/security/rants/z/disclaimers.html">http://attrition.org/security/rants/z/disclaimers.html</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004803.html">huge softirq while using wlan0
</A></li>
	<LI>Next message: <A HREF="004807.html">huge softirq while using wlan0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4804">[ date ]</a>
              <a href="thread.html#4804">[ thread ]</a>
              <a href="subject.html#4804">[ subject ]</a>
              <a href="author.html#4804">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">More information about the Bcm43xx-dev
mailing list</a><br>
</body></html>
