<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> sudden wlan0 no scan results
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2008-August/index.html" >
   <LINK REL="made" HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20sudden%20wlan0%20no%20scan%20results&In-Reply-To=%3C4016b2fa0808171858h39ad9783ic57debe0c1c11661%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004472.html">
   <LINK REL="Next"  HREF="004478.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>sudden wlan0 no scan results</H1>
    <B>Francesco Marass</B> 
    <A HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20sudden%20wlan0%20no%20scan%20results&In-Reply-To=%3C4016b2fa0808171858h39ad9783ic57debe0c1c11661%40mail.gmail.com%3E"
       TITLE="sudden wlan0 no scan results">fmarass at gmail.com
       </A><BR>
    <I>Mon Aug 18 03:58:32 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="004472.html">sudden wlan0 no scan results
</A></li>
        <LI>Next message: <A HREF="004478.html">sudden wlan0 no scan results
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4477">[ date ]</a>
              <a href="thread.html#4477">[ thread ]</a>
              <a href="subject.html#4477">[ subject ]</a>
              <a href="author.html#4477">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thank you for your reply.

There is no iface command: I was not clear enough and just pasted the
/etc/network/interfaces iface stanza for my wireless. So

iface wlan0 inet dhcp
  wireless-essid XXXX
  wireless-key YYYY

is how my wlan0 interface is configured within /etc/network/interfaces.

I did not really make changes to the system. I did install some
SELinux packages, but right after I purged for various reasons.

How do I turn on the interface, if after my attempts (with ifup,
iwconfig, network-manager, ...) I still do not get scan results? (I
wonder whether I am even able to scan, or just do not find networks)

Thank you

Francesco

On 8/17/08, Larry Finger &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">Larry.Finger at lwfinger.net</A>&gt; wrote:
&gt;<i> Francesco Marass wrote:
</I>&gt;&gt;<i> Hello
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I have a BCM4312 wireless card that I've always successfully used with
</I>&gt;&gt;<i> the b43 driver. However, for the past few days I've been unable to
</I>&gt;&gt;<i> find any wireless networks, so connecting to one was impossible.
</I>&gt;&gt;<i> `iwlist wlan0 scan` now always returns No scan results.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I run Debian testing, with a 2.6.25.4 x86_64 kernel. I have not made
</I>&gt;&gt;<i> changes to the system, aside from the usual updates and everything
</I>&gt;&gt;<i> else is working correctly.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> My syslog when my interface worked looked like this:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Aug  2 09:19:10 febian kernel: b43-phy0: Broadcom 4311 WLAN found
</I>&gt;&gt;<i> Aug  2 09:19:10 febian kernel: b43-phy0 debug: Found PHY: Analog 4,
</I>&gt;&gt;<i> Type 2, Revision 8
</I>&gt;&gt;<i> Aug  2 09:19:10 febian kernel: b43-phy0 debug: Found Radio: Manuf
</I>&gt;&gt;<i> 0x17F, Version 0x2050, Revision 2
</I>&gt;&gt;<i> Aug  2 09:19:10 febian kernel: phy0: Selected rate control algorithm 'pid'
</I>&gt;&gt;<i> Aug  2 09:19:10 febian kernel: Broadcom 43xx driver loaded [ Features:
</I>&gt;&gt;<i> PL, Firmware-ID: FW13 ]
</I>&gt;&gt;<i> Aug  2 09:19:19 febian NetworkManager: &lt;info&gt;  starting...
</I>&gt;&gt;<i> Aug  2 09:19:19 febian NetworkManager: &lt;info&gt;  New VPN service
</I>&gt;&gt;<i> 'openvpn' (org.freedesktop.NetworkManager.openvpn).
</I>&gt;&gt;<i> Aug  2 09:19:20 febian kernel: b43-phy0: Loading firmware version
</I>&gt;&gt;<i> 410.2160 (2007-05-26 15:32:10)
</I>&gt;&gt;<i> Aug  2 09:19:21 febian kernel: b43-phy0 debug: Chip initialized
</I>&gt;&gt;<i> Aug  2 09:19:21 febian kernel: b43-phy0 debug: 32-bit DMA
</I>&gt;&gt;<i> initialized136401
</I>&gt;&gt;<i> Aug  2 09:19:21 febian kernel: Registered led device: b43-phy0::tx
</I>&gt;&gt;<i> Aug  2 09:19:21 febian kernel: Registered led device: b43-phy0::rx
</I>&gt;&gt;<i> Aug  2 09:19:21 febian kernel: b43-phy0 debug: Wireless interface started
</I>&gt;&gt;<i> Aug  2 09:19:21 febian kernel: b43-phy0 debug: Adding Interface type 2
</I>&gt;&gt;<i> Aug  2 09:19:21 febian kernel: ADDRCONF(NETDEV_UP): wlan0: link is not
</I>&gt;&gt;<i> ready
</I>&gt;&gt;<i> Aug  2 09:20:00 febian kernel: b43-phy0 debug: Using hardware based
</I>&gt;&gt;<i> encryption for keyidx: 0, mac: ff:ff:ff:ff:ff:ff
</I>&gt;&gt;<i> Aug  2 09:20:00 febian kernel: wlan0: Initial auth_alg=0
</I>&gt;&gt;<i> Aug  2 09:20:00 febian kernel: wlan0: authenticate with AP
</I>&gt;&gt;<i> 00:1c:10:9f:c5:15
</I>&gt;&gt;<i> Aug  2 09:20:00 febian kernel: wlan0: RX authentication from
</I>&gt;&gt;<i> 00:1c:10:9f:c5:15 (alg=0 transaction=2 status=0)
</I>&gt;&gt;<i> Aug  2 09:20:00 febian kernel: wlan0: authenticated
</I>&gt;&gt;<i> Aug  2 09:20:00 febian kernel: wlan0: associate with AP 00:1c:10:9f:c5:15
</I>&gt;&gt;<i> Aug  2 09:20:00 febian kernel: wlan0: RX AssocResp from
</I>&gt;&gt;<i> 00:1c:10:9f:c5:15 (capab=0x411 status=0 aid=2)
</I>&gt;&gt;<i> Aug  2 09:20:00 febian kernel: wlan0: associated
</I>&gt;&gt;<i> Aug  2 09:20:00 febian kernel: ADDRCONF(NETDEV_CHANGE): wlan0: link
</I>&gt;&gt;<i> becomes ready
</I>&gt;&gt;<i> Aug  2 09:20:00 febian dhclient: Internet Systems Consortium DHCP Client
</I>&gt;&gt;<i> V3.1.1
</I>&gt;&gt;<i> Aug  2 09:20:00 febian dhclient: Copyright 2004-2008 Internet Systems
</I>&gt;&gt;<i> Consortium.
</I>&gt;&gt;<i> Aug  2 09:20:00 febian dhclient: All rights reserved.
</I>&gt;&gt;<i> Aug  2 09:20:00 febian dhclient: For info, please visit
</I>&gt;&gt;<i> <A HREF="http://www.isc.org/sw/dhcp/">http://www.isc.org/sw/dhcp/</A>
</I>&gt;&gt;<i> Aug  2 09:20:00 febian dhclient:
</I>&gt;&gt;<i> Aug  2 09:20:00 febian dhclient: wmaster0: unknown hardware address type
</I>&gt;&gt;<i> 801
</I>&gt;&gt;<i> Aug  2 09:20:01 febian dhclient: wmaster0: unknown hardware address type
</I>&gt;&gt;<i> 801
</I>&gt;&gt;<i> Aug  2 09:20:01 febian dhclient: Listening on LPF/wlan0/XXX
</I>&gt;&gt;<i> Aug  2 09:20:01 febian dhclient: Sending on   LPF/wlan0/XXX
</I>&gt;&gt;<i> Aug  2 09:20:01 febian dhclient: Sending on   Socket/fallback
</I>&gt;&gt;<i> Aug  2 09:20:01 febian dhclient: DHCPDISCOVER on wlan0 to
</I>&gt;&gt;<i> 255.255.255.255 port 67 interval 5
</I>&gt;&gt;<i> Aug  2 09:20:01 febian avahi-daemon[3173]: Joining mDNS multicast
</I>&gt;&gt;<i> group on interface wlan0.IPv6 with address fe80::21a:73ff:fe49:d828.
</I>&gt;&gt;<i> Aug  2 09:20:01 febian avahi-daemon[3173]: New relevant interface
</I>&gt;&gt;<i> wlan0.IPv6 for mDNS.
</I>&gt;&gt;<i> Aug  2 09:20:01 febian avahi-daemon[3173]: Registering new address
</I>&gt;&gt;<i> record for fe80::21a:73ff:fe49:d828 on wlan0.*.
</I>&gt;&gt;<i> Aug  2 09:20:02 febian dhclient: DHCPOFFER from 192.168.1.1
</I>&gt;&gt;<i> Aug  2 09:20:02 febian dhclient: DHCPREQUEST on wlan0 to 255.255.255.255
</I>&gt;&gt;<i> port 67
</I>&gt;&gt;<i> Aug  2 09:20:02 febian dhclient: DHCPACK from 192.168.1.1
</I>&gt;&gt;<i> Aug  2 09:20:02 febian avahi-daemon[3173]: Joining mDNS multicast
</I>&gt;&gt;<i> group on interface wlan0.IPv4 with address 192.168.1.102.
</I>&gt;&gt;<i> Aug  2 09:20:02 febian avahi-daemon[3173]: New relevant interface
</I>&gt;&gt;<i> wlan0.IPv4 for mDNS.
</I>&gt;&gt;<i> Aug  2 09:20:02 febian avahi-daemon[3173]: Registering new address
</I>&gt;&gt;<i> record for 192.168.1.102 on wlan0.IPv4.
</I>&gt;&gt;<i> Aug  2 09:20:02 febian dhclient: bound to 192.168.1.102 -- renewal in
</I>&gt;&gt;<i> 40017 seconds.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Current syslog (with non-working interface):
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Aug  3 16:10:50 febian kernel: b43-phy0: Broadcom 4311 WLAN found
</I>&gt;&gt;<i> Aug  3 16:10:50 febian kernel: b43-phy0 debug: Found PHY: Analog 4,
</I>&gt;&gt;<i> Type 2, Revision 8
</I>&gt;&gt;<i> Aug  3 16:10:50 febian kernel: b43-phy0 debug: Found Radio: Manuf
</I>&gt;&gt;<i> 0x17F, Version 0x2050, Revision 2
</I>&gt;&gt;<i> Aug  3 16:10:50 febian kernel: phy0: Selected rate control algorithm 'pid'
</I>&gt;&gt;<i> Aug  3 16:10:50 febian kernel: Broadcom 43xx driver loaded [ Features:
</I>&gt;&gt;<i> PL, Firmware-ID: FW13 ]
</I>&gt;&gt;<i> Aug  3 16:10:59 febian NetworkManager: &lt;info&gt;  starting...
</I>&gt;&gt;<i> Aug  3 16:10:59 febian NetworkManager: &lt;info&gt;  New VPN service
</I>&gt;&gt;<i> 'openvpn' (org.freedesktop.NetworkManager.openvpn).
</I>&gt;&gt;<i> Aug  3 16:11:00 febian kernel: b43-phy0: Loading firmware version
</I>&gt;&gt;<i> 410.2160 (2007-05-26 15:32:10)
</I>&gt;&gt;<i> Aug  3 16:11:01 febian kernel: b43-phy0 debug: Chip initialized
</I>&gt;&gt;<i> Aug  3 16:11:01 febian kernel: b43-phy0 debug: 32-bit DMA initialized
</I>&gt;&gt;<i> Aug  3 16:11:01 febian kernel: Registered led device: b43-phy0::tx
</I>&gt;&gt;<i> Aug  3 16:11:01 febian kernel: Registered led device: b43-phy0::rx
</I>&gt;&gt;<i> Aug  3 16:11:01 febian kernel: b43-phy0 debug: Wireless interface started
</I>&gt;&gt;<i> Aug  3 16:11:01 febian kernel: b43-phy0 debug: Adding Interface type 2
</I>&gt;&gt;<i> Aug  3 16:11:01 febian kernel: ADDRCONF(NETDEV_UP): wlan0: link is not
</I>&gt;&gt;<i> ready
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> My interfaces configuration is very simple:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> iface wlan0 inet dhcp
</I>&gt;&gt;<i>   wireless-essid XXXX
</I>&gt;&gt;<i>   wireless-key YYYY
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Without NetworkManager I tried the procedure by hand without success:
</I>&gt;&gt;<i> # ifconfig wlan0 up
</I>&gt;&gt;<i> # dmesg | tail
</I>&gt;&gt;<i> b43-phy0: Loading firmware version 410.2160 (2007-05-26 15:32:10)
</I>&gt;&gt;<i> b43-phy0 debug: Chip initialized
</I>&gt;&gt;<i> b43-phy0 debug: 32-bit DMA initialized
</I>&gt;&gt;<i> Registered led device: b43-phy0::tx
</I>&gt;&gt;<i> Registered led device: b43-phy0::rx
</I>&gt;&gt;<i> b43-phy0 debug: Wireless interface started
</I>&gt;&gt;<i> b43-phy0 debug: Adding Interface type 2
</I>&gt;&gt;<i> b43-phy0 debug: Using hardware based encryption for keyidx: 0, mac:
</I>&gt;&gt;<i> ff:ff:ff:ff:ff:ff
</I>&gt;&gt;<i> ADDRCONF(NETDEV_UP): wlan0: link is not ready
</I>&gt;&gt;<i> # iwconfig wlan0 essid XXX
</I>&gt;&gt;<i> # iwconfig wlan0 key YYY
</I>&gt;&gt;<i> # dmesg | tail
</I>&gt;&gt;<i> b43-phy0 debug: Disabling hardware based encryption for keyidx: 0,
</I>&gt;&gt;<i> mac: ff:ff:ff:ff:ff:ff
</I>&gt;&gt;<i> b43-phy0 debug: Using hardware based encryption for keyidx: 0, mac:
</I>&gt;&gt;<i> ff:ff:ff:ff:ff:ff
</I>&gt;&gt;<i> # iwlist wlan0 scan
</I>&gt;&gt;<i> wlan0             No scan results
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I even downloaded the driver again and re-cut the firmware, but it did not
</I>&gt;&gt;<i> help.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I hope there is an explanation and a solution for this, as I am
</I>&gt;&gt;<i> reluctant to try the windoze driver with ndiswrapper.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I add an lspci -v regarding this card for more information:
</I>&gt;&gt;<i> 30:00.0 Network controller: Broadcom Corporation BCM4312 802.11a/b/g (rev
</I>&gt;&gt;<i> 01)
</I>&gt;&gt;<i>         Subsystem: Hewlett-Packard Company Device 1361
</I>&gt;&gt;<i>         Flags: bus master, fast devsel, latency 0, IRQ 18
</I>&gt;&gt;<i>         Memory at c8000000 (32-bit, non-prefetchable) [size=16K]
</I>&gt;&gt;<i>         Capabilities: &lt;access denied&gt;
</I>&gt;&gt;<i>         Kernel driver in use: b43-pci-bridge
</I>&gt;&gt;<i>         Kernel modules: ssb
</I>&gt;<i>
</I>&gt;<i> I don't see anything wrong with b43. The message shows that your
</I>&gt;<i> interface is not UP. I use openSUSE and I don't know exactly what the
</I>&gt;<i> command 'iface' does, but it looks as if something changed there, or
</I>&gt;<i> in other network support software.
</I>&gt;<i>
</I>&gt;<i> Did you make any changes in your system? Perhaps reloading the package
</I>&gt;<i> that contains iface will fix the problem.
</I>&gt;<i>
</I>&gt;<i> Larry
</I>&gt;<i>
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004472.html">sudden wlan0 no scan results
</A></li>
	<LI>Next message: <A HREF="004478.html">sudden wlan0 no scan results
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4477">[ date ]</a>
              <a href="thread.html#4477">[ thread ]</a>
              <a href="subject.html#4477">[ subject ]</a>
              <a href="author.html#4477">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">More information about the Bcm43xx-dev
mailing list</a><br>
</body></html>
