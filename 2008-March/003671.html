<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Fwd: BCM4328 latest GIT driver.
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2008-March/index.html" >
   <LINK REL="made" HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20Fwd%3A%20BCM4328%20latest%20GIT%20driver.&In-Reply-To=%3C69e28c910803310630j296e5e54w8f1c267b86ace2a1%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003676.html">
   <LINK REL="Next"  HREF="003673.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Fwd: BCM4328 latest GIT driver.</H1>
    <B>Stefanik G&#225;bor</B> 
    <A HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20Fwd%3A%20BCM4328%20latest%20GIT%20driver.&In-Reply-To=%3C69e28c910803310630j296e5e54w8f1c267b86ace2a1%40mail.gmail.com%3E"
       TITLE="Fwd: BCM4328 latest GIT driver.">netrolller.3d at gmail.com
       </A><BR>
    <I>Mon Mar 31 15:30:16 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="003676.html">BCM4328 latest GIT driver.
</A></li>
        <LI>Next message: <A HREF="003673.html">Urgent help needed: Broadcom 4318 SPROM corruption
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3671">[ date ]</a>
              <a href="thread.html#3671">[ thread ]</a>
              <a href="subject.html#3671">[ subject ]</a>
              <a href="author.html#3671">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Oops. Forgot to CC the list.

---------- Forwarded message ----------
From: Stefanik G&#225;bor &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">netrolller.3d at gmail.com</A>&gt;
Date: Mon, Mar 31, 2008 at 3:27 PM
Subject: Re: BCM4328 latest GIT driver.
To: Subodh Shrivastava &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">subodh.shrivastava at gmail.com</A>&gt;


Try compiling without RF killswitch support, if that is possible. That might
help, although you will most likely encounter another issue. (NPHY is marked
BROKEN on purpose.) Note however that it's possible that the error message
is actually false (your radio is in fact ON and working), so you should test
if you can scan or associate. (If you manage to associate, or at least scan,
then maybe it's time to take out &amp;&amp;BROKEN from NPHY's Kconfig, as the code
has at least some use.)


On Mon, Mar 31, 2008 at 3:15 PM, Subodh Shrivastava &lt;
<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">subodh.shrivastava at gmail.com</A>&gt; wrote:

&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i>  First of all congratulations for the good work on Broadcom chipset.
</I>&gt;<i>  I tried the latest GIT kernel to try out the BCM 4328 chip support.
</I>&gt;<i>  I remember reading some where that It loads firmware successfully.
</I>&gt;<i>  Please find below the results.
</I>&gt;<i>
</I>&gt;<i>  uname -r = 2.6.25-rc7-custom
</I>&gt;<i>  uname -m = x86_64
</I>&gt;<i>  uname -v = #2 SMP Mon Mar 31 08:32:18 BST 2008
</I>&gt;<i>
</I>&gt;<i>  Without the NPHY support card failed to initialize.
</I>&gt;<i>
</I>&gt;<i>  [ 2056.792896] b43-phy1: Broadcom 4321 WLAN found
</I>&gt;<i>  [ 2056.834017] b43-phy1 ERROR: FOUND UNSUPPORTED PHY (Analog 5, Type
</I>&gt;<i>  4, Revision 1)
</I>&gt;<i>  [ 2056.834077] b43: probe of ssb0:0 failed with error -95
</I>&gt;<i>
</I>&gt;<i>  In order to compile the driver with NPHY support I had to cheat the
</I>&gt;<i>  Kconfig for b43.
</I>&gt;<i>
</I>&gt;<i>  Relevant dmesg:
</I>&gt;<i>
</I>&gt;<i>  [ 4063.609938] ACPI: PCI Interrupt 0000:03:00.0[A] -&gt; GSI 17 (level,
</I>&gt;<i>  low) -&gt; IRQ 17
</I>&gt;<i>  [ 4063.609974] PCI: Setting latency timer of device 0000:03:00.0 to 64
</I>&gt;<i>  [ 4063.676950] ssb: Sonics Silicon Backplane found on PCI device
</I>&gt;<i> 0000:03:00.0
</I>&gt;<i>  [ 4063.834714] b43-phy3: Broadcom 4321 WLAN found
</I>&gt;<i>  [ 4063.875625] b43-phy3 debug: Found PHY: Analog 5, Type 4, Revision 1
</I>&gt;<i>  [ 4063.875650] b43-phy3 debug: Found Radio: Manuf 0x17F, Version
</I>&gt;<i>  0x2055, Revision 4
</I>&gt;<i>  [ 4063.901072] phy3: Selected rate control algorithm 'pid'
</I>&gt;<i>  [ 4063.902174] Broadcom 43xx driver loaded [ Features: PNLR,
</I>&gt;<i> Firmware-ID: FW13 ]
</I>&gt;<i>  [ 4063.965038] input: b43-phy3 as /class/input/input25
</I>&gt;<i>  [ 4064.253954] b43-phy3: Loading firmware version 410.2160
</I>&gt;<i> (2007-05-26 15:32:10)
</I>&gt;<i>  [ 4064.365266] b43-phy3 ERROR: IEEE 802.11n devices are not supported,
</I>&gt;<i> yet.
</I>&gt;<i>  [ 4064.365335] b43-phy3 debug: Chip initialized
</I>&gt;<i>  [ 4064.365610] b43-phy3 debug: 64-bit DMA initialized
</I>&gt;<i>  [ 4064.385619] Registered led device: b43-phy3::tx
</I>&gt;<i>  [ 4064.385656] Registered led device: b43-phy3::rx
</I>&gt;<i>  [ 4064.385698] Registered led device: b43-phy3::radio
</I>&gt;<i>  [ 4064.385794] b43-phy3 debug: Wireless interface started
</I>&gt;<i>  [ 4064.385799] b43-phy3 debug: Adding Interface type 2
</I>&gt;<i>  [ 4064.389937] ADDRCONF(NETDEV_UP): wlan0: link is not ready
</I>&gt;<i>  [ 4064.821593] b43-phy3: Radio hardware status changed to DISABLED
</I>&gt;<i>  [ 4121.458866] b43-phy3: Radio turned on by software
</I>&gt;<i>  [ 4121.458875] b43-phy3: The hardware RF-kill button still turns the
</I>&gt;<i>  radio physically off. Press the button to turn it on.
</I>&gt;<i>  [ 4332.013844] b43-phy3 debug: Using hardware based encryption for
</I>&gt;<i>  keyidx: 0, mac: ff:ff:ff:ff:ff:ff
</I>&gt;<i>  [ 4817.566647] b43-phy3 debug: Disabling hardware based encryption for
</I>&gt;<i>  keyidx: 0, mac: ff:ff:ff:ff:ff:ff
</I>&gt;<i>  [ 4817.566658] b43-phy3 debug: Removing Interface type 2
</I>&gt;<i>  [ 4817.637786] b43-phy3 debug: Wireless interface stopped
</I>&gt;<i>  [ 4817.637972] b43-phy3 debug: DMA-64 0x0200 (RX) max used slots: 0/64
</I>&gt;<i>  [ 4817.638041] b43-phy3 debug: DMA-64 0x0340 (TX) max used slots: 0/128
</I>&gt;<i>  [ 4817.642841] b43-phy3 debug: DMA-64 0x0300 (TX) max used slots: 0/128
</I>&gt;<i>  [ 4817.650625] b43-phy3 debug: DMA-64 0x02C0 (TX) max used slots: 0/128
</I>&gt;<i>  [ 4817.658629] b43-phy3 debug: DMA-64 0x0280 (TX) max used slots: 0/128
</I>&gt;<i>  [ 4817.667508] b43-phy3 debug: DMA-64 0x0240 (TX) max used slots: 2/128
</I>&gt;<i>  [ 4817.674592] b43-phy3 debug: DMA-64 0x0200 (TX) max used slots: 0/128
</I>&gt;<i>  [ 5131.430565] ACPI: PCI interrupt for device 0000:03:00.0 disabled.
</I>&gt;<i>
</I>&gt;<i>  Card is recognized as &quot;Broadcom 4321 WLAN found&quot;
</I>&gt;<i>
</I>&gt;<i>  Although lspci output states otherwise.
</I>&gt;<i>
</I>&gt;<i>  03:00.0 Network controller: Broadcom Corporation BCM4328 802.11a/b/g/n
</I>&gt;<i> (rev 01)
</I>&gt;<i>        Subsystem: Apple Computer Inc. Unknown device 0087
</I>&gt;<i>        Flags: bus master, fast devsel, latency 0, IRQ 17
</I>&gt;<i>        Memory at 48200000 (64-bit, non-prefetchable) [size=16K]
</I>&gt;<i>        Memory at 48000000 (64-bit, prefetchable) [size=1M]
</I>&gt;<i>        Capabilities: [40] Power Management version 2
</I>&gt;<i>        Capabilities: [58] Message Signalled Interrupts: Mask- 64bit+
</I>&gt;<i>  Queue=0/0 Enable-
</I>&gt;<i>        Capabilities: [d0] Express Endpoint IRQ 0
</I>&gt;<i>        Capabilities: [100] Advanced Error Reporting
</I>&gt;<i>        Capabilities: [13c] Virtual Channel
</I>&gt;<i>        Capabilities: [15c] Power Budgeting
</I>&gt;<i>
</I>&gt;<i>  Also when the driver module is loaded Radio is turned off and requests
</I>&gt;<i>  to turn on the radio using hardware switch,
</I>&gt;<i>  this is an Apple iMac and I don't have any hardware switch to turn on
</I>&gt;<i>  the Radio. Does it require some user space utility
</I>&gt;<i>  or driver does not contain support for the Radio yet?
</I>&gt;<i>
</I>&gt;<i>  wlan0 shows up in the system after loading the driver.
</I>&gt;<i>
</I>&gt;<i>  wlan0     IEEE 802.11g  ESSID:&quot;&quot;
</I>&gt;<i>          Mode:Managed  Frequency:2.412 GHz  Access Point: Not-Associated
</I>&gt;<i>          Tx-Power=27 dBm
</I>&gt;<i>          Retry min limit:7   RTS thr:off   Fragment thr=2352 B
</I>&gt;<i>          Link Quality:0  Signal level:0  Noise level:0
</I>&gt;<i>          Rx invalid nwid:0  Rx invalid crypt:0  Rx invalid frag:0
</I>&gt;<i>          Tx excessive retries:0  Invalid misc:0   Missed beacon:0
</I>&gt;<i>
</I>&gt;<i>  I am aware that support for this chipset is work in progress, I would
</I>&gt;<i>  be happy to help in testing.
</I>&gt;<i>  --
</I>&gt;<i>  Subodh
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Bcm43xx-dev mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">Bcm43xx-dev at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">https://lists.berlios.de/mailman/listinfo/bcm43xx-dev</A>
</I>&gt;<i>
</I>


-- 
Vista: [V]iruses, [I]ntruders, [S]pyware, [T]rojans and [A]dware. :-)



-- 
Vista: [V]iruses, [I]ntruders, [S]pyware, [T]rojans and [A]dware. :-)
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/bcm43xx-dev/attachments/20080331/2addcbc4/attachment.html">https://lists.berlios.de/pipermail/bcm43xx-dev/attachments/20080331/2addcbc4/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003676.html">BCM4328 latest GIT driver.
</A></li>
	<LI>Next message: <A HREF="003673.html">Urgent help needed: Broadcom 4318 SPROM corruption
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3671">[ date ]</a>
              <a href="thread.html#3671">[ thread ]</a>
              <a href="subject.html#3671">[ subject ]</a>
              <a href="author.html#3671">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">More information about the Bcm43xx-dev
mailing list</a><br>
</body></html>
