<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> Problems with a bcm4306 (03) and b43/b43legacy
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2008-March/index.html" >
   <LINK REL="made" HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20Problems%20with%20a%20bcm4306%20%2803%29%20and%20b43/b43legacy&In-Reply-To=%3C47E7D0DE.9060408%40lwfinger.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003634.html">
   <LINK REL="Next"  HREF="003637.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>Problems with a bcm4306 (03) and b43/b43legacy</H1>
    <B>Larry Finger</B> 
    <A HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20Problems%20with%20a%20bcm4306%20%2803%29%20and%20b43/b43legacy&In-Reply-To=%3C47E7D0DE.9060408%40lwfinger.net%3E"
       TITLE="Problems with a bcm4306 (03) and b43/b43legacy">Larry.Finger at lwfinger.net
       </A><BR>
    <I>Mon Mar 24 17:03:42 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="003634.html">Problems with a bcm4306 (03) and b43/b43legacy
</A></li>
        <LI>Next message: <A HREF="003637.html">Problems with a bcm4306 (03) and b43/b43legacy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3635">[ date ]</a>
              <a href="thread.html#3635">[ thread ]</a>
              <a href="subject.html#3635">[ subject ]</a>
              <a href="author.html#3635">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>krop wrote:
&gt;<i> (Re-posting, since I forgot to confirm)
</I>&gt;<i> 
</I>&gt;<i> Hello,
</I>&gt;<i> 
</I>&gt;<i> After two monthes trying to find a solution, I'll post directly on the 
</I>&gt;<i> bcm43xx ML.
</I>&gt;<i> 
</I>&gt;<i> - The Launchpad bug is there : 
</I>&gt;<i> <A HREF="https://bugs.launchpad.net/ubuntu/+source/linux/+bug/182716">https://bugs.launchpad.net/ubuntu/+source/linux/+bug/182716</A> (this thread 
</I>&gt;<i> is confusing and solves different issues but not the main one)
</I>&gt;<i> 
</I>&gt;<i> Tech info :
</I>&gt;<i> 
</I>&gt;<i> - uname -a
</I>&gt;<i> 
</I>&gt;<i> Linux mokona 2.6.24-12-generic #1 SMP Wed Mar 12 23:01:54 UTC 2008 i686 
</I>&gt;<i> GNU/Linux
</I>&gt;<i> 
</I>&gt;<i> - lspci -nnvvv
</I>&gt;<i> 
</I>&gt;<i> 02:09.0 Network controller [0280]: Broadcom Corporation BCM4306 
</I>&gt;<i> 802.11b/g Wireless LAN Controller [14e4:4320] (rev 03)
</I>&gt;<i> Subsystem: Linksys Unknown device [1737:0013]
</I>&gt;<i> Control: I/O- Mem+ BusMaster+ SpecCycle- MemWINV- VGASnoop- ParErr- 
</I>&gt;<i> Stepping- SERR- FastB2B- DisINTx-
</I>&gt;<i> Status: Cap- 66MHz- UDF- FastB2B- ParErr- DEVSEL=fast &gt;TAbort- &lt;TAbort- 
</I>&gt;<i> &lt;MAbort- &gt;SERR- &lt;PERR- INTx-
</I>  Latency: 32
&gt;<i> Interrupt: pin A routed to IRQ 20
</I>&gt;<i> Region 0: Memory at fdffe000 (32-bit, non-prefetchable) [size=8K]
</I>&gt;<i> - b43-fwcutter -l
</I>&gt;<i> b43-fwcutter version 011
</I>&gt;<i> The firmwares are in /lib/firmware/b43 and /lib/firmware/b43legacy
</I>&gt;<i> The issues, now :
</I>&gt;<i> 
</I>&gt;<i> Despite what is mentionned there :
</I>&gt;<i> <A HREF="http://linuxwireless.org/en/users/Drivers/b43#bcm43xx.2Cb43legacy.2Cb43.2Csoftmac.2C...thefullstory">http://linuxwireless.org/en/users/Drivers/b43#bcm43xx.2Cb43legacy.2Cb43.2Csoftmac.2C...thefullstory</A> 
</I>&gt;<i> , this card (Linksys WMP-54G pci) doesn't work with b43legacy but b43.
</I>
This is exactly what is expected. The BCM4306 rev 02 uses b43legacy. A BCM4306
rev 03 _needs_ b43.

&gt;<i> - While everything works fine with bcm43xx, replacing it with b43 
</I>&gt;<i> results in timeouts (the same thing as described in this thread :
</I>&gt;<i> <A HREF="https://lists.berlios.de/pipermail/bcm43xx-dev/2008-March/006995.html">https://lists.berlios.de/pipermail/bcm43xx-dev/2008-March/006995.html</A> )
</I>&gt;<i> 
</I>&gt;<i> Dmesg output after loading b43legacy :
</I>&gt;<i> 
</I>&gt;<i> [481560.308707] ACPI: PCI Interrupt 0000:02:09.0[A] -&gt; Link [APC4] -&gt; 
</I>&gt;<i> GSI 19 (level, low) -&gt; IRQ 20
</I>&gt;<i> [481560.331833] ssb: SPROM revision 1 detected.
</I>&gt;<i> [481560.348634] ssb: Sonics Silicon Backplane found on PCI device 
</I>&gt;<i> 0000:02:09.0
</I>&gt;<i> [481560.581763] b43-phy4: Broadcom 4306 WLAN found
</I>&gt;<i> [481560.650004] phy4: Selected rate control algorithm 'simple'
</I>&gt;<i> [481560.675163] udev: renamed network interface wlan0 to eth0
</I>&gt;<i> [481560.733573] input: b43-phy4 as /devices/virtual/input/input82
</I>&gt;<i> iwconfig after reloading the network :
</I>&gt;<i> lo no wireless extensions.
</I>&gt;<i> wmaster0 no wireless extensions.
</I>&gt;<i> eth0 IEEE 802.11g ESSID:&quot;freebox&quot;
</I>&gt;<i> Mode:Managed Frequency:2.447 GHz Access Point: BA:FA:E6:72:E9:0C
</I>&gt;<i> Tx-Power=20 dBm
</I>&gt;<i> Retry min limit:7 RTS thr:off Fragment thr=2346 B
</I>&gt;<i> Encryption key:off
</I>&gt;<i> Link Quality:0 Signal level:0 Noise level:0
</I>&gt;<i> Rx invalid nwid:0 Rx invalid crypt:0 Rx invalid frag:0
</I>&gt;<i> Tx excessive retries:0 Invalid misc:0 Missed beacon:0
</I>
&gt;<i> Finally dmesg :
</I>&gt;<i> [481907.430896] eth0: Initial auth_alg=0
</I>&gt;<i> [481907.430907] eth0: authenticate with AP ba:fa:e6:72:e9:0c
</I>&gt;<i> [481907.629997] eth0: authenticate with AP ba:fa:e6:72:e9:0c
</I>&gt;<i> [481907.830001] eth0: authenticate with AP ba:fa:e6:72:e9:0c
</I>&gt;<i> [481908.030004] eth0: authentication with AP ba:fa:e6:72:e9:0c timed out
</I>
&gt;<i> and wpa_supplicant output :
</I>&gt;<i> &lt;2&gt;Trying to associate with ba:fa:e6:72:e9:0c (SSID='freebox' freq=2447 
</I>&gt;<i> MHz)
</I>&gt;<i> &lt;2&gt;Authentication with 00:00:00:00:00:00 timed out.
</I>
&gt;<i> Here's the situation and I don't have any idea of the causes or the way 
</I>&gt;<i> to solve this problem.
</I>
Your iwconfig output shows that the interface has authenticated, which implies
transmit and receive both working. Please check that your copy of wpa_supplicant
has the &quot;wext&quot; interface enabled. There has been a report of failures for this reason.

Larry

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003634.html">Problems with a bcm4306 (03) and b43/b43legacy
</A></li>
	<LI>Next message: <A HREF="003637.html">Problems with a bcm4306 (03) and b43/b43legacy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3635">[ date ]</a>
              <a href="thread.html#3635">[ thread ]</a>
              <a href="subject.html#3635">[ subject ]</a>
              <a href="author.html#3635">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">More information about the Bcm43xx-dev
mailing list</a><br>
</body></html>
