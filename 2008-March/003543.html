<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> b4306 issues with b43legacy
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2008-March/index.html" >
   <LINK REL="made" HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20b4306%20issues%20with%20b43legacy&In-Reply-To=%3C69e28c910803040832g45587c5fh369f85de9ea82431%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003541.html">
   <LINK REL="Next"  HREF="003542.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>b4306 issues with b43legacy</H1>
    <B>Stefanik G&#225;bor</B> 
    <A HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20b4306%20issues%20with%20b43legacy&In-Reply-To=%3C69e28c910803040832g45587c5fh369f85de9ea82431%40mail.gmail.com%3E"
       TITLE="b4306 issues with b43legacy">netrolller.3d at gmail.com
       </A><BR>
    <I>Tue Mar  4 17:32:46 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="003541.html">b4306 issues with b43legacy
</A></li>
        <LI>Next message: <A HREF="003542.html">bcm4311 + 2.6.24 + patch gives blinking wireless LED
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3543">[ date ]</a>
              <a href="thread.html#3543">[ thread ]</a>
              <a href="subject.html#3543">[ subject ]</a>
              <a href="author.html#3543">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>It's not a kernel module problem, it's clearly the firmware that is missing.
B43 devs: please help, how does the driver determine the location of
the firmware?

On 3/4/08, Francois Schauber &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">fxschauber at gmail.com</A>&gt; wrote:
&gt;<i> yep i also tried this one. Is there a way ton know where is looking at ?
</I>&gt;<i> Maybe i forgot to install a kernel module, i don't see someone else in the
</I>&gt;<i> same case..
</I>&gt;<i>
</I>&gt;<i> 2008/3/4, Stefanik G&#225;bor &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">netrolller.3d at gmail.com</A>&gt;:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I accidentally sent this message to Francois directly, rather than the
</I>&gt;<i> &gt; mailing list. Here is it reposted on the list. (I don't know how &quot;That
</I>&gt;<i> cle&quot;
</I>&gt;<i> &gt; got in the message.)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; ---------- Forwarded message ----------
</I>&gt;<i> &gt; From: Stefanik G&#225;bor &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">netrolller.3d at gmail.com</A>&gt;
</I>&gt;<i> &gt; Date: Mon, Mar 3, 2008 at 11:50 PM
</I>&gt;<i> &gt; Subject: Re: b4306 issues with b43legacy
</I>&gt;<i> &gt; To: Francois Schauber &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">fxschauber at gmail.com</A>&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Try extracting to /lib/firmware/`uname -r` (cd there to see if it exists,
</I>&gt;<i> &gt; if not, mkdir it - it will not actually be called &quot;`uname -r`&quot;, but &quot;
</I>&gt;<i> &gt; 2.6.24...&quot; the version of your kernel).  Ubuntu tends to put firmware
</I>&gt;<i> &gt; there. Udev can't cause &quot;unable to load firmware&quot; errors.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; That cle
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; On Mon, Mar 3, 2008 at 10:59 PM, Francois Schauber &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">fxschauber at gmail.com</A>&gt;
</I>&gt;<i> &gt; wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; that's all i'have made, i made test with an other card, a Dlink with
</I>&gt;<i> &gt; &gt; RT61 driver, it's juste the same ! it's not a driver probem, someone
</I>&gt;<i> told me
</I>&gt;<i> &gt; &gt; it may be because of udev but i don't know.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;  2008/3/3, Stefanik G&#225;bor &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">netrolller.3d at gmail.com</A>&gt;:
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; B43legacy is a branch of b43 (not bcm43xx), so you will need
</I>&gt;<i> &gt; &gt; &gt; b43-fwcutter, not bcm43xx-fwcutter. Same for the regular (non-legacy)
</I>&gt;<i> b43
</I>&gt;<i> &gt; &gt; &gt; driver. You need version 3 firmware for b43legacy, and version
</I>&gt;<i> 4.80(or
</I>&gt;<i> &gt; &gt; &gt; 4.150 if you are on a 2.6.25 test kernel) for b43. Use version 011 of
</I>&gt;<i> &gt; &gt; &gt; the fwcutter.
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; On Mon, Mar 3, 2008 at 12:20 PM, Francois Schauber &lt;
</I>&gt;<i> &gt; &gt; &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">fxschauber at gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; Hi,
</I>&gt;<i> &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; I'm working on a Efika powerpc card with a pci WMP54G card (BCM
</I>&gt;<i> &gt; &gt; &gt; &gt; 4306)j. I tried the 3 kernel drivers (b43xx, b43 &amp; b43legacy). Only
</I>&gt;<i> the
</I>&gt;<i> &gt; &gt; &gt; &gt; b43legacy one seems to work with my card.
</I>&gt;<i> &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; lspci -vn :
</I>&gt;<i> &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; 00:18.0 0280: 14e4:4320 (rev 02)
</I>&gt;<i> &gt; &gt; &gt; &gt;         Subsystem: 1737:0013
</I>&gt;<i> &gt; &gt; &gt; &gt;         Flags: bus master, fast devsel, latency 0, IRQ 16
</I>&gt;<i> &gt; &gt; &gt; &gt;         Memory at 80000000 (32-bit, non-prefetchable) [size=8K]
</I>&gt;<i> &gt; &gt; &gt; &gt;         Capabilities: [40] Power Management version 2
</I>&gt;<i> &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; modprobe b43legacy :
</I>&gt;<i> &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; b43legacy-phy0: Broadcom 4306 WLAN found
</I>&gt;<i> &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; dmesg :
</I>&gt;<i> &gt; &gt; &gt; &gt; b43legacy-phy0: Broadcom 4306 WLAN found
</I>&gt;<i> &gt; &gt; &gt; &gt; b43legacy-phy0 debug: Found PHY: Analog 1, Type 2, Revision 1
</I>&gt;<i> &gt; &gt; &gt; &gt; b43legacy-phy0 debug: Found Radio: Manuf 0x17F, Version 0x2050,
</I>&gt;<i> &gt; &gt; &gt; &gt; Revision 2
</I>&gt;<i> &gt; &gt; &gt; &gt; b43legacy-phy0 debug: Radio initialized
</I>&gt;<i> &gt; &gt; &gt; &gt; phy0: Selected rate control algorithm 'simple'
</I>&gt;<i> &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; ifconfig :
</I>&gt;<i> &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; wlan0     Link encap:Ethernet  HWaddr 00:0C:41:13:89:28
</I>&gt;<i> &gt; &gt; &gt; &gt;           BROADCAST MULTICAST  MTU:1500  Metric:1
</I>&gt;<i> &gt; &gt; &gt; &gt;           RX packets:0 errors:0 dropped:0 overruns:0 frame:0
</I>&gt;<i> &gt; &gt; &gt; &gt;           TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
</I>&gt;<i> &gt; &gt; &gt; &gt;           collisions:0 txqueuelen:1000
</I>&gt;<i> &gt; &gt; &gt; &gt;           RX bytes:0 (0.0 b)  TX bytes:0 (0.0 b)
</I>&gt;<i> &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; wmaster0  Link encap:UNSPEC  HWaddr 00-0C-41-13-89-28-10-0D-00-00
</I>&gt;<i> &gt; &gt; &gt; &gt; -00-00-00-00-00-00
</I>&gt;<i> &gt; &gt; &gt; &gt;           BROADCAST MULTICAST  MTU:1500  Metric:1
</I>&gt;<i> &gt; &gt; &gt; &gt;           RX packets:0 errors:0 dropped:0 overruns:0 frame:0
</I>&gt;<i> &gt; &gt; &gt; &gt;           TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
</I>&gt;<i> &gt; &gt; &gt; &gt;           collisions:0 txqueuelen:1000
</I>&gt;<i> &gt; &gt; &gt; &gt;           RX bytes:0 (0.0 b)  TX bytes:0 (0.0 b)
</I>&gt;<i> &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; iwconfig :
</I>&gt;<i> &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; lo        no wireless extensions.
</I>&gt;<i> &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; eth0      no wireless extensions.
</I>&gt;<i> &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; dummy0    no wireless extensions.
</I>&gt;<i> &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; tunl0     no wireless extensions.
</I>&gt;<i> &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; gre0      no wireless extensions.
</I>&gt;<i> &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; wmaster0  no wireless extensions.
</I>&gt;<i> &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; Warning: Driver for device wlan0 has been compiled with version 22
</I>&gt;<i> &gt; &gt; &gt; &gt; of Wireless Extension, while this program supports up to version
</I>&gt;<i> 20.
</I>&gt;<i> &gt; &gt; &gt; &gt; Some things may be broken...
</I>&gt;<i> &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; wlan0     IEEE 802.11g  ESSID:&quot;&quot;
</I>&gt;<i> &gt; &gt; &gt; &gt;           Mode:Managed  Channel:0  Access Point: Not-Associated
</I>&gt;<i> &gt; &gt; &gt; &gt;           Tx-Power=0 dBm
</I>&gt;<i> &gt; &gt; &gt; &gt;           Retry min limit:7   RTS thr:off   Fragment thr=2346 B
</I>&gt;<i> &gt; &gt; &gt; &gt;           Encryption key:off
</I>&gt;<i> &gt; &gt; &gt; &gt;           Link Quality:0  Signal level:0  Noise level:0
</I>&gt;<i> &gt; &gt; &gt; &gt;           Rx invalid nwid:0  Rx invalid crypt:0  Rx invalid frag:0
</I>&gt;<i> &gt; &gt; &gt; &gt;           Tx excessive retries:0  Invalid misc:0   Missed beacon:0
</I>&gt;<i> &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; I also put the V3 firmware on /lib/firmware with b43-fwcutter  but
</I>&gt;<i> &gt; &gt; &gt; &gt; it seems not to be found, when i try an ifconfig wlan0 up dmesg
</I>&gt;<i> gives me :
</I>&gt;<i> &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; b43legacy-phy0 ERROR: Firmware file &quot;b43legacy/ucode4.fw&quot; not found
</I>&gt;<i> &gt; &gt; &gt; &gt; or load failed.
</I>&gt;<i> &gt; &gt; &gt; &gt; b43legacy-phy0 ERROR: You must go to
</I>&gt;<i> &gt; &gt; &gt; &gt; <A HREF="http://linuxwireless.org/en/users/Drivers/b43#devicefirmware">http://linuxwireless.org/en/users/Drivers/b43#devicefirmware</A> and
</I>&gt;<i> &gt; &gt; &gt; &gt; download the correct firmware (version 3).
</I>&gt;<i> &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; I also tried to put it on /lib/hotplug/firmware,
</I>&gt;<i> /usr/lib/firmware,
</I>&gt;<i> &gt; &gt; &gt; &gt; /usr/lib/hotplug/firmware  and it's juste the same !
</I>&gt;<i> &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; Someone to help ?
</I>&gt;<i> &gt; &gt; &gt; &gt; thx,
</I>&gt;<i> &gt; &gt; &gt; &gt; Francois
</I>&gt;<i> &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; _______________________________________________
</I>&gt;<i> &gt; &gt; &gt; &gt; Bcm43xx-dev mailing list
</I>&gt;<i> &gt; &gt; &gt; &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">Bcm43xx-dev at lists.berlios.de</A>
</I>&gt;<i> &gt; &gt; &gt; &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">https://lists.berlios.de/mailman/listinfo/bcm43xx-dev</A>
</I>&gt;<i> &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; --
</I>&gt;<i> &gt; &gt; &gt; Vista: [V]iruses, [I]ntruders, [S]pyware, [T]rojans and [A]dware. :-)
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; --
</I>&gt;<i> &gt; Vista: [V]iruses, [I]ntruders, [S]pyware, [T]rojans and [A]dware. :-)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; --
</I>&gt;<i> &gt; Vista: [V]iruses, [I]ntruders, [S]pyware, [T]rojans and [A]dware. :-)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Bcm43xx-dev mailing list
</I>&gt;<i> &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">Bcm43xx-dev at lists.berlios.de</A>
</I>&gt;<i> &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">https://lists.berlios.de/mailman/listinfo/bcm43xx-dev</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>

-- 
Vista: [V]iruses, [I]ntruders, [S]pyware, [T]rojans and [A]dware. :-)

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003541.html">b4306 issues with b43legacy
</A></li>
	<LI>Next message: <A HREF="003542.html">bcm4311 + 2.6.24 + patch gives blinking wireless LED
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3543">[ date ]</a>
              <a href="thread.html#3543">[ thread ]</a>
              <a href="subject.html#3543">[ subject ]</a>
              <a href="author.html#3543">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">More information about the Bcm43xx-dev
mailing list</a><br>
</body></html>
