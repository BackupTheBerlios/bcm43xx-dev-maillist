<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> problems with advanced wpa
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2007-April/index.html" >
   <LINK REL="made" HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20problems%20with%20advanced%20wpa&In-Reply-To=%3C5b9417770704110917r22d65562rb1d21f21973f07ce%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001027.html">
   <LINK REL="Next"  HREF="001042.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>problems with advanced wpa</H1>
    <B>John H.</B> 
    <A HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20problems%20with%20advanced%20wpa&In-Reply-To=%3C5b9417770704110917r22d65562rb1d21f21973f07ce%40mail.gmail.com%3E"
       TITLE="problems with advanced wpa">mistamaila at gmail.com
       </A><BR>
    <I>Wed Apr 11 18:17:35 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="001027.html">problems with advanced wpa
</A></li>
        <LI>Next message: <A HREF="001042.html">problems with advanced wpa
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1041">[ date ]</a>
              <a href="thread.html#1041">[ thread ]</a>
              <a href="subject.html#1041">[ subject ]</a>
              <a href="author.html#1041">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Sorry, fc6.

Yes, I tried what you suggested today, and attached is the resulting
problems with wpa_supplicant.  I switched over to ndiswrapper and it
worked right away:(

wpa_supplicant -c /etc/wpa_supplicant/wpa_supplicant.conf -iwlan0 -Dwext

Trying to associate with 00:12:d9:ac:55:c0 (SSID='schoolssid' freq=0 MHz)

CTRL-EVENT-DISCONNECTED - Disconnect event - remove keys

Trying to associate with 00:12:d9:ac:55:c0 (SSID='schoolssid' freq=0 MHz)

Associated with 00:12:d9:ac:55:c0

CTRL-EVENT-EAP-STARTED EAP authentication started

CTRL-EVENT-EAP-METHOD EAP method 25 (PEAP) selected

EAP-MSCHAPV2: Authentication succeeded

CTRL-EVENT-EAP-SUCCESS EAP authentication completed successfully

WPA: Key negotiation completed with 00:12:d9:ac:55:c0 [PTK=TKIP GTK=TKIP]

CTRL-EVENT-CONNECTED - Connection to 00:12:d9:ac:55:c0 completed (auth)

CTRL-EVENT-DISCONNECTED - Disconnect event - remove keys

Trying to associate with 00:12:d9:ac:55:c0 (SSID='schoolssid' freq=0 MHz)

CTRL-EVENT-DISCONNECTED - Disconnect event - remove keys

Trying to associate with 00:12:d9:ac:55:c0 (SSID='schoolssid' freq=0 MHz)

Associated with 00:12:d9:ac:55:c0

CTRL-EVENT-EAP-STARTED EAP authentication started

CTRL-EVENT-DISCONNECTED - Disconnect event - remove keys

Trying to associate with 00:12:d9:6a:8a:40 (SSID='schoolssid' freq=0 MHz)

Trying to associate with 00:12:d9:6a:8a:40 (SSID='schoolssid' freq=0 MHz)

Trying to associate with 00:12:d9:6a:8a:40 (SSID='schoolssid' freq=0 MHz)

CTRL-EVENT-DISCONNECTED - Disconnect event - remove keys

WPA: No SSID info found (msg 1 of 4).

WPA: No Ack bit in key_info

WPA: Invalid EAPOL-Key MIC - dropping packet

WPA: No Ack bit in key_info

Authentication with 00:00:00:00:00:00 timed out.

Trying to associate with 00:12:d9:6a:8a:40 (SSID='schoolssid' freq=0 MHz)

Trying to associate with 00:12:d9:6a:8a:40 (SSID='schoolssid' freq=0 MHz)

CTRL-EVENT-DISCONNECTED - Disconnect event - remove keys

CTRL-EVENT-TERMINATING - signal 2 received




On 4/10/07, Larry Finger &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">larry.finger at lwfinger.net</A>&gt; wrote:
&gt;<i> John H. wrote:
</I>&gt;<i> &gt; My school uses the following setup in wpa_supplicant, which I don't
</I>&gt;<i> &gt; even need to use with NetworkManager.  However, this does not work
</I>&gt;<i> &gt; with bcm43xx even with latest patches, but it does work with
</I>&gt;<i> &gt; ndiswrapper.  NetworkManager blatantly says, with bcm43xx driver,
</I>&gt;<i> &gt; &quot;encryption not supported,...&quot; or something.
</I>&gt;<i>
</I>&gt;<i> Exact error message, please!
</I>&gt;<i>
</I>&gt;<i> &gt; bcm43xx works fine with wpa_supplicant and networkmanager with wpa1...
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; network={
</I>&gt;<i> &gt;         ssid=&quot;university&quot;
</I>&gt;<i> &gt;         key_mgmt=WPA-EAP
</I>&gt;<i> &gt;         pairwise=TKIP
</I>&gt;<i> &gt;         group=TKIP
</I>&gt;<i> &gt;         scan_ssid=1
</I>&gt;<i> &gt;         eap=PEAP
</I>&gt;<i> &gt;         identity=&quot;myuser&quot;
</I>&gt;<i> &gt;         password=&quot;mypass&quot;
</I>&gt;<i> &gt; #       ca_cert=&quot;/etc/cert/ca.pem&quot;
</I>&gt;<i> &gt; #       phase1=&quot;peaplabel=1&quot;
</I>&gt;<i> &gt;        phase2=&quot;auth=MSCHAPV2&quot;
</I>&gt;<i> &gt; }
</I>&gt;<i>
</I>&gt;<i> Have you tried using ifup/ifdown rather than NM to control the device with the above info in
</I>&gt;<i> wpa_supplicant.conf? You don't mention your distro and it is difficult to know where your control
</I>&gt;<i> files are located.
</I>&gt;<i>
</I>&gt;<i> Larry
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001027.html">problems with advanced wpa
</A></li>
	<LI>Next message: <A HREF="001042.html">problems with advanced wpa
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1041">[ date ]</a>
              <a href="thread.html#1041">[ thread ]</a>
              <a href="subject.html#1041">[ subject ]</a>
              <a href="author.html#1041">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">More information about the Bcm43xx-dev
mailing list</a><br>
</body></html>
