<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> skb_over_panic from b43 after a few hours
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2010-February/index.html" >
   <LINK REL="made" HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20skb_over_panic%20from%20b43%20after%20a%20few%20hours&In-Reply-To=%3C4B7EB0F8.3000100%40lwfinger.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006980.html">
   <LINK REL="Next"  HREF="006984.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>skb_over_panic from b43 after a few hours</H1>
    <B>Larry Finger</B> 
    <A HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20skb_over_panic%20from%20b43%20after%20a%20few%20hours&In-Reply-To=%3C4B7EB0F8.3000100%40lwfinger.net%3E"
       TITLE="skb_over_panic from b43 after a few hours">Larry.Finger at lwfinger.net
       </A><BR>
    <I>Fri Feb 19 16:40:40 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="006980.html">skb_over_panic from b43 after a few hours
</A></li>
        <LI>Next message: <A HREF="006984.html">skb_over_panic from b43 after a few hours
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6981">[ date ]</a>
              <a href="thread.html#6981">[ thread ]</a>
              <a href="subject.html#6981">[ subject ]</a>
              <a href="author.html#6981">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 02/19/2010 12:47 AM, Stefan Wahren wrote:
&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> it's me again. The problem still exists. I had no idea to get it better
</I>&gt;<i> reproduceable. Please tell me what information do you need to fix it.
</I>&gt;<i> 
</I>&gt;<i> Thanks in advice.
</I>&gt;<i> 
</I>&gt;<i> Stefan
</I>&gt;<i> 
</I>&gt;<i> Stefan Wahren schrieb:
</I>&gt;&gt;<i> Hi,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> i'm using OpenWRT on an ASUS WL-500gP V2 with the built-in Broadcom
</I>&gt;&gt;<i> BCM3302. After a few hours the b43 driver crashes with a skb_over_panic
</I>&gt;&gt;<i> and i need to reboot the device. The crash happend also, if there is no
</I>&gt;&gt;<i> traffic over the wireless interface. The wireless interface is
</I>&gt;&gt;<i> configured in AP mode and the encryption psk2.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The used kernel (Linux OpenWrt 2.6.30.10 #1 Tue Feb 2 01:15:42 CET 2010
</I>&gt;&gt;<i> mips GNU/Linux) throws the following output:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> skb_over_panic: text:80c9a8e4 len:2374 put:2374 head:80e79000
</I>&gt;&gt;<i> data:80e79040 tail:0x80e79986 end:0x80e79980 dev:&lt;NULL&gt;
</I>&gt;&gt;<i> Kernel bug detected[#1]:
</I>&gt;&gt;<i> Cpu 0
</I>&gt;&gt;<i> $ 0   : 00000000 1000f800 00000079 00000001
</I>&gt;&gt;<i> $ 4   : 802880c0 0000271f ffffffff 0000271f
</I>&gt;&gt;<i> $ 8   : 00004000 00000000 802959b0 00000001
</I>&gt;&gt;<i> $12   : 0000000f 8022a1d0 ffffffff 7ffb537b
</I>&gt;&gt;<i> $16   : 00e79040 80e79040 00000928 80e9a9a0
</I>&gt;&gt;<i> $20   : 80d84c80 00000019 a0df7190 80ca1518
</I>&gt;&gt;<i> $24   : 00000002 80151108
</I>&gt;&gt;<i> $28   : 80ea0000 80ea1e60 0000001b 8018c2d4
</I>&gt;&gt;<i> Hi    : 00000000
</I>&gt;&gt;<i> Lo    : 00000077
</I>&gt;&gt;<i> epc   : 8018c2d4 skb_put+0x74/0x90
</I>&gt;&gt;<i>     Not tainted
</I>&gt;&gt;<i> ra    : 8018c2d4 skb_put+0x74/0x90
</I>&gt;&gt;<i> Status: 1000f803    KERNEL EXL IE
</I>&gt;&gt;<i> Cause : 00800024
</I>&gt;&gt;<i> PrId  : 00029029 (Broadcom BCM3302)
</I>&gt;&gt;<i> Modules linked in: pl2303 option ftdi_sio usb_storage usbserial ohci_hcd
</I>&gt;&gt;<i> nf_nat_
</I>&gt;&gt;<i> tftp nf_conntrack_tftp nf_nat_irc nf_conntrack_irc nf_nat_ftp
</I>&gt;&gt;<i> nf_conntrack_ftp i
</I>&gt;&gt;<i> pt_MASQUERADE iptable_nat nf_nat xt_NOTRACK iptable_raw xt_state
</I>&gt;&gt;<i> nf_conntrack_ip
</I>&gt;&gt;<i> v4 nf_defrag_ipv4 nf_conntrack ehci_hcd sd_mod pppoe pppox ipt_REJECT
</I>&gt;&gt;<i> xt_TCPMSS
</I>&gt;&gt;<i>           ipt_LOG xt_multiport xt_mac xt_limit iptable_mangle
</I>&gt;&gt;<i> iptable_filter ip_tables xt_
</I>&gt;&gt;<i>                             tcpudp x_tables ext2 ext3 jbd tun ppp_async
</I>&gt;&gt;<i> ppp_generic slhc vfat fat b43 nls_ut
</I>&gt;&gt;<i>                                     f8 nls_iso8859_15 nls_iso8859_1
</I>&gt;&gt;<i> nls_cp850 nls_cp437 usbcore scsi_mod nls_base ma
</I>&gt;&gt;<i>                                                 c80211 cfg80211
</I>&gt;&gt;<i> compat_firmware_class compat crc_ccitt arc4 aes_generic deflate
</I>&gt;&gt;<i>                                                                 ecb cbc
</I>&gt;&gt;<i> switch_robo switch_core diag
</I>&gt;&gt;<i> Process compirq/5-b43 (pid: 812, threadinfo=80ea0000, task=81f19188,
</I>&gt;&gt;<i> tls=0000000
</I>&gt;&gt;<i>            0)
</I>&gt;&gt;<i> Stack : 00000000 80c9a8e4 00000946 00000946 80e79000 80e79040 80e79986
</I>&gt;&gt;<i> 80e79980
</I>&gt;&gt;<i>         80266f84 80d84c80 00000019 80c9a8e4 80287b88 80286170 1000f800
</I>&gt;&gt;<i> ffff00fe
</I>&gt;&gt;<i>         80ea1fe0 0000f800 80d92d2c 80284000 80ca1518 7f816db4 00010000
</I>&gt;&gt;<i> 80c7f400
</I>&gt;&gt;<i>         00008000 00010000 fffffffc 802c7860 00010000 fffffffe efffffff
</I>&gt;&gt;<i> 80c87420
</I>&gt;&gt;<i>         81f19188 80c80000 80e9ee08 8001c63c 80ea0000 80ea1f18 8021db88
</I>&gt;&gt;<i> 00000000
</I>&gt;&gt;<i>         ...
</I>&gt;&gt;<i> Call Trace:
</I>&gt;&gt;<i> [&lt;8018c2d4&gt;] skb_put+0x74/0x90
</I>&gt;&gt;<i> [&lt;80c9a8e4&gt;] b43_dma_rx+0x338/0x444 [b43]
</I>&gt;&gt;<i> [&lt;80c87420&gt;] b43_controller_restart+0x7a0/0x974 [b43]
</I>&gt;&gt;<i>
</I>
The traceback indicates a controller restart. Does your log show any reason for
that event? That may help me understand why skb-&gt;tail is past skb-&gt;end.

Larry


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006980.html">skb_over_panic from b43 after a few hours
</A></li>
	<LI>Next message: <A HREF="006984.html">skb_over_panic from b43 after a few hours
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6981">[ date ]</a>
              <a href="thread.html#6981">[ thread ]</a>
              <a href="subject.html#6981">[ subject ]</a>
              <a href="author.html#6981">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">More information about the Bcm43xx-dev
mailing list</a><br>
</body></html>
