<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [PATCH] b43: Mask PHY TX error interrupt, if not debugging
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2009-March/index.html" >
   <LINK REL="made" HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20%5BPATCH%5D%20b43%3A%20Mask%20PHY%20TX%20error%20interrupt%2C%20if%20not%20debugging&In-Reply-To=%3C35D36C55-6CB3-443C-A916-D5771B68DD9A%40ing.unibs.it%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005320.html">
   <LINK REL="Next"  HREF="005322.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[PATCH] b43: Mask PHY TX error interrupt, if not debugging</H1>
    <B>Francesco Gringoli</B> 
    <A HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20%5BPATCH%5D%20b43%3A%20Mask%20PHY%20TX%20error%20interrupt%2C%20if%20not%20debugging&In-Reply-To=%3C35D36C55-6CB3-443C-A916-D5771B68DD9A%40ing.unibs.it%3E"
       TITLE="[PATCH] b43: Mask PHY TX error interrupt, if not debugging">francesco.gringoli at ing.unibs.it
       </A><BR>
    <I>Thu Mar 19 20:56:52 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="005320.html">[PATCH] b43: Mask PHY TX error interrupt, if not debugging
</A></li>
        <LI>Next message: <A HREF="005322.html">[PATCH] b43: Mask PHY TX error interrupt, if not debugging
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5321">[ date ]</a>
              <a href="thread.html#5321">[ thread ]</a>
              <a href="subject.html#5321">[ subject ]</a>
              <a href="author.html#5321">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Mar 19, 2009, at 8:13 PM, Michael Buesch wrote:

&gt;<i> On Thursday 19 March 2009 20:00:45 Francesco Gringoli wrote:
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Yeah well. This confirms my thoughts.
</I>&gt;<i> There are other ways to voluntarily trigger the errors. For example
</I>&gt;<i> try covering the antennae with your bare hands. Try to move the
</I>&gt;<i> device to a place with extremely bad signal (Iron beams between them).
</I>&gt;<i> Try to move the transceivers very close (20cm) together, so basic rf  
</I>&gt;<i> rules are violated.
</I>&gt;<i>
</I>&gt;<i> This are all pretty reliable ways to trigger these errors.
</I>Cool! I will give it a try.

&gt;&gt;<i> - these strange PHY errors are not due to tx tries, they happen also
</I>&gt;&gt;<i> with devices were the tx code has been cut away
</I>&gt;<i>
</I>&gt;<i> Well, I did not see that, so I cannot really comment on this.
</I>&gt;<i> I never saw them in monitor mode.
</I>It was the reason that made me lose a lot of time in putting traps  
into the firmware to understand if we were forgetting something in  
configuring devices to run in monitor mode. Well, we are not: the tx  
code is never crossed. But PHY errors are triggered the same.

&gt;&gt;<i> I would say this noise directly affects the irq line, or it triggers
</I>&gt;&gt;<i> the serializer to send out a packet with completely wrong radio/plcp/
</I>&gt;&gt;<i> mac configuration that causes a PHY tx error.
</I>&gt;<i>
</I>&gt;<i> I don't think it triggers the IRQ line. I'd rather think that some  
</I>&gt;<i> sensitivity
</I>&gt;<i> threshold is configured incorrectly, so the PHY will trigger the  
</I>&gt;<i> errors on
</I>&gt;<i> completely valid stuff.
</I>
I would agree with you, but there is this bizarre issue with PHY  
errors in monitoring mode that makes me thinking about what we call  
PHY errors. I would say they are not only due to transmission, they  
are general PHY errors, could they be? One last test I could try, is  
to put again the broken minipci to pci adapter in one pci slot and put  
on the next slot the adapter that does not trigger these errors. If  
the interference caused by the broken adapter induces the wifi boards  
on top of it in errors, it should induce the same error on the board  
mounted on the right adapter.

Cheers,
-FG

&gt;<i>
</I>&gt;<i>
</I>&gt;<i> So now this is your turn: Which one? :D
</I>&gt;<i>
</I>&gt;<i> -- 
</I>&gt;<i> Greetings, Michael.
</I>
-------

Francesco Gringoli, PhD - Assistant Professor
Dept. of Electrical Engineering for Automation
University of Brescia
via Branze, 38
25123 Brescia
ITALY

Ph:  ++39.030.3715843
FAX: ++39.030.380014
WWW: <A HREF="http://www.ing.unibs.it/~gringoli">http://www.ing.unibs.it/~gringoli</A>





</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005320.html">[PATCH] b43: Mask PHY TX error interrupt, if not debugging
</A></li>
	<LI>Next message: <A HREF="005322.html">[PATCH] b43: Mask PHY TX error interrupt, if not debugging
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5321">[ date ]</a>
              <a href="thread.html#5321">[ thread ]</a>
              <a href="subject.html#5321">[ subject ]</a>
              <a href="author.html#5321">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">More information about the Bcm43xx-dev
mailing list</a><br>
</body></html>
