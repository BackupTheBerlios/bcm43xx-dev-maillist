<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> RFC: a new version of bcm43xx.txt
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2007-February/index.html" >
   <LINK REL="made" HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20RFC%3A%20a%20new%20version%20of%20bcm43xx.txt&In-Reply-To=%3C45CA81C0.2090004%40lwfinger.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000377.html">
   <LINK REL="Next"  HREF="000390.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>RFC: a new version of bcm43xx.txt</H1>
    <B>Larry Finger</B> 
    <A HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20RFC%3A%20a%20new%20version%20of%20bcm43xx.txt&In-Reply-To=%3C45CA81C0.2090004%40lwfinger.net%3E"
       TITLE="RFC: a new version of bcm43xx.txt">Larry.Finger at lwfinger.net
       </A><BR>
    <I>Thu Feb  8 02:49:52 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000377.html">Patch to fix set_channelfreq
</A></li>
        <LI>Next message: <A HREF="000390.html">RFC: a new version of bcm43xx.txt
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#389">[ date ]</a>
              <a href="thread.html#389">[ thread ]</a>
              <a href="subject.html#389">[ subject ]</a>
              <a href="author.html#389">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have rewritten Documentation/networking/bcm43xx.txt. I would appreciate your comments.

Thanks,

Larry


=========================



Index: wireless-2.6/Documentation/networking/bcm43xx.txt
===================================================================
--- wireless-2.6.orig/Documentation/networking/bcm43xx.txt
+++ wireless-2.6/Documentation/networking/bcm43xx.txt
@@ -2,35 +2,77 @@
 			BCM43xx Linux Driver Project
 			============================

-About this software
--------------------
-
-The goal of this project is to develop a linux driver for Broadcom
-BCM43xx chips, based on the specification at
-<A HREF="http://bcm-specs.sipsolutions.net/">http://bcm-specs.sipsolutions.net/</A>
-
-The project page is <A HREF="http://bcm43xx.berlios.de/">http://bcm43xx.berlios.de/</A>
-
-
-Requirements
+Introduction
 ------------

-1)	Linux Kernel 2.6.16 or later
-	<A HREF="http://www.kernel.org/">http://www.kernel.org/</A>
-
-	You may want to configure your kernel with:
-
-	CONFIG_DEBUG_FS (optional):
-		-&gt; Kernel hacking
-		  -&gt; Debug Filesystem
-
-2)	SoftMAC IEEE 802.11 Networking Stack extension and patched ieee80211
-	modules:
-	<A HREF="http://softmac.sipsolutions.net/">http://softmac.sipsolutions.net/</A>
+Many of the wireless devices found in modern notebook computers are based
+on the wireless chips produced by Broadcom. These devices have been a problem
+for Linux users as there is no open-source driver available. In addition,
+Broadcom has not released specifications for the device, and driver availability
+has been limited to the binary-only form used in the GPL versions of access
+point hardware such as the Linksys WRT54G, and the Windows and OS X drivers.
+Before this project began, the only way to use these devices were to use the
+Windows or OS X drivers with either the Linuxant or ndiswrapper modules. There
+is a strong penalty if this method is used as loading the binary-only module
+&quot;taints&quot; the kernel, and no kernel developer will help diagnose any kernel
+problems.
+
+Development
+-----------
+
+This driver has been developend using a clean-room technique that is described
+at <A HREF="http://bcm-specs.sipsolutions.net/ReverseEngineeringProcess.">http://bcm-specs.sipsolutions.net/ReverseEngineeringProcess.</A> For legal
+reasons, none of the clean-room crew works on the on the Linux driver, and
+none of the Linux developers sees anything but the specifications, which are
+the ultimate product of the reverse-engineering group.
+
+Software
+--------
+
+Since the release of the 2.6.17 kernel, the bcm43xx driver has been dstributed
+with the kernel source, and is prebuilt in most, if not all, distributions.
+There is, however, additional software that is required. Because the firmware
+used by the processor in the Broadcom chip is copyrighted, it is not possible
+for any third party to distribute it. Furthermore, it cannot be placed in the
+downloadable archives of any distributing organization; therefore, the user is
+responsible for obtaining the firmware and placing it in the appropriate location
+so that the driver can find it when initializing.
+
+To help with this process, the bcm43xx developers provide a separate program
+named bcm43xx-fwcutter to &quot;cut&quot; the firmware out of a Windows or OS X driver
+and write the extracted files to the proper location. This program is usually
+provided with the distribution; however, it may be downloaded from
+
+<A HREF="http://developer.berlios.de/project/showfiles.php?group_id=4547.">http://developer.berlios.de/project/showfiles.php?group_id=4547.</A>
+
+The firmware is available in two versions. V3 firmware is used with the in-kernel
+bcm43xx driver that uses a software MAC layer called SoftMAC, and will have a
+microcode revision of 0x127 or smaller. The V4 firmware is used by an out-of-kernel
+driver employing a variation of the devicescape MAC layer known as d80211. Once
+bcm43xx-d80211 reaches a satisfactory level of development, it will replace
+bcm43xx-softmac in the kernel as it is much more flexible and powerful.
+
+A source for rev 0x127 (V3) firmware is
+
+<A HREF="http://downloads.openwrt.org/sources/wl_apsta-3.130.20.0.o.">http://downloads.openwrt.org/sources/wl_apsta-3.130.20.0.o.</A>
+
+Once this file is downloaded, the command 'bcm43xx-fwcutter -i &lt;filename&gt;' will list
+the &quot;blobs&quot; of microcode in the file. The command 'bcm43xx-fwcutter -w &lt;dir&gt; &lt;filename&gt;'
+will extract the microcode and write it to directory &lt;dir&gt;. The correct directory
+will depend on your distribution; however, most use '/lib/firmware'. Once this
+step is completed, the bcm3xx driver should load when the system is booted. To see
+any messages relating to the driver, issue the command 'dmesg | grep bcm43xx' from
+a terminal window. If there are any problems, please send that output to
<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">+Bcm43xx-dev at lists.berlios.de.</A>
+
+Although the driver has been in-kernel since 2.6.17, the earlier versions are quite
+limited in their capability. Patches for each of the stable kernel versions from
+2.6.18 onward are available to include all features of later versions. These will
+be needed if you use a BCM4318, or a PCI-E version (BCM4311 and BCM4312). In addition,
+if you have an early BCM4306 and more than 1 GB RAM, your kernel will need to be
+patched. These patches, which are being updated regularly, are available at
+<A HREF="ftp://lwfinger.dynalias.org/patches.">ftp://lwfinger.dynalias.org/patches.</A> Look for &lt;kernel version&gt;_combined_patch. Of
+course you will need kernel source, either downloaded from kernel.org, or the source
+from your distribution.

-3)	Firmware Files

-	Please try fwcutter. Fwcutter can extract the firmware from various
-	binary driver files. It supports driver files from Windows, MacOS and
-	Linux. You can get fwcutter from <A HREF="http://bcm43xx.berlios.de/.">http://bcm43xx.berlios.de/.</A>
-	Also, fwcutter comes with a README file for further instructions.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000377.html">Patch to fix set_channelfreq
</A></li>
	<LI>Next message: <A HREF="000390.html">RFC: a new version of bcm43xx.txt
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#389">[ date ]</a>
              <a href="thread.html#389">[ thread ]</a>
              <a href="subject.html#389">[ subject ]</a>
              <a href="author.html#389">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">More information about the Bcm43xx-dev
mailing list</a><br>
</body></html>
