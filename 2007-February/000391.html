<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> RFC: a new version of bcm43xx.txt
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2007-February/index.html" >
   <LINK REL="made" HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20RFC%3A%20a%20new%20version%20of%20bcm43xx.txt&In-Reply-To=%3C1170903019.2866.19.camel%40dv%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000390.html">
   <LINK REL="Next"  HREF="000393.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>RFC: a new version of bcm43xx.txt</H1>
    <B>Pavel Roskin</B> 
    <A HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20RFC%3A%20a%20new%20version%20of%20bcm43xx.txt&In-Reply-To=%3C1170903019.2866.19.camel%40dv%3E"
       TITLE="RFC: a new version of bcm43xx.txt">proski at gnu.org
       </A><BR>
    <I>Thu Feb  8 03:50:19 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000390.html">RFC: a new version of bcm43xx.txt
</A></li>
        <LI>Next message: <A HREF="000393.html">RFC: a new version of bcm43xx.txt
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#391">[ date ]</a>
              <a href="thread.html#391">[ thread ]</a>
              <a href="subject.html#391">[ subject ]</a>
              <a href="author.html#391">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, 2007-02-07 at 19:49 -0600, Larry Finger wrote:

&gt;<i> +This driver has been developend using a clean-room technique that is described
</I>
developed

&gt;<i> +Since the release of the 2.6.17 kernel, the bcm43xx driver has been dstributed
</I>
distributed

Please make sure to spell check the final edition.

&gt;<i> +with the kernel source, and is prebuilt in most, if not all, distributions.
</I>&gt;<i> +There is, however, additional software that is required. Because the firmware
</I>&gt;<i> +used by the processor in the Broadcom chip is copyrighted, it is not possible
</I>&gt;<i> +for any third party to distribute it.
</I>
Strictly speaking, Linux is copyrighted too.  It would be better to
rephrase it to mention the specific restrictions, whatever they are.

&gt;<i>  Furthermore, it cannot be placed in the
</I>&gt;<i> +downloadable archives of any distributing organization; therefore, the user is
</I>&gt;<i> +responsible for obtaining the firmware and placing it in the appropriate location
</I>&gt;<i> +so that the driver can find it when initializing.
</I>
But how come it's on openwrt.org then?

&gt;<i> +To help with this process, the bcm43xx developers provide a separate program
</I>&gt;<i> +named bcm43xx-fwcutter to &quot;cut&quot; the firmware out of a Windows or OS X driver
</I>&gt;<i> +and write the extracted files to the proper location. This program is usually
</I>&gt;<i> +provided with the distribution; however, it may be downloaded from
</I>&gt;<i> +
</I>&gt;<i> +<A HREF="http://developer.berlios.de/project/showfiles.php?group_id=4547.">http://developer.berlios.de/project/showfiles.php?group_id=4547.</A>
</I>&gt;<i> +
</I>&gt;<i> +The firmware is available in two versions. V3 firmware is used with the in-kernel
</I>&gt;<i> +bcm43xx driver that uses a software MAC layer called SoftMAC, and will have a
</I>&gt;<i> +microcode revision of 0x127 or smaller. The V4 firmware is used by an out-of-kernel
</I>&gt;<i> +driver employing a variation of the devicescape MAC layer known as d80211. Once
</I>&gt;<i> +bcm43xx-d80211 reaches a satisfactory level of development, it will replace
</I>&gt;<i> +bcm43xx-softmac in the kernel as it is much more flexible and powerful.
</I>&gt;<i> +
</I>&gt;<i> +A source for rev 0x127 (V3) firmware is
</I>
I'm not sure why you are repeating this &quot;0x127&quot; over and over again.  It
seems a minor detail that even fwcutter docs don't mention.  The
important part is v3 vs v4.

&gt;<i> +<A HREF="http://downloads.openwrt.org/sources/wl_apsta-3.130.20.0.o.">http://downloads.openwrt.org/sources/wl_apsta-3.130.20.0.o.</A>
</I>&gt;<i> +
</I>&gt;<i> +Once this file is downloaded, the command 'bcm43xx-fwcutter -i &lt;filename&gt;' will list
</I>&gt;<i> +the &quot;blobs&quot; of microcode in the file. The command 'bcm43xx-fwcutter -w &lt;dir&gt; &lt;filename&gt;'
</I>&gt;<i> +will extract the microcode and write it to directory &lt;dir&gt;.
</I>
Sorry for a naive question.  How hard would is be to run fwcutter once,
zip the firmware and put it to the same directory on the same site?

&gt;<i>  The correct directory
</I>&gt;<i> +will depend on your distribution; however, most use '/lib/firmware'. Once this
</I>&gt;<i> +step is completed, the bcm3xx driver should load when the system is booted. To see
</I>&gt;<i> +any messages relating to the driver, issue the command 'dmesg | grep bcm43xx' from
</I>&gt;<i> +a terminal window. If there are any problems, please send that output to
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">+Bcm43xx-dev at lists.berlios.de.</A>
</I>&gt;<i> +
</I>&gt;<i> +Although the driver has been in-kernel since 2.6.17, the earlier versions are quite
</I>&gt;<i> +limited in their capability. Patches for each of the stable kernel versions from
</I>&gt;<i> +2.6.18 onward are available to include all features of later versions. These will
</I>&gt;<i> +be needed if you use a BCM4318, or a PCI-E version (BCM4311 and BCM4312). In addition,
</I>
I think PCIe is a preferred abbreviation.  Or maybe just write PCI
Express.

&gt;<i> +if you have an early BCM4306 and more than 1 GB RAM, your kernel will need to be
</I>&gt;<i> +patched. These patches, which are being updated regularly, are available at
</I>&gt;<i> +<A HREF="ftp://lwfinger.dynalias.org/patches.">ftp://lwfinger.dynalias.org/patches.</A> Look for &lt;kernel version&gt;_combined_patch. Of
</I>&gt;<i> +course you will need kernel source, either downloaded from kernel.org, or the source
</I>&gt;<i> +from your distribution.
</I>
Could you please rename those patches to add .diff ot .path to the
names?  Many editors would highlight the patches nicely if they are
maned like this.  Not to mention that files ending with a dot-number
could be mistaken for a manual page.

-- 
Regards,
Pavel Roskin


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000390.html">RFC: a new version of bcm43xx.txt
</A></li>
	<LI>Next message: <A HREF="000393.html">RFC: a new version of bcm43xx.txt
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#391">[ date ]</a>
              <a href="thread.html#391">[ thread ]</a>
              <a href="subject.html#391">[ subject ]</a>
              <a href="author.html#391">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">More information about the Bcm43xx-dev
mailing list</a><br>
</body></html>
