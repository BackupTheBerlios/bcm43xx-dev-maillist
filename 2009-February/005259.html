<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> I need some help stabaizing b43 for a 4306
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2009-February/index.html" >
   <LINK REL="made" HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20I%20need%20some%20help%20stabaizing%20b43%20for%20a%204306&In-Reply-To=%3C200902222158.21603.mb%40bu3sch.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005258.html">
   <LINK REL="Next"  HREF="005261.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>I need some help stabaizing b43 for a 4306</H1>
    <B>Michael Buesch</B> 
    <A HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20I%20need%20some%20help%20stabaizing%20b43%20for%20a%204306&In-Reply-To=%3C200902222158.21603.mb%40bu3sch.de%3E"
       TITLE="I need some help stabaizing b43 for a 4306">mb at bu3sch.de
       </A><BR>
    <I>Sun Feb 22 21:58:21 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="005258.html">I need some help stabaizing b43 for a 4306
</A></li>
        <LI>Next message: <A HREF="005261.html">I need some help stabaizing b43 for a 4306
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5259">[ date ]</a>
              <a href="thread.html#5259">[ thread ]</a>
              <a href="subject.html#5259">[ subject ]</a>
              <a href="author.html#5259">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sunday 22 February 2009 21:45:44 John Mountcastle wrote:
&gt;<i> 
</I>&gt;<i> Michael, configuring a new kernel was a real blast from the past. I haven't  done that in several years but I think I got it done. Funny thing, when I booted the debug kernel, the interface was rock solid for almost an hour, not one single error, then it went sour again. I switched on br43 debugging as you suggested, about half way through the capture. You can see the Tx-mit power messages start. About 60% into the capture I unloaded b43 (rmmod/insmod) and reloaded it in order to get the interface to come back up.
</I>&gt;<i> 
</I>&gt;<i> I hope you can tell me something about what if anything this capture tells us? Or, the net step in debuggging
</I>&gt;<i> 
</I>

&gt;<i> b43-phy1 debug: Current TX power output: 14.75 dBm, Desired TX power output: 15.0 dBm
</I>&gt;<i> b43-phy1 debug: Tuning TX-power to bbatt(5), rfatt(4), tx_control(0x30), tx_bias(0x00), tx_magn(0x00)
</I>
The first thing I notice, of course, is the very low TX power output of 15dBm.
Can you check iwconfig to check which TX power was selected?
It should write something like this:
wlan0     IEEE 802.11bg  ESSID:&quot;XXXX&quot;  
          Mode:Managed  Frequency:2.XXXX GHz  Access Point: XXXXXXXXX
          Bit Rate=XX Mb/s   Tx-Power=20 dBm  
          .....


So if there's a higher value than 15, please tell me so.
If the value is 15 there, too. Try manually setting the TX power:
 iwconfig wlan0 txpower 20

This might be a bug in the card's PROM or possibly the code reading it. I also have a card
where it incorrectly reads the TX power value (but it's 19dBm for me, so it doesn't matter that much for me...).


Besides that, please tell me exactly at which point in the log messages it starts to break.
That's essential information for me.

Also, moving to latest b43 development code might help, too. It has improved TX power
control code which might scale a bit better on your device.
You can do so by downloading compat-wireless: <A HREF="http://wireless.kernel.org/en/users/Download">http://wireless.kernel.org/en/users/Download</A>

-- 
Greetings, Michael.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005258.html">I need some help stabaizing b43 for a 4306
</A></li>
	<LI>Next message: <A HREF="005261.html">I need some help stabaizing b43 for a 4306
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5259">[ date ]</a>
              <a href="thread.html#5259">[ thread ]</a>
              <a href="subject.html#5259">[ subject ]</a>
              <a href="author.html#5259">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">More information about the Bcm43xx-dev
mailing list</a><br>
</body></html>
