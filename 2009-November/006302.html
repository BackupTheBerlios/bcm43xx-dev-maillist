<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> b43-phy0 ERROR: Fatal DMA error: 0x00000400
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2009-November/index.html" >
   <LINK REL="made" HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20b43-phy0%20ERROR%3A%20Fatal%20DMA%20error%3A%200x00000400&In-Reply-To=%3C4AFC7F48.9030004%40polymtl.ca%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006298.html">
   <LINK REL="Next"  HREF="006303.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>b43-phy0 ERROR: Fatal DMA error: 0x00000400</H1>
    <B>William Bourque</B> 
    <A HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20b43-phy0%20ERROR%3A%20Fatal%20DMA%20error%3A%200x00000400&In-Reply-To=%3C4AFC7F48.9030004%40polymtl.ca%3E"
       TITLE="b43-phy0 ERROR: Fatal DMA error: 0x00000400">william.bourque at polymtl.ca
       </A><BR>
    <I>Thu Nov 12 22:34:00 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="006298.html">b43-phy0 ERROR: Fatal DMA error: 0x00000400
</A></li>
        <LI>Next message: <A HREF="006303.html">b43-phy0 ERROR: Fatal DMA error: 0x00000400
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6302">[ date ]</a>
              <a href="thread.html#6302">[ thread ]</a>
              <a href="subject.html#6302">[ subject ]</a>
              <a href="author.html#6302">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Michael Buesch wrote:
&gt;<i> On Thursday 12 November 2009 20:32:32 William Bourque wrote:
</I>&gt;&gt;<i> Sorry for the late reply... I seem to have the exact same bug here. Do 
</I>&gt;&gt;<i> you need more people to run the diagnostic patch?
</I>&gt;<i> 
</I>&gt;<i> Well, it doesn't hurt.
</I>&gt;<i> 
</I>
Here we go.

I think we can observe the same problem :
[  109.273027] b43: Descr.  0: 0x10000000 0x930 0x26296020 0x80000000
[  109.273038] b43: Descr.  1: 0x0 0x930 0x26295020 0x80000000
[  109.273047] b43: Descr.  2: 0x0 0x930 0x26294020 0x80000000
...
This Decr. 0 seems weird to me.

Note : I'm using 4kb kernel stack and SLAB (just saying, if I read 
correctly the last few mails, you were suspecting something about this).

I will try with Michael's patch and see what it does. Ask me if you need 
to test something else.

- William



[   95.270306] b43 ssb0:0: firmware: requesting b43/ucode15.fw
[   95.286145] b43 ssb0:0: firmware: requesting b43/lp0initvals15.fw
[   95.297707] b43 ssb0:0: firmware: requesting b43/lp0bsinitvals15.fw
[   95.450299] b43-phy0: Loading firmware version 410.2160 (2007-05-26 
15:32:10)
[   95.452754] b43-phy0 debug: b2062: Using crystal tab entry 19200 kHz.
[  109.212708] b43-phy0 debug: Chip initialized
[  109.213037] b43-phy0 debug: 64-bit DMA initialized
[  109.213169] b43-phy0 debug: QoS enabled
[  109.253562] b43-phy0 debug: Wireless interface started
[  109.272964] b43-phy0 ERROR: Fatal DMA error: 0x00000400, 0x00000000, 
0x00000000, 0x00000000, 0x00000000, 0x00000000
[  109.272990] b43-phy0: Controller RESET (DMA error) ...
[  109.273017] b43: Dump of last 20 DMA descriptors
[  109.273027] b43: Descr.  0: 0x10000000 0x930 0x26296020 0x80000000
[  109.273038] b43: Descr.  1: 0x0 0x930 0x26295020 0x80000000
[  109.273047] b43: Descr.  2: 0x0 0x930 0x26294020 0x80000000
[  109.273057] b43: Descr.  3: 0x0 0x930 0x26293020 0x80000000
[  109.273067] b43: Descr.  4: 0x0 0x930 0x26292020 0x80000000
[  109.273077] b43: Descr.  5: 0x0 0x930 0x26291020 0x80000000
[  109.273086] b43: Descr.  6: 0x0 0x930 0x26290020 0x80000000
[  109.273096] b43: Descr.  7: 0x0 0x930 0x262B7020 0x80000000
[  109.273106] b43: Descr.  8: 0x0 0x930 0x262B6020 0x80000000
[  109.273115] b43: Descr.  9: 0x0 0x930 0x262B5020 0x80000000
[  109.273125] b43: Descr. 10: 0x0 0x930 0x262B4020 0x80000000
[  109.273135] b43: Descr. 11: 0x0 0x930 0x2628B020 0x80000000
[  109.273144] b43: Descr. 12: 0x0 0x930 0x2628A020 0x80000000
[  109.273154] b43: Descr. 13: 0x0 0x930 0x26289020 0x80000000
[  109.273164] b43: Descr. 14: 0x0 0x930 0x26288020 0x80000000
[  109.273174] b43: Descr. 15: 0x0 0x930 0x2622B020 0x80000000
[  109.273183] b43: Descr. 16: 0x0 0x930 0x2622A020 0x80000000
[  109.273193] b43: Descr. 17: 0x0 0x930 0x2627B020 0x80000000
[  109.273203] b43: Descr. 18: 0x0 0x930 0x2627A020 0x80000000
[  109.273212] b43: Descr. 19: 0x0 0x930 0x26255020 0x80000000
[  109.273230] b43-phy0 ERROR: Fatal DMA error: 0x00000400, 0x00000000, 
0x00000000, 0x00000000, 0x00000000, 0x00000000
[  109.273250] b43-phy0: Controller RESET (DMA error) ...
[  109.273279] b43-phy0 debug: Adding Interface type 2
[  109.273550] b43-phy0 debug: Wireless interface stopped
[  109.273562] b43-phy0 debug: DMA-64 rx_ring: Used slots 0/64, Failed 
frames 0/0 = 0.0%, Average tries 0.00
[  109.273634] b43-phy0 debug: DMA-64 tx_ring_AC_BK: Used slots 0/256, 
Failed frames 0/0 = 0.0%, Average tries 0.00
[  109.290240] b43-phy0 debug: DMA-64 tx_ring_AC_BE: Used slots 0/256, 
Failed frames 0/0 = 0.0%, Average tries 0.00
[  109.310088] b43-phy0 debug: DMA-64 tx_ring_AC_VI: Used slots 0/256, 
Failed frames 0/0 = 0.0%, Average tries 0.00
[  109.330240] b43-phy0 debug: DMA-64 tx_ring_AC_VO: Used slots 0/256, 
Failed frames 0/0 = 0.0%, Average tries 0.00
[  109.350234] b43-phy0 debug: DMA-64 tx_ring_mcast: Used slots 0/256, 
Failed frames 0/0 = 0.0%, Average tries 0.00
[  109.620178] b43-phy0: Loading firmware version 410.2160 (2007-05-26 
15:32:10)
[  109.622613] b43-phy0 debug: b2062: Using crystal tab entry 19200 kHz.
[  123.396317] b43-phy0 debug: Chip initialized
[  123.396632] b43-phy0 debug: 64-bit DMA initialized
[  123.396766] b43-phy0 debug: QoS enabled
[  123.431086] b43-phy0 debug: Wireless interface started
[  123.431098] b43-phy0: Controller restarted
[  123.450896] b43-phy0 ERROR: Fatal DMA error: 0x00000400, 0x00000000, 
0x00000000, 0x00000000, 0x00000000, 0x00000000


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006298.html">b43-phy0 ERROR: Fatal DMA error: 0x00000400
</A></li>
	<LI>Next message: <A HREF="006303.html">b43-phy0 ERROR: Fatal DMA error: 0x00000400
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6302">[ date ]</a>
              <a href="thread.html#6302">[ thread ]</a>
              <a href="subject.html#6302">[ subject ]</a>
              <a href="author.html#6302">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">More information about the Bcm43xx-dev
mailing list</a><br>
</body></html>
