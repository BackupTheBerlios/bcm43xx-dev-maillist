<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> 64-bit DMA problems with BCM4312 using b43
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2009-November/index.html" >
   <LINK REL="made" HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%2064-bit%20DMA%20problems%20with%20BCM4312%20using%20b43&In-Reply-To=%3C4AFD958E.1000303%40lwfinger.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006409.html">
   <LINK REL="Next"  HREF="006331.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>64-bit DMA problems with BCM4312 using b43</H1>
    <B>Larry Finger</B> 
    <A HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%2064-bit%20DMA%20problems%20with%20BCM4312%20using%20b43&In-Reply-To=%3C4AFD958E.1000303%40lwfinger.net%3E"
       TITLE="64-bit DMA problems with BCM4312 using b43">Larry.Finger at lwfinger.net
       </A><BR>
    <I>Fri Nov 13 18:21:18 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="006409.html">b43 kills my kernel
</A></li>
        <LI>Next message: <A HREF="006331.html">64-bit DMA problems with BCM4312 using b43
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6322">[ date ]</a>
              <a href="thread.html#6322">[ thread ]</a>
              <a href="subject.html#6322">[ subject ]</a>
              <a href="author.html#6322">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>A number of users are experiencing DMA descriptor or data errors using 64-bit
DMA with the Broadcom BCM4312 wireless device. After careful review and a
rewrite of the DMA code in the driver, we have not been able to fix the problem,
but we have determined the following:

(1) The problem is much more likely to occur on netbook systems. Several of the
developers have this card in regular notebook systems. None of us have the
problem. Several brand/model combinations are affected including Dell Inspiron
910 and Acer Aspire One A150. Linus has also reported the same symptoms with a
Core 2 ULV CPU. One of our devs questions if the deep-sleep support in the CPU
is a problem. It is also believed that affected systems have a Phoenix BIOS.

(2) If CONFIG_ACPI_PROCESSOR is not set on affected systems, the error rate is
much lower.

(3) When a DMA descriptor error occurs, a dump of the descriptors does not
reveal any obvious problems.

(4) Once the problem occurs, resetting of the device does not restore proper
operations. It is not a transient error.

Support for this device was not enabled in mainline until 2.6.32-rc2.

I do not know enough about either the ACPI or DMA code to begin debugging in
either of those regions. Any suggestions on debugging strategies, or links to
similar problems would be appreciated.

Thanks,

Larry


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006409.html">b43 kills my kernel
</A></li>
	<LI>Next message: <A HREF="006331.html">64-bit DMA problems with BCM4312 using b43
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6322">[ date ]</a>
              <a href="thread.html#6322">[ thread ]</a>
              <a href="subject.html#6322">[ subject ]</a>
              <a href="author.html#6322">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">More information about the Bcm43xx-dev
mailing list</a><br>
</body></html>
