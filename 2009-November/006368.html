<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> b43 fatal DMA errors
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2009-November/index.html" >
   <LINK REL="made" HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20b43%20fatal%20DMA%20errors&In-Reply-To=%3C20091116011040.2ef28890%40boulder.homenet%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006366.html">
   <LINK REL="Next"  HREF="006380.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>b43 fatal DMA errors</H1>
    <B>Chris Vine</B> 
    <A HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20b43%20fatal%20DMA%20errors&In-Reply-To=%3C20091116011040.2ef28890%40boulder.homenet%3E"
       TITLE="b43 fatal DMA errors">chris at cvine.freeserve.co.uk
       </A><BR>
    <I>Mon Nov 16 02:10:40 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="006366.html">[PATCH stable] b43: Fix DMA TX bounce buffer copying
</A></li>
        <LI>Next message: <A HREF="006380.html">PHY Transmission error and radio turned off with b43legacy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6368">[ date ]</a>
              <a href="thread.html#6368">[ thread ]</a>
              <a href="subject.html#6368">[ subject ]</a>
              <a href="author.html#6368">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sun, 15 Nov 2009 15:42:25 -0800 (PST)
Linus Torvalds &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">torvalds at linux-foundation.org</A>&gt; wrote:
&gt;<i> On Sun, 25 Oct 2009, Chris Vine wrote:
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; And Chris, just out of interest - does FORCE_PIO work for you too?
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Yes.
</I>&gt;<i> 
</I>&gt;<i> So I've been trying to debug this, but no real luck. The Broadcom
</I>&gt;<i> official driver seems to _load_ for me, but I can't seem to get it to
</I>&gt;<i> work or do anythign interesting. I didn't spend any real time on it,
</I>&gt;<i> though.
</I>
You need to blacklist (and unload) the ssb module as well as the b43
module to use the proprietary driver.  This tripped me up to begin with.
You also need to amend Kconfig in net/wireless by hand in order to
compile the lib80211 WEP/TKIP/CCMP encryption modules (make
config/menuconfig/xconfig will not offer this as an option).

&gt;<i> But PIO mode continues to work fine. So how about this kind of
</I>&gt;<i> &quot;fallback&quot; patch that just says &quot;if we see fatal DMA errors that we
</I>&gt;<i> don't understand, fall back to PIO&quot;. Makes sense to me, and makes the
</I>&gt;<i> driver work for me without any special hacks.
</I>
On using PIO, I have found that it works with WEP encryption but runs
into difficulties with WPA.

Chris

PS I am not a b43 developer.



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006366.html">[PATCH stable] b43: Fix DMA TX bounce buffer copying
</A></li>
	<LI>Next message: <A HREF="006380.html">PHY Transmission error and radio turned off with b43legacy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6368">[ date ]</a>
              <a href="thread.html#6368">[ thread ]</a>
              <a href="subject.html#6368">[ subject ]</a>
              <a href="author.html#6368">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">More information about the Bcm43xx-dev
mailing list</a><br>
</body></html>
