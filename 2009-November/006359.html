<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> b43-phy0 ERROR: Fatal DMA error: 0x00000400
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2009-November/index.html" >
   <LINK REL="made" HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20b43-phy0%20ERROR%3A%20Fatal%20DMA%20error%3A%200x00000400&In-Reply-To=%3C4AFF2440.3020008%40lwfinger.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006355.html">
   <LINK REL="Next"  HREF="006433.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>b43-phy0 ERROR: Fatal DMA error: 0x00000400</H1>
    <B>Larry Finger</B> 
    <A HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20b43-phy0%20ERROR%3A%20Fatal%20DMA%20error%3A%200x00000400&In-Reply-To=%3C4AFF2440.3020008%40lwfinger.net%3E"
       TITLE="b43-phy0 ERROR: Fatal DMA error: 0x00000400">Larry.Finger at lwfinger.net
       </A><BR>
    <I>Sat Nov 14 22:42:24 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="006355.html">b43-phy0 ERROR: Fatal DMA error: 0x00000400
</A></li>
        <LI>Next message: <A HREF="006433.html">Fatal DMA error problem with netbook and BCM4312
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6359">[ date ]</a>
              <a href="thread.html#6359">[ thread ]</a>
              <a href="subject.html#6359">[ subject ]</a>
              <a href="author.html#6359">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 11/14/2009 12:51 PM, William Bourque wrote:
&gt;<i> 
</I>&gt;<i> Ok, I tried with value of 150, 100 already and I'm recompiling to see 
</I>&gt;<i> the result with 175 and 125.
</I>&gt;<i> 
</I>&gt;<i> 150us seems to give me the best result. As with 200 I could use the 
</I>&gt;<i> wireless for several minutes and insert/remove the module. However it 
</I>&gt;<i> failed when I tried to transfert a big file at full speed over LAN.  So 
</I>&gt;<i> for some reason, low speed seems to work ok (althought I ad some PHY 
</I>&gt;<i> Transmission error, but I suppose it is not related).
</I>&gt;<i> 
</I>&gt;<i> 100us is worst than the unpatched code. The wireless fails as soon as I 
</I>&gt;<i> bring up the interface and the DMA errors then repeat at a very high 
</I>&gt;<i> rate. Then, when I try to remove the module, &quot;modprobe&quot; is having a very 
</I>&gt;<i> bad time. On fist try, it took around 3 minutes to be able    to remove 
</I>&gt;<i> the module and on the second ttry, the machine just hanged (couldn't see 
</I>&gt;<i> if there wasan oops or something).
</I>&gt;<i> In the mean time, I could tell that the DMA error where still pilling 
</I>&gt;<i> up, as the wireless LED was furiously flashing from red to blue (usual 
</I>&gt;<i> behavior on an error).
</I>&gt;<i> 
</I>&gt;<i> I'll try 175usec first, then 125usec to see if anything better happen 
</I>&gt;<i> but I doubt so... I think the patch just fixed a part of the problem, 
</I>&gt;<i> not the whole.
</I>
I'm beginning to believe that this patch fixes nothing. If it were valid, it
would work as soon as you got below some threshold and you wouldn't find 100
being worse than 150. I did learn (or relearn) that it makes a difference if wl
has been installed previously without an intervening power off.

I have started looking from a different angle. I have the MMIO trace for wl
after a cold boot, and a similar one for b43. There are many differences - the
current exercise is to find out what they are doing.

Larry

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006355.html">b43-phy0 ERROR: Fatal DMA error: 0x00000400
</A></li>
	<LI>Next message: <A HREF="006433.html">Fatal DMA error problem with netbook and BCM4312
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6359">[ date ]</a>
              <a href="thread.html#6359">[ thread ]</a>
              <a href="subject.html#6359">[ subject ]</a>
              <a href="author.html#6359">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">More information about the Bcm43xx-dev
mailing list</a><br>
</body></html>
