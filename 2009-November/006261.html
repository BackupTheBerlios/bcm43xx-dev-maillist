<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> PCMCIA BCM4311 SPROM Failed Write
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2009-November/index.html" >
   <LINK REL="made" HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20PCMCIA%20BCM4311%20SPROM%20Failed%20Write&In-Reply-To=%3C5bd2f7660911061246l277954fay4645399129fc74df%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006260.html">
   <LINK REL="Next"  HREF="006262.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>PCMCIA BCM4311 SPROM Failed Write</H1>
    <B>Nicholas Betcher</B> 
    <A HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20PCMCIA%20BCM4311%20SPROM%20Failed%20Write&In-Reply-To=%3C5bd2f7660911061246l277954fay4645399129fc74df%40mail.gmail.com%3E"
       TITLE="PCMCIA BCM4311 SPROM Failed Write">nbetcher at gmail.com
       </A><BR>
    <I>Fri Nov  6 21:46:59 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="006260.html">[PATCH] ssb-pcmcia: Fix 32bit register access in early bus scanning
</A></li>
        <LI>Next message: <A HREF="006262.html">PCMCIA BCM4311 SPROM Failed Write
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6261">[ date ]</a>
              <a href="thread.html#6261">[ thread ]</a>
              <a href="subject.html#6261">[ subject ]</a>
              <a href="author.html#6261">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,
I have followed the instructions on Linux Wireless on how to read, modify,
then write a new SPROM, however when I attempt to write the new SPROM on my
laptop it fails stating: &quot;ssb: SPROM write: Could not freeze devices. No
suspend support. Is CONFIG_PM enabled?&quot; I can say, without a question, that
CONFIG_PM is enabled, but alas this problem persists. If it is a
compatibility issue with this particular (internal) device, can I bypass
this somehow? e.g. disabling the device on start and still being able to
write the SPROM?

Hardware is as follows: (BCM is at the bottom)

00:00.0 RAM memory [0500]: nVidia Corporation C51 Host Bridge [10de:02f3]
(rev a2)
Subsystem: Hewlett-Packard Company Device [103c:30b7]
 Flags: bus master, 66MHz, fast devsel, latency 0
Capabilities: [44] HyperTransport: Slave or Primary Interface
 Capabilities: [e0] HyperTransport: MSI Mapping Enable+ Fixed-

00:00.1 RAM memory [0500]: nVidia Corporation C51 Memory Controller 0
[10de:02fa] (rev a2)
 Subsystem: Hewlett-Packard Company Presario V6133CL [103c:30b7]
Flags: 66MHz, fast devsel

00:00.2 RAM memory [0500]: nVidia Corporation C51 Memory Controller 1
[10de:02fe] (rev a2)
Subsystem: Hewlett-Packard Company Presario V6133CL [103c:30b7]
 Flags: 66MHz, fast devsel

00:00.3 RAM memory [0500]: nVidia Corporation C51 Memory Controller 5
[10de:02f8] (rev a2)
Subsystem: Hewlett-Packard Company Presario V6133CL [103c:30b7]
 Flags: 66MHz, fast devsel

00:00.4 RAM memory [0500]: nVidia Corporation C51 Memory Controller 4
[10de:02f9] (rev a2)
Subsystem: Hewlett-Packard Company Presario V6133CL [103c:30b7]
 Flags: bus master, 66MHz, fast devsel, latency 0

00:00.5 RAM memory [0500]: nVidia Corporation C51 Host Bridge [10de:02ff]
(rev a2)
 Subsystem: Hewlett-Packard Company Presario V6133CL [103c:30b7]
Flags: bus master, 66MHz, fast devsel, latency 0
 Capabilities: [44] #00 [00fe]
Capabilities: [fc] #00 [0000]

00:00.6 RAM memory [0500]: nVidia Corporation C51 Memory Controller 3
[10de:027f] (rev a2)
Subsystem: Hewlett-Packard Company Presario V6133CL [103c:30b7]
 Flags: 66MHz, fast devsel

00:00.7 RAM memory [0500]: nVidia Corporation C51 Memory Controller 2
[10de:027e] (rev a2)
Flags: 66MHz, fast devsel

00:02.0 PCI bridge [0604]: nVidia Corporation C51 PCI Express Bridge
[10de:02fc] (rev a1) (prog-if 00 [Normal decode])
Flags: bus master, fast devsel, latency 0
 Bus: primary=00, secondary=01, subordinate=01, sec-latency=0
I/O behind bridge: 00004000-00004fff
 Memory behind bridge: b4000000-b7ffffff
Prefetchable memory behind bridge: 00000000d0000000-00000000d01fffff
 Capabilities: [40] Subsystem: nVidia Corporation Device [10de:0000]
Capabilities: [48] Power Management version 2
 Capabilities: [50] MSI: Enable+ Count=1/2 Maskable- 64bit+
Capabilities: [60] HyperTransport: MSI Mapping Enable- Fixed-
 Capabilities: [80] Express Root Port (Slot+), MSI 00
Capabilities: [100] Virtual Channel &lt;?&gt;
 Kernel driver in use: pcieport-driver

00:03.0 PCI bridge [0604]: nVidia Corporation C51 PCI Express Bridge
[10de:02fd] (rev a1) (prog-if 00 [Normal decode])
 Flags: bus master, fast devsel, latency 0
Bus: primary=00, secondary=03, subordinate=03, sec-latency=0
 Memory behind bridge: b8000000-bbffffff
Capabilities: [40] Subsystem: nVidia Corporation Device [10de:0000]
 Capabilities: [48] Power Management version 2
Capabilities: [50] MSI: Enable+ Count=1/2 Maskable- 64bit+
 Capabilities: [60] HyperTransport: MSI Mapping Enable- Fixed-
Capabilities: [80] Express Root Port (Slot+), MSI 00
 Capabilities: [100] Virtual Channel &lt;?&gt;
Kernel driver in use: pcieport-driver

00:05.0 VGA compatible controller [0300]: nVidia Corporation C51 [GeForce Go
6100] [10de:0247] (rev a2) (prog-if 00 [VGA controller])
Subsystem: Hewlett-Packard Company Device [103c:30b7]
 Flags: bus master, 66MHz, fast devsel, latency 0, IRQ 10
Memory at b2000000 (32-bit, non-prefetchable) [size=16M]
 Memory at c0000000 (64-bit, prefetchable) [size=256M]
Memory at b1000000 (64-bit, non-prefetchable) [size=16M]
 [virtual] Expansion ROM at 40000000 [disabled] [size=128K]
Capabilities: [48] Power Management version 2
 Capabilities: [50] MSI: Enable- Count=1/1 Maskable- 64bit+

00:09.0 RAM memory [0500]: nVidia Corporation MCP51 Host Bridge [10de:0270]
(rev a2)
 Subsystem: Hewlett-Packard Company Presario V6133CL [103c:30b7]
Flags: bus master, 66MHz, fast devsel, latency 0
 Capabilities: [44] HyperTransport: Slave or Primary Interface
Capabilities: [e0] HyperTransport: MSI Mapping Enable+ Fixed-

00:0a.0 ISA bridge [0601]: nVidia Corporation MCP51 LPC Bridge [10de:0260]
(rev a3)
Subsystem: Hewlett-Packard Company Presario V6133CL [103c:30b7]
 Flags: bus master, 66MHz, fast devsel, latency 0
I/O ports at 1d00 [size=128]

00:0a.1 SMBus [0c05]: nVidia Corporation MCP51 SMBus [10de:0264] (rev a3)
Subsystem: Hewlett-Packard Company Presario V6133CL [103c:30b7]
 Flags: 66MHz, fast devsel, IRQ 10
I/O ports at 3040 [size=64]
I/O ports at 3000 [size=64]
 Capabilities: [44] Power Management version 2
Kernel driver in use: nForce2_smbus

00:0a.3 Co-processor [0b40]: nVidia Corporation MCP51 PMU [10de:0271] (rev
a3)
Subsystem: Hewlett-Packard Company Presario V6133CL [103c:30b7]
 Flags: bus master, 66MHz, fast devsel, latency 0, IRQ 11
Memory at b0040000 (32-bit, non-prefetchable) [size=256K]

00:0b.0 USB Controller [0c03]: nVidia Corporation MCP51 USB Controller
[10de:026d] (rev a3) (prog-if 10 [OHCI])
Subsystem: Hewlett-Packard Company Presario V6133CL [103c:30b7]
 Flags: bus master, 66MHz, fast devsel, latency 0, IRQ 22
Memory at b0004000 (32-bit, non-prefetchable) [size=4K]
 Capabilities: [44] Power Management version 2
Kernel driver in use: ohci_hcd

00:0b.1 USB Controller [0c03]: nVidia Corporation MCP51 USB Controller
[10de:026e] (rev a3) (prog-if 20 [EHCI])
Subsystem: Hewlett-Packard Company Presario V6133CL [103c:30b7]
 Flags: bus master, 66MHz, fast devsel, latency 0, IRQ 23
Memory at b0005000 (32-bit, non-prefetchable) [size=256]
 Capabilities: [44] Debug port: BAR=1 offset=0098
Capabilities: [80] Power Management version 2
 Kernel driver in use: ehci_hcd

00:0d.0 IDE interface [0101]: nVidia Corporation MCP51 IDE [10de:0265] (rev
f1) (prog-if 8a [Master SecP PriP])
 Subsystem: Hewlett-Packard Company Presario V6133CL [103c:30b7]
Flags: bus master, 66MHz, fast devsel, latency 0
 [virtual] Memory at 000001f0 (32-bit, non-prefetchable) [size=8]
[virtual] Memory at 000003f0 (type 3, non-prefetchable) [size=1]
 [virtual] Memory at 00000170 (32-bit, non-prefetchable) [size=8]
[virtual] Memory at 00000370 (type 3, non-prefetchable) [size=1]
 I/O ports at 3080 [size=16]
Capabilities: [44] Power Management version 2
 Kernel driver in use: pata_amd

00:0e.0 IDE interface [0101]: nVidia Corporation MCP51 Serial ATA Controller
[10de:0266] (rev f1) (prog-if 85 [Master SecO PriO])
 Subsystem: Hewlett-Packard Company Presario V6133CL [103c:30b7]
Flags: bus master, 66MHz, fast devsel, latency 0, IRQ 21
 I/O ports at 30b0 [size=8]
I/O ports at 30a4 [size=4]
I/O ports at 30a8 [size=8]
 I/O ports at 30a0 [size=4]
I/O ports at 3090 [size=16]
Memory at b0006000 (32-bit, non-prefetchable) [size=4K]
 Capabilities: [44] Power Management version 2
Capabilities: [b0] MSI: Enable- Count=1/4 Maskable- 64bit+
 Capabilities: [cc] HyperTransport: MSI Mapping Enable- Fixed+
Kernel driver in use: sata_nv

00:10.0 PCI bridge [0604]: nVidia Corporation MCP51 PCI Bridge [10de:026f]
(rev a2) (prog-if 01 [Subtractive decode])
Flags: bus master, 66MHz, fast devsel, latency 0
 Bus: primary=00, secondary=07, subordinate=07, sec-latency=0
Capabilities: [b8] Subsystem: Gammagraphx, Inc. (or missing ID) Device
[0000:0000]
 Capabilities: [8c] HyperTransport: MSI Mapping Enable- Fixed-

00:10.1 Audio device [0403]: nVidia Corporation MCP51 High Definition Audio
[10de:026c] (rev a2)
 Subsystem: Hewlett-Packard Company Presario V6133CL [103c:30b7]
Flags: bus master, 66MHz, fast devsel, latency 0, IRQ 18
 Memory at b0000000 (32-bit, non-prefetchable) [size=16K]
Capabilities: [44] Power Management version 2
 Capabilities: [50] MSI: Enable- Count=1/1 Maskable+ 64bit+
Capabilities: [6c] HyperTransport: MSI Mapping Enable- Fixed+
 Kernel driver in use: HDA Intel

00:14.0 Bridge [0680]: nVidia Corporation MCP51 Ethernet Controller
[10de:0269] (rev a3)
 Subsystem: Hewlett-Packard Company Presario V6133CL [103c:30b7]
Flags: bus master, 66MHz, fast devsel, latency 0, IRQ 20
 Memory at b0007000 (32-bit, non-prefetchable) [size=4K]
I/O ports at 30b8 [size=8]
 Capabilities: [44] Power Management version 2
Kernel driver in use: forcedeth

00:18.0 Host bridge [0600]: Advanced Micro Devices [AMD] K8
[Athlon64/Opteron] HyperTransport Technology Configuration [1022:1100]
Flags: fast devsel
 Capabilities: [80] HyperTransport: Host or Secondary Interface

00:18.1 Host bridge [0600]: Advanced Micro Devices [AMD] K8
[Athlon64/Opteron] Address Map [1022:1101]
 Flags: fast devsel

00:18.2 Host bridge [0600]: Advanced Micro Devices [AMD] K8
[Athlon64/Opteron] DRAM Controller [1022:1102]
 Flags: fast devsel

00:18.3 Host bridge [0600]: Advanced Micro Devices [AMD] K8
[Athlon64/Opteron] Miscellaneous Control [1022:1103]
 Flags: fast devsel
Capabilities: [f0] Secure device &lt;?&gt;
Kernel driver in use: k8temp

03:00.0 Network controller [0280]: Broadcom Corporation BCM4311 802.11b/g
WLAN [14e4:4311] (rev 02)
Subsystem: Hewlett-Packard Company BCM4311 802.11b/g Wireless LAN Controller
[103c:1374]
 Flags: bus master, fast devsel, latency 0, IRQ 19
Memory at b8000000 (64-bit, non-prefetchable) [size=16K]
 Capabilities: [40] Power Management version 3
Capabilities: [58] Vendor Specific Information &lt;?&gt;
 Capabilities: [e8] MSI: Enable- Count=1/1 Maskable- 64bit+
Capabilities: [d0] Express Endpoint, MSI 00
 Capabilities: [100] Advanced Error Reporting
Capabilities: [13c] Virtual Channel &lt;?&gt;
 Capabilities: [160] Device Serial Number 83-d5-73-ff-ff-b6-00-1a
Capabilities: [16c] Power Budgeting &lt;?&gt;
 Kernel driver in use: b43-pci-bridge


Sincerely,
Nick Betcher, CPhT
Certified Pharmacy Technician
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/bcm43xx-dev/attachments/20091106/85c4f1f9/attachment.html">https://lists.berlios.de/pipermail/bcm43xx-dev/attachments/20091106/85c4f1f9/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006260.html">[PATCH] ssb-pcmcia: Fix 32bit register access in early bus scanning
</A></li>
	<LI>Next message: <A HREF="006262.html">PCMCIA BCM4311 SPROM Failed Write
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6261">[ date ]</a>
              <a href="thread.html#6261">[ thread ]</a>
              <a href="subject.html#6261">[ subject ]</a>
              <a href="author.html#6261">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">More information about the Bcm43xx-dev
mailing list</a><br>
</body></html>
