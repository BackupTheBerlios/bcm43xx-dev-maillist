<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> b43 kills my kernel
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/bcm43xx-dev/2009-November/index.html" >
   <LINK REL="made" HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20b43%20kills%20my%20kernel&In-Reply-To=%3C200911142045.30243.mb%40bu3sch.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006354.html">
   <LINK REL="Next"  HREF="006357.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>b43 kills my kernel</H1>
    <B>Michael Buesch</B> 
    <A HREF="mailto:bcm43xx-dev%40lists.berlios.de?Subject=Re%3A%20b43%20kills%20my%20kernel&In-Reply-To=%3C200911142045.30243.mb%40bu3sch.de%3E"
       TITLE="b43 kills my kernel">mb at bu3sch.de
       </A><BR>
    <I>Sat Nov 14 20:45:28 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="006354.html">b43 kills my kernel
</A></li>
        <LI>Next message: <A HREF="006357.html">b43 kills my kernel
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6356">[ date ]</a>
              <a href="thread.html#6356">[ thread ]</a>
              <a href="subject.html#6356">[ subject ]</a>
              <a href="author.html#6356">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Saturday 14 November 2009 12:24:24 Oncaphillis wrote:
&gt;<i> On 11/13/2009 08:20 PM, Larry Finger wrote:
</I>&gt;<i> &gt; On 11/13/2009 11:46 AM, Oncaphillis wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt;    Thanks for the tip. But it still hangs
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; We still need to know where it hangs. If you boot to console mode (type a 3 on
</I>&gt;<i> &gt; the option line in GRUB), does it boot? If it does not, what is the last line
</I>&gt;<i> &gt; shown on the console? If your distro shows a splash screen while booting, get
</I>&gt;<i> &gt; rid of it by typing an ESC after booting starts, or eliminate the
</I>&gt;<i> &gt; &quot;splash=silent&quot; option on the boot line.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; If the previous boot works, log into your usual account. That should still work.
</I>&gt;<i> &gt; Next you should type the command startx and immediately press the keys
</I>&gt;<i> &gt; CRTL-ALT-F10. That is hold the CTRL and ALT keys while pressing the F10 key. The
</I>&gt;<i> &gt; display should shift to the log console. When the computer freezes, report what
</I>&gt;<i> &gt; you see on the screen. It will not scroll, nor can you save it. Write it down by
</I>&gt;<i> &gt; hand or take a picture.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Report what happens. If some of these steps don't work on your computer, please
</I>&gt;<i> &gt; tell what distro you are using.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Larry
</I>&gt;<i> &gt;
</I>&gt;<i>   So now I've stripped down the kernel quite a lot and added as many
</I>&gt;<i> debug options that seem to make sense to me. No ACPI at all and no
</I>&gt;<i> network device driver except for b43, including low eneregy optins,
</I>&gt;<i> and PIO mode. If I leave out the b43 driver the kernel boots just
</I>&gt;<i> fine. If I include it I get the following on the screen:
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i>    <A HREF="http://oncaphillis.net/IMG_0214.JPG">http://oncaphillis.net/IMG_0214.JPG</A>
</I>&gt;<i> 
</I>&gt;<i> So it seems to me it doesn't even reach the loading of p43.ko
</I>&gt;<i> but gets stuck in the cfg80211 layer.
</I>
Well, there's a TSC message after that, which is completely unrelated to cfg80211.
It could possibly be sleeping in the CRDA call and executes the TSC stuff in
parallel (given that the TSC message is only a few microseconds later).
I don't really know how parallelization is done here (if any).

&gt;<i> Any further hints how to proceed in debugging this.
</I>
Do you have cfg80211/mac80211 built-in or as modules? The TSC message after
the cfg80211 message might indicate that it's built-in.

It's basically impossible to tell what's going on here. You could do a git bisection
to track down the bad commit.


-- 
Greetings, Michael.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006354.html">b43 kills my kernel
</A></li>
	<LI>Next message: <A HREF="006357.html">b43 kills my kernel
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6356">[ date ]</a>
              <a href="thread.html#6356">[ thread ]</a>
              <a href="subject.html#6356">[ subject ]</a>
              <a href="author.html#6356">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/bcm43xx-dev">More information about the Bcm43xx-dev
mailing list</a><br>
</body></html>
